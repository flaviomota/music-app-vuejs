const aD=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};aD();function uy(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const uD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cD=uy(uD);function nS(e){return!!e||e===""}function va(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=qt(r)?hD(r):va(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(qt(e))return e;if(xt(e))return e}}const lD=/;(?![^(]*\))/g,fD=/:(.+)/;function hD(e){const t={};return e.split(lD).forEach(n=>{if(n){const r=n.split(fD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rn(e){let t="";if(qt(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const r=Rn(e[n]);r&&(t+=r+" ")}else if(xt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function dD(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Dh(e[r],t[r]);return n}function Dh(e,t){if(e===t)return!0;let n=BI(e),r=BI(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=pc(e),r=pc(t),n||r)return e===t;if(n=ke(e),r=ke(t),n||r)return n&&r?dD(e,t):!1;if(n=xt(e),r=xt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const c=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(c&&!f||!c&&f||!Dh(e[u],t[u]))return!1}}return String(e)===String(t)}function pD(e,t){return e.findIndex(n=>Dh(n,t))}const _t=e=>qt(e)?e:e==null?"":ke(e)||xt(e)&&(e.toString===oS||!Me(e.toString))?JSON.stringify(e,rS,2):String(e),rS=(e,t)=>t&&t.__v_isRef?rS(e,t.value):da(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Fh(t)?{[`Set(${t.size})`]:[...t.values()]}:xt(t)&&!ke(t)&&!sS(t)?String(t):t,ht={},ha=[],Or=()=>{},mD=()=>!1,gD=/^on[^a-z]/,Lh=e=>gD.test(e),cy=e=>e.startsWith("onUpdate:"),fn=Object.assign,ly=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},vD=Object.prototype.hasOwnProperty,Qe=(e,t)=>vD.call(e,t),ke=Array.isArray,da=e=>$c(e)==="[object Map]",Fh=e=>$c(e)==="[object Set]",BI=e=>$c(e)==="[object Date]",Me=e=>typeof e=="function",qt=e=>typeof e=="string",pc=e=>typeof e=="symbol",xt=e=>e!==null&&typeof e=="object",iS=e=>xt(e)&&Me(e.then)&&Me(e.catch),oS=Object.prototype.toString,$c=e=>oS.call(e),yD=e=>$c(e).slice(8,-1),sS=e=>$c(e)==="[object Object]",fy=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mf=uy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_D=/-(\w)/g,ni=Mh(e=>e.replace(_D,(t,n)=>n?n.toUpperCase():"")),bD=/\B([A-Z])/g,Ha=Mh(e=>e.replace(bD,"-$1").toLowerCase()),Vh=Mh(e=>e.charAt(0).toUpperCase()+e.slice(1)),pg=Mh(e=>e?`on${Vh(e)}`:""),mc=(e,t)=>!Object.is(e,t),Vf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Yf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},hy=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $I;const wD=()=>$I||($I=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Gr;class aS{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Gr&&(this.parent=Gr,this.index=(Gr.scopes||(Gr.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Gr;try{return Gr=this,t()}finally{Gr=n}}}on(){Gr=this}off(){Gr=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function uS(e){return new aS(e)}function ID(e,t=Gr){t&&t.active&&t.effects.push(e)}const dy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},cS=e=>(e.w&so)>0,lS=e=>(e.n&so)>0,TD=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=so},ED=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];cS(o)&&!lS(o)?o.delete(e):t[n++]=o,o.w&=~so,o.n&=~so}t.length=n}},zg=new WeakMap;let zu=0,so=1;const Yg=30;let Cr;const ts=Symbol(""),Xg=Symbol("");class py{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ID(this,r)}run(){if(!this.active)return this.fn();let t=Cr,n=to;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Cr,Cr=this,to=!0,so=1<<++zu,zu<=Yg?TD(this):qI(this),this.fn()}finally{zu<=Yg&&ED(this),so=1<<--zu,Cr=this.parent,to=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Cr===this?this.deferStop=!0:this.active&&(qI(this),this.onStop&&this.onStop(),this.active=!1)}}function qI(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let to=!0;const fS=[];function ys(){fS.push(to),to=!1}function _s(){const e=fS.pop();to=e===void 0?!0:e}function sr(e,t,n){if(to&&Cr){let r=zg.get(e);r||zg.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=dy()),hS(o)}}function hS(e,t){let n=!1;zu<=Yg?lS(e)||(e.n|=so,n=!cS(e)):n=!e.has(Cr),n&&(e.add(Cr),Cr.deps.push(e))}function wi(e,t,n,r,o,s){const u=zg.get(e);if(!u)return;let c=[];if(t==="clear")c=[...u.values()];else if(n==="length"&&ke(e))u.forEach((f,d)=>{(d==="length"||d>=r)&&c.push(f)});else switch(n!==void 0&&c.push(u.get(n)),t){case"add":ke(e)?fy(n)&&c.push(u.get("length")):(c.push(u.get(ts)),da(e)&&c.push(u.get(Xg)));break;case"delete":ke(e)||(c.push(u.get(ts)),da(e)&&c.push(u.get(Xg)));break;case"set":da(e)&&c.push(u.get(ts));break}if(c.length===1)c[0]&&Qg(c[0]);else{const f=[];for(const d of c)d&&f.push(...d);Qg(dy(f))}}function Qg(e,t){const n=ke(e)?e:[...e];for(const r of n)r.computed&&HI(r);for(const r of n)r.computed||HI(r)}function HI(e,t){(e!==Cr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const SD=uy("__proto__,__v_isRef,__isVue"),dS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pc)),AD=my(),kD=my(!1,!0),CD=my(!0),KI=ND();function ND(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Je(this);for(let s=0,u=this.length;s<u;s++)sr(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ys();const r=Je(this)[t].apply(this,n);return _s(),r}}),e}function my(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?KD:yS:t?vS:gS).get(r))return r;const u=ke(r);if(!e&&u&&Qe(KI,o))return Reflect.get(KI,o,s);const c=Reflect.get(r,o,s);return(pc(o)?dS.has(o):SD(o))||(e||sr(r,"get",o),t)?c:dt(c)?u&&fy(o)?c:c.value:xt(c)?e?_S(c):Ti(c):c}}const OD=pS(),xD=pS(!0);function pS(e=!1){return function(n,r,o,s){let u=n[r];if(gc(u)&&dt(u)&&!dt(o))return!1;if(!e&&!gc(o)&&(Jg(o)||(o=Je(o),u=Je(u)),!ke(n)&&dt(u)&&!dt(o)))return u.value=o,!0;const c=ke(n)&&fy(r)?Number(r)<n.length:Qe(n,r),f=Reflect.set(n,r,o,s);return n===Je(s)&&(c?mc(o,u)&&wi(n,"set",r,o):wi(n,"add",r,o)),f}}function RD(e,t){const n=Qe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&wi(e,"delete",t,void 0),r}function PD(e,t){const n=Reflect.has(e,t);return(!pc(t)||!dS.has(t))&&sr(e,"has",t),n}function DD(e){return sr(e,"iterate",ke(e)?"length":ts),Reflect.ownKeys(e)}const mS={get:AD,set:OD,deleteProperty:RD,has:PD,ownKeys:DD},LD={get:CD,set(e,t){return!0},deleteProperty(e,t){return!0}},FD=fn({},mS,{get:kD,set:xD}),gy=e=>e,Uh=e=>Reflect.getPrototypeOf(e);function gf(e,t,n=!1,r=!1){e=e.__v_raw;const o=Je(e),s=Je(t);n||(t!==s&&sr(o,"get",t),sr(o,"get",s));const{has:u}=Uh(o),c=r?gy:n?_y:vc;if(u.call(o,t))return c(e.get(t));if(u.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function vf(e,t=!1){const n=this.__v_raw,r=Je(n),o=Je(e);return t||(e!==o&&sr(r,"has",e),sr(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function yf(e,t=!1){return e=e.__v_raw,!t&&sr(Je(e),"iterate",ts),Reflect.get(e,"size",e)}function WI(e){e=Je(e);const t=Je(this);return Uh(t).has.call(t,e)||(t.add(e),wi(t,"add",e,e)),this}function GI(e,t){t=Je(t);const n=Je(this),{has:r,get:o}=Uh(n);let s=r.call(n,e);s||(e=Je(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?mc(t,u)&&wi(n,"set",e,t):wi(n,"add",e,t),this}function zI(e){const t=Je(this),{has:n,get:r}=Uh(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&wi(t,"delete",e,void 0),s}function YI(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&wi(e,"clear",void 0,void 0),n}function _f(e,t){return function(r,o){const s=this,u=s.__v_raw,c=Je(u),f=t?gy:e?_y:vc;return!e&&sr(c,"iterate",ts),u.forEach((d,g)=>r.call(o,f(d),f(g),s))}}function bf(e,t,n){return function(...r){const o=this.__v_raw,s=Je(o),u=da(s),c=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,d=o[e](...r),g=n?gy:t?_y:vc;return!t&&sr(s,"iterate",f?Xg:ts),{next(){const{value:h,done:p}=d.next();return p?{value:h,done:p}:{value:c?[g(h[0]),g(h[1])]:g(h),done:p}},[Symbol.iterator](){return this}}}}function Fi(e){return function(...t){return e==="delete"?!1:this}}function MD(){const e={get(s){return gf(this,s)},get size(){return yf(this)},has:vf,add:WI,set:GI,delete:zI,clear:YI,forEach:_f(!1,!1)},t={get(s){return gf(this,s,!1,!0)},get size(){return yf(this)},has:vf,add:WI,set:GI,delete:zI,clear:YI,forEach:_f(!1,!0)},n={get(s){return gf(this,s,!0)},get size(){return yf(this,!0)},has(s){return vf.call(this,s,!0)},add:Fi("add"),set:Fi("set"),delete:Fi("delete"),clear:Fi("clear"),forEach:_f(!0,!1)},r={get(s){return gf(this,s,!0,!0)},get size(){return yf(this,!0)},has(s){return vf.call(this,s,!0)},add:Fi("add"),set:Fi("set"),delete:Fi("delete"),clear:Fi("clear"),forEach:_f(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=bf(s,!1,!1),n[s]=bf(s,!0,!1),t[s]=bf(s,!1,!0),r[s]=bf(s,!0,!0)}),[e,n,t,r]}const[VD,UD,jD,BD]=MD();function vy(e,t){const n=t?e?BD:jD:e?UD:VD;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Qe(n,o)&&o in r?n:r,o,s)}const $D={get:vy(!1,!1)},qD={get:vy(!1,!0)},HD={get:vy(!0,!1)},gS=new WeakMap,vS=new WeakMap,yS=new WeakMap,KD=new WeakMap;function WD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function GD(e){return e.__v_skip||!Object.isExtensible(e)?0:WD(yD(e))}function Ti(e){return gc(e)?e:yy(e,!1,mS,$D,gS)}function zD(e){return yy(e,!1,FD,qD,vS)}function _S(e){return yy(e,!0,LD,HD,yS)}function yy(e,t,n,r,o){if(!xt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=GD(e);if(u===0)return e;const c=new Proxy(e,u===2?r:n);return o.set(e,c),c}function no(e){return gc(e)?no(e.__v_raw):!!(e&&e.__v_isReactive)}function gc(e){return!!(e&&e.__v_isReadonly)}function Jg(e){return!!(e&&e.__v_isShallow)}function bS(e){return no(e)||gc(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function as(e){return Yf(e,"__v_skip",!0),e}const vc=e=>xt(e)?Ti(e):e,_y=e=>xt(e)?_S(e):e;function wS(e){to&&Cr&&(e=Je(e),hS(e.dep||(e.dep=dy())))}function IS(e,t){e=Je(e),e.dep&&Qg(e.dep)}function dt(e){return!!(e&&e.__v_isRef===!0)}function Jt(e){return TS(e,!1)}function YD(e){return TS(e,!0)}function TS(e,t){return dt(e)?e:new XD(e,t)}class XD{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:vc(t)}get value(){return wS(this),this._value}set value(t){t=this.__v_isShallow?t:Je(t),mc(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:vc(t),IS(this))}}function pe(e){return dt(e)?e.value:e}const QD={get:(e,t,n)=>pe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return dt(o)&&!dt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function ES(e){return no(e)?e:new Proxy(e,QD)}function JD(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=Qr(e,n);return t}class ZD{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Qr(e,t,n){const r=e[t];return dt(r)?r:new ZD(e,t,n)}class eL{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new py(t,()=>{this._dirty||(this._dirty=!0,IS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Je(this);return wS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function tL(e,t,n=!1){let r,o;const s=Me(e);return s?(r=e,o=Or):(r=e.get,o=e.set),new eL(r,o,s||!o,n)}const Ju=[];function SS(e,...t){ys();const n=Ju.length?Ju[Ju.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=nL();if(r)gi(r,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:s})=>`at <${nA(n,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...rL(o)),console.warn(...s)}_s()}function nL(){let e=Ju[Ju.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function rL(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...iL(n))}),t}function iL({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${nA(e.component,e.type,r)}`,s=">"+n;return e.props?[o,...oL(e.props),s]:[o+s]}function oL(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...AS(r,e[r]))}),n.length>3&&t.push(" ..."),t}function AS(e,t,n){return qt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:dt(t)?(t=AS(e,Je(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Me(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Je(t),n?t:[`${e}=`,t])}function gi(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){jh(s,t,n)}return o}function vr(e,t,n,r){if(Me(e)){const s=gi(e,t,n,r);return s&&iS(s)&&s.catch(u=>{jh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(vr(e[s],t,n,r));return o}function jh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,c=n;for(;s;){const d=s.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,c)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){gi(f,null,10,[e,u,c]);return}}sL(e,n,o,r)}function sL(e,t,n,r=!0){console.error(e)}let Xf=!1,Zg=!1;const er=[];let di=0;const Zu=[];let Yu=null,ra=0;const ec=[];let Wi=null,ia=0;const kS=Promise.resolve();let by=null,ev=null;function eo(e){const t=by||kS;return e?t.then(this?e.bind(this):e):t}function aL(e){let t=di+1,n=er.length;for(;t<n;){const r=t+n>>>1;yc(er[r])<e?t=r+1:n=r}return t}function CS(e){(!er.length||!er.includes(e,Xf&&e.allowRecurse?di+1:di))&&e!==ev&&(e.id==null?er.push(e):er.splice(aL(e.id),0,e),NS())}function NS(){!Xf&&!Zg&&(Zg=!0,by=kS.then(RS))}function uL(e){const t=er.indexOf(e);t>di&&er.splice(t,1)}function OS(e,t,n,r){ke(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),NS()}function cL(e){OS(e,Yu,Zu,ra)}function lL(e){OS(e,Wi,ec,ia)}function Bh(e,t=null){if(Zu.length){for(ev=t,Yu=[...new Set(Zu)],Zu.length=0,ra=0;ra<Yu.length;ra++)Yu[ra]();Yu=null,ra=0,ev=null,Bh(e,t)}}function xS(e){if(Bh(),ec.length){const t=[...new Set(ec)];if(ec.length=0,Wi){Wi.push(...t);return}for(Wi=t,Wi.sort((n,r)=>yc(n)-yc(r)),ia=0;ia<Wi.length;ia++)Wi[ia]();Wi=null,ia=0}}const yc=e=>e.id==null?1/0:e.id;function RS(e){Zg=!1,Xf=!0,Bh(e),er.sort((n,r)=>yc(n)-yc(r));const t=Or;try{for(di=0;di<er.length;di++){const n=er[di];n&&n.active!==!1&&gi(n,null,14)}}finally{di=0,er.length=0,xS(),Xf=!1,by=null,(er.length||Zu.length||ec.length)&&RS(e)}}function fL(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ht;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:p}=r[g]||ht;p&&(o=n.map(y=>y.trim())),h&&(o=n.map(hy))}let c,f=r[c=pg(t)]||r[c=pg(ni(t))];!f&&s&&(f=r[c=pg(Ha(t))]),f&&vr(f,e,6,o);const d=r[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,vr(d,e,6,o)}}function PS(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},c=!1;if(!Me(e)){const f=d=>{const g=PS(d,t,!0);g&&(c=!0,fn(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!c?(r.set(e,null),null):(ke(s)?s.forEach(f=>u[f]=null):fn(u,s),r.set(e,u),u)}function $h(e,t){return!e||!Lh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,Ha(t))||Qe(e,t))}let pr=null,DS=null;function Qf(e){const t=pr;return pr=e,DS=e&&e.type.__scopeId||null,t}function Pn(e,t=pr,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&sT(-1);const s=Qf(t),u=e(...o);return Qf(s),r._d&&sT(1),u};return r._n=!0,r._c=!0,r._d=!0,r}function mg(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:c,attrs:f,emit:d,render:g,renderCache:h,data:p,setupState:y,ctx:b,inheritAttrs:T}=e;let E,I;const C=Qf(e);try{if(n.shapeFlag&4){const k=o||r;E=Yr(g.call(k,k,h,s,y,p,b)),I=f}else{const k=t;E=Yr(k.length>1?k(s,{attrs:f,slots:c,emit:d}):k(s,null)),I=t.props?f:hL(f)}}catch(k){tc.length=0,jh(k,e,1),E=Se(xr)}let N=E;if(I&&T!==!1){const k=Object.keys(I),{shapeFlag:j}=N;k.length&&j&7&&(u&&k.some(cy)&&(I=dL(I,u)),N=ao(N,I))}return n.dirs&&(N=ao(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),E=N,Qf(C),E}const hL=e=>{let t;for(const n in e)(n==="class"||n==="style"||Lh(n))&&((t||(t={}))[n]=e[n]);return t},dL=(e,t)=>{const n={};for(const r in e)(!cy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function pL(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:c,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?XI(r,u,d):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const p=g[h];if(u[p]!==r[p]&&!$h(d,p))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===u?!1:r?u?XI(r,u,d):!0:!!u;return!1}function XI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!$h(n,s))return!0}return!1}function mL({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const gL=e=>e.__isSuspense;function vL(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):lL(e)}function pa(e,t){if(Zt){let n=Zt.provides;const r=Zt.parent&&Zt.parent.provides;r===n&&(n=Zt.provides=Object.create(r)),n[e]=t}}function yr(e,t,n=!1){const r=Zt||pr;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Me(t)?t.call(r.proxy):t}}function yL(e,t){return wy(e,null,t)}const QI={};function un(e,t,n){return wy(e,t,n)}function wy(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=ht){const c=Zt;let f,d=!1,g=!1;if(dt(e)?(f=()=>e.value,d=Jg(e)):no(e)?(f=()=>e,r=!0):ke(e)?(g=!0,d=e.some(I=>no(I)||Jg(I)),f=()=>e.map(I=>{if(dt(I))return I.value;if(no(I))return Xo(I);if(Me(I))return gi(I,c,2)})):Me(e)?t?f=()=>gi(e,c,2):f=()=>{if(!(c&&c.isUnmounted))return h&&h(),vr(e,c,3,[p])}:f=Or,t&&r){const I=f;f=()=>Xo(I())}let h,p=I=>{h=E.onStop=()=>{gi(I,c,4)}};if(wc)return p=Or,t?n&&vr(t,c,3,[f(),g?[]:void 0,p]):f(),Or;let y=g?[]:QI;const b=()=>{if(!!E.active)if(t){const I=E.run();(r||d||(g?I.some((C,N)=>mc(C,y[N])):mc(I,y)))&&(h&&h(),vr(t,c,3,[I,y===QI?void 0:y,p]),y=I)}else E.run()};b.allowRecurse=!!t;let T;o==="sync"?T=b:o==="post"?T=()=>$n(b,c&&c.suspense):T=()=>cL(b);const E=new py(f,T);return t?n?b():y=E.run():o==="post"?$n(E.run.bind(E),c&&c.suspense):E.run(),()=>{E.stop(),c&&c.scope&&ly(c.scope.effects,E)}}function _L(e,t,n){const r=this.proxy,o=qt(e)?e.includes(".")?LS(r,e):()=>r[e]:e.bind(r,r);let s;Me(t)?s=t:(s=t.handler,n=t);const u=Zt;_a(this);const c=wy(o,s.bind(r),n);return u?_a(u):ns(),c}function LS(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Xo(e,t){if(!xt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),dt(e))Xo(e.value,t);else if(ke(e))for(let n=0;n<e.length;n++)Xo(e[n],t);else if(Fh(e)||da(e))e.forEach(n=>{Xo(n,t)});else if(sS(e))for(const n in e)Xo(e[n],t);return e}function bL(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qc(()=>{e.isMounted=!0}),Kh(()=>{e.isUnmounting=!0}),e}const dr=[Function,Array],wL={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:dr,onEnter:dr,onAfterEnter:dr,onEnterCancelled:dr,onBeforeLeave:dr,onLeave:dr,onAfterLeave:dr,onLeaveCancelled:dr,onBeforeAppear:dr,onAppear:dr,onAfterAppear:dr,onAppearCancelled:dr},setup(e,{slots:t}){const n=ri(),r=bL();let o;return()=>{const s=t.default&&VS(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const T of s)if(T.type!==xr){u=T;break}}const c=Je(e),{mode:f}=c;if(r.isLeaving)return gg(u);const d=JI(u);if(!d)return gg(u);const g=tv(d,c,r,n);nv(d,g);const h=n.subTree,p=h&&JI(h);let y=!1;const{getTransitionKey:b}=d.type;if(b){const T=b();o===void 0?o=T:T!==o&&(o=T,y=!0)}if(p&&p.type!==xr&&(!Go(d,p)||y)){const T=tv(p,c,r,n);if(nv(p,T),f==="out-in")return r.isLeaving=!0,T.afterLeave=()=>{r.isLeaving=!1,n.update()},gg(u);f==="in-out"&&d.type!==xr&&(T.delayLeave=(E,I,C)=>{const N=MS(r,p);N[String(p.key)]=p,E._leaveCb=()=>{I(),E._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=C})}return u}}},FS=wL;function MS(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function tv(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:h,onLeave:p,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:T,onAppear:E,onAfterAppear:I,onAppearCancelled:C}=t,N=String(e.key),k=MS(n,e),j=($,z)=>{$&&vr($,r,9,z)},M=($,z)=>{const P=z[1];j($,z),ke($)?$.every(me=>me.length<=1)&&P():$.length<=1&&P()},q={mode:s,persisted:u,beforeEnter($){let z=c;if(!n.isMounted)if(o)z=T||c;else return;$._leaveCb&&$._leaveCb(!0);const P=k[N];P&&Go(e,P)&&P.el._leaveCb&&P.el._leaveCb(),j(z,[$])},enter($){let z=f,P=d,me=g;if(!n.isMounted)if(o)z=E||f,P=I||d,me=C||g;else return;let ne=!1;const Ne=$._enterCb=Oe=>{ne||(ne=!0,Oe?j(me,[$]):j(P,[$]),q.delayedLeave&&q.delayedLeave(),$._enterCb=void 0)};z?M(z,[$,Ne]):Ne()},leave($,z){const P=String(e.key);if($._enterCb&&$._enterCb(!0),n.isUnmounting)return z();j(h,[$]);let me=!1;const ne=$._leaveCb=Ne=>{me||(me=!0,z(),Ne?j(b,[$]):j(y,[$]),$._leaveCb=void 0,k[P]===e&&delete k[P])};k[P]=e,p?M(p,[$,ne]):ne()},clone($){return tv($,t,n,r)}};return q}function gg(e){if(qh(e))return e=ao(e),e.children=null,e}function JI(e){return qh(e)?e.children?e.children[0]:void 0:e}function nv(e,t){e.shapeFlag&6&&e.component?nv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function VS(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const c=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Ft?(u.patchFlag&128&&o++,r=r.concat(VS(u.children,t,c))):(t||u.type!==xr)&&r.push(c!=null?ao(u,{key:c}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Ka(e){return Me(e)?{setup:e,name:e.name}:e}const Uf=e=>!!e.type.__asyncLoader,qh=e=>e.type.__isKeepAlive;function IL(e,t){US(e,"a",t)}function TL(e,t){US(e,"da",t)}function US(e,t,n=Zt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Hh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)qh(o.parent.vnode)&&EL(r,t,n,o),o=o.parent}}function EL(e,t,n,r){const o=Hh(t,e,r,!0);Wh(()=>{ly(r[t],o)},n)}function Hh(e,t,n=Zt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;ys(),_a(n);const c=vr(t,n,e,u);return ns(),_s(),c});return r?o.unshift(s):o.push(s),s}}const Ei=e=>(t,n=Zt)=>(!wc||e==="sp")&&Hh(e,t,n),SL=Ei("bm"),qc=Ei("m"),AL=Ei("bu"),kL=Ei("u"),Kh=Ei("bum"),Wh=Ei("um"),CL=Ei("sp"),NL=Ei("rtg"),OL=Ei("rtc");function xL(e,t=Zt){Hh("ec",e,t)}function Jf(e,t){const n=pr;if(n===null)return e;const r=Yh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,c,f,d=ht]=t[s];Me(u)&&(u={mounted:u,updated:u}),u.deep&&Xo(c),o.push({dir:u,instance:r,value:c,oldValue:void 0,arg:f,modifiers:d})}return e}function Uo(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const c=o[u];s&&(c.oldValue=s[u].value);let f=c.dir[r];f&&(ys(),vr(f,n,8,[e.el,c,e,t]),_s())}}const Iy="components",RL="directives";function St(e,t){return Ty(Iy,e,!0,t)||e}const jS=Symbol();function Gh(e){return qt(e)?Ty(Iy,e,!1)||e:e||jS}function PL(e){return Ty(RL,e)}function Ty(e,t,n=!0,r=!1){const o=pr||Zt;if(o){const s=o.type;if(e===Iy){const c=tA(s,!1);if(c&&(c===t||c===ni(t)||c===Vh(ni(t))))return s}const u=ZI(o[e]||s[e],t)||ZI(o.appContext[e],t);return!u&&r?s:u}}function ZI(e,t){return e&&(e[t]||e[ni(t)]||e[Vh(ni(t))])}function Hc(e,t,n,r){let o;const s=n&&n[r];if(ke(e)||qt(e)){o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(xt(e))if(e[Symbol.iterator])o=Array.from(e,(u,c)=>t(u,c,void 0,s&&s[c]));else{const u=Object.keys(e);o=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const d=u[c];o[c]=t(e[d],d,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}const rv=e=>e?ZS(e)?Yh(e)||e.proxy:rv(e.parent):null,Zf=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rv(e.parent),$root:e=>rv(e.root),$emit:e=>e.emit,$options:e=>$S(e),$forceUpdate:e=>e.f||(e.f=()=>CS(e.update)),$nextTick:e=>e.n||(e.n=eo.bind(e.proxy)),$watch:e=>_L.bind(e)}),DL={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:c,appContext:f}=e;let d;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(r!==ht&&Qe(r,t))return u[t]=1,r[t];if(o!==ht&&Qe(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&Qe(d,t))return u[t]=3,s[t];if(n!==ht&&Qe(n,t))return u[t]=4,n[t];iv&&(u[t]=0)}}const g=Zf[t];let h,p;if(g)return t==="$attrs"&&sr(e,"get",t),g(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==ht&&Qe(n,t))return u[t]=4,n[t];if(p=f.config.globalProperties,Qe(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return o!==ht&&Qe(o,t)?(o[t]=n,!0):r!==ht&&Qe(r,t)?(r[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let c;return!!n[u]||e!==ht&&Qe(e,u)||t!==ht&&Qe(t,u)||(c=s[0])&&Qe(c,u)||Qe(r,u)||Qe(Zf,u)||Qe(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let iv=!0;function LL(e){const t=$S(e),n=e.proxy,r=e.ctx;iv=!1,t.beforeCreate&&eT(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:c,provide:f,inject:d,created:g,beforeMount:h,mounted:p,beforeUpdate:y,updated:b,activated:T,deactivated:E,beforeDestroy:I,beforeUnmount:C,destroyed:N,unmounted:k,render:j,renderTracked:M,renderTriggered:q,errorCaptured:$,serverPrefetch:z,expose:P,inheritAttrs:me,components:ne,directives:Ne,filters:Oe}=t;if(d&&FL(d,r,null,e.appContext.config.unwrapInjectedRef),u)for(const De in u){const Te=u[De];Me(Te)&&(r[De]=Te.bind(n))}if(o){const De=o.call(n,n);xt(De)&&(e.data=Ti(De))}if(iv=!0,s)for(const De in s){const Te=s[De],rt=Me(Te)?Te.bind(n,n):Me(Te.get)?Te.get.bind(n,n):Or,bt=!Me(Te)&&Me(Te.set)?Te.set.bind(n):Or,pt=Ge({get:rt,set:bt});Object.defineProperty(r,De,{enumerable:!0,configurable:!0,get:()=>pt.value,set:Ct=>pt.value=Ct})}if(c)for(const De in c)BS(c[De],r,n,De);if(f){const De=Me(f)?f.call(n):f;Reflect.ownKeys(De).forEach(Te=>{pa(Te,De[Te])})}g&&eT(g,e,"c");function xe(De,Te){ke(Te)?Te.forEach(rt=>De(rt.bind(n))):Te&&De(Te.bind(n))}if(xe(SL,h),xe(qc,p),xe(AL,y),xe(kL,b),xe(IL,T),xe(TL,E),xe(xL,$),xe(OL,M),xe(NL,q),xe(Kh,C),xe(Wh,k),xe(CL,z),ke(P))if(P.length){const De=e.exposed||(e.exposed={});P.forEach(Te=>{Object.defineProperty(De,Te,{get:()=>n[Te],set:rt=>n[Te]=rt})})}else e.exposed||(e.exposed={});j&&e.render===Or&&(e.render=j),me!=null&&(e.inheritAttrs=me),ne&&(e.components=ne),Ne&&(e.directives=Ne)}function FL(e,t,n=Or,r=!1){ke(e)&&(e=ov(e));for(const o in e){const s=e[o];let u;xt(s)?"default"in s?u=yr(s.from||o,s.default,!0):u=yr(s.from||o):u=yr(s),dt(u)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:c=>u.value=c}):t[o]=u}}function eT(e,t,n){vr(ke(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function BS(e,t,n,r){const o=r.includes(".")?LS(n,r):()=>n[r];if(qt(e)){const s=t[e];Me(s)&&un(o,s)}else if(Me(e))un(o,e.bind(n));else if(xt(e))if(ke(e))e.forEach(s=>BS(s,t,n,r));else{const s=Me(e.handler)?e.handler.bind(n):t[e.handler];Me(s)&&un(o,s,e)}}function $S(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,c=s.get(t);let f;return c?f=c:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>eh(f,d,u,!0)),eh(f,t,u)),s.set(t,f),f}function eh(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&eh(e,s,n,!0),o&&o.forEach(u=>eh(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const c=ML[u]||n&&n[u];e[u]=c?c(e[u],t[u]):t[u]}return e}const ML={data:tT,props:Ho,emits:Ho,methods:Ho,computed:Ho,beforeCreate:An,created:An,beforeMount:An,mounted:An,beforeUpdate:An,updated:An,beforeDestroy:An,beforeUnmount:An,destroyed:An,unmounted:An,activated:An,deactivated:An,errorCaptured:An,serverPrefetch:An,components:Ho,directives:Ho,watch:UL,provide:tT,inject:VL};function tT(e,t){return t?e?function(){return fn(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function VL(e,t){return Ho(ov(e),ov(t))}function ov(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function An(e,t){return e?[...new Set([].concat(e,t))]:t}function Ho(e,t){return e?fn(fn(Object.create(null),e),t):t}function UL(e,t){if(!e)return t;if(!t)return e;const n=fn(Object.create(null),e);for(const r in t)n[r]=An(e[r],t[r]);return n}function jL(e,t,n,r=!1){const o={},s={};Yf(s,zh,1),e.propsDefaults=Object.create(null),qS(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:zD(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function BL(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,c=Je(o),[f]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let p=g[h];if($h(e.emitsOptions,p))continue;const y=t[p];if(f)if(Qe(s,p))y!==s[p]&&(s[p]=y,d=!0);else{const b=ni(p);o[b]=sv(f,c,b,y,e,!1)}else y!==s[p]&&(s[p]=y,d=!0)}}}else{qS(e,t,o,s)&&(d=!0);let g;for(const h in c)(!t||!Qe(t,h)&&((g=Ha(h))===h||!Qe(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=sv(f,c,h,void 0,e,!0)):delete o[h]);if(s!==c)for(const h in s)(!t||!Qe(t,h)&&!0)&&(delete s[h],d=!0)}d&&wi(e,"set","$attrs")}function qS(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,c;if(t)for(let f in t){if(Mf(f))continue;const d=t[f];let g;o&&Qe(o,g=ni(f))?!s||!s.includes(g)?n[g]=d:(c||(c={}))[g]=d:$h(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,u=!0)}if(s){const f=Je(n),d=c||ht;for(let g=0;g<s.length;g++){const h=s[g];n[h]=sv(o,f,h,d[h],e,!Qe(d,h))}}return u}function sv(e,t,n,r,o,s){const u=e[n];if(u!=null){const c=Qe(u,"default");if(c&&r===void 0){const f=u.default;if(u.type!==Function&&Me(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(_a(o),r=d[n]=f.call(null,t),ns())}else r=f}u[0]&&(s&&!c?r=!1:u[1]&&(r===""||r===Ha(n))&&(r=!0))}return r}function HS(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},c=[];let f=!1;if(!Me(e)){const g=h=>{f=!0;const[p,y]=HS(h,t,!0);fn(u,p),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return r.set(e,ha),ha;if(ke(s))for(let g=0;g<s.length;g++){const h=ni(s[g]);nT(h)&&(u[h]=ht)}else if(s)for(const g in s){const h=ni(g);if(nT(h)){const p=s[g],y=u[h]=ke(p)||Me(p)?{type:p}:p;if(y){const b=oT(Boolean,y.type),T=oT(String,y.type);y[0]=b>-1,y[1]=T<0||b<T,(b>-1||Qe(y,"default"))&&c.push(h)}}}const d=[u,c];return r.set(e,d),d}function nT(e){return e[0]!=="$"}function rT(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function iT(e,t){return rT(e)===rT(t)}function oT(e,t){return ke(t)?t.findIndex(n=>iT(n,e)):Me(t)&&iT(t,e)?0:-1}const KS=e=>e[0]==="_"||e==="$stable",Ey=e=>ke(e)?e.map(Yr):[Yr(e)],$L=(e,t,n)=>{if(t._n)return t;const r=Pn((...o)=>Ey(t(...o)),n);return r._c=!1,r},WS=(e,t,n)=>{const r=e._ctx;for(const o in e){if(KS(o))continue;const s=e[o];if(Me(s))t[o]=$L(o,s,r);else if(s!=null){const u=Ey(s);t[o]=()=>u}}},GS=(e,t)=>{const n=Ey(t);e.slots.default=()=>n},qL=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),Yf(t,"_",n)):WS(t,e.slots={})}else e.slots={},t&&GS(e,t);Yf(e.slots,zh,1)},HL=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=ht;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(fn(o,t),!n&&c===1&&delete o._):(s=!t.$stable,WS(t,o)),u=t}else t&&(GS(e,t),u={default:1});if(s)for(const c in o)!KS(c)&&!(c in u)&&delete o[c]};function zS(){return{app:null,config:{isNativeTag:mD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KL=0;function WL(e,t){return function(r,o=null){Me(r)||(r=Object.assign({},r)),o!=null&&!xt(o)&&(o=null);const s=zS(),u=new Set;let c=!1;const f=s.app={_uid:KL++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:lF,get config(){return s.config},set config(d){},use(d,...g){return u.has(d)||(d&&Me(d.install)?(u.add(d),d.install(f,...g)):Me(d)&&(u.add(d),d(f,...g))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,g){return g?(s.components[d]=g,f):s.components[d]},directive(d,g){return g?(s.directives[d]=g,f):s.directives[d]},mount(d,g,h){if(!c){const p=Se(r,o);return p.appContext=s,g&&t?t(p,d):e(p,d,h),c=!0,f._container=d,d.__vue_app__=f,Yh(p.component)||p.component.proxy}},unmount(){c&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,g){return s.provides[d]=g,f}};return f}}function av(e,t,n,r,o=!1){if(ke(e)){e.forEach((p,y)=>av(p,t&&(ke(t)?t[y]:t),n,r,o));return}if(Uf(r)&&!o)return;const s=r.shapeFlag&4?Yh(r.component)||r.component.proxy:r.el,u=o?null:s,{i:c,r:f}=e,d=t&&t.r,g=c.refs===ht?c.refs={}:c.refs,h=c.setupState;if(d!=null&&d!==f&&(qt(d)?(g[d]=null,Qe(h,d)&&(h[d]=null)):dt(d)&&(d.value=null)),Me(f))gi(f,c,12,[u,g]);else{const p=qt(f),y=dt(f);if(p||y){const b=()=>{if(e.f){const T=p?g[f]:f.value;o?ke(T)&&ly(T,s):ke(T)?T.includes(s)||T.push(s):p?(g[f]=[s],Qe(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else p?(g[f]=u,Qe(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(g[e.k]=u))};u?(b.id=-1,$n(b,n)):b()}}}const $n=vL;function GL(e){return zL(e)}function zL(e,t){const n=wD();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:c,createComment:f,setText:d,setElementText:g,parentNode:h,nextSibling:p,setScopeId:y=Or,cloneNode:b,insertStaticContent:T}=e,E=(A,O,B,x=null,F=null,H=null,Q=!1,W=null,V=!!O.dynamicChildren)=>{if(A===O)return;A&&!Go(A,O)&&(x=ie(A),ue(A,F,H,!0),A=null),O.patchFlag===-2&&(V=!1,O.dynamicChildren=null);const{type:U,ref:le,shapeFlag:se}=O;switch(U){case _c:I(A,O,B,x);break;case xr:C(A,O,B,x);break;case vg:A==null&&N(O,B,x,Q);break;case Ft:Ne(A,O,B,x,F,H,Q,W,V);break;default:se&1?M(A,O,B,x,F,H,Q,W,V):se&6?Oe(A,O,B,x,F,H,Q,W,V):(se&64||se&128)&&U.process(A,O,B,x,F,H,Q,W,V,Ye)}le!=null&&F&&av(le,A&&A.ref,H,O||A,!O)},I=(A,O,B,x)=>{if(A==null)r(O.el=c(O.children),B,x);else{const F=O.el=A.el;O.children!==A.children&&d(F,O.children)}},C=(A,O,B,x)=>{A==null?r(O.el=f(O.children||""),B,x):O.el=A.el},N=(A,O,B,x)=>{[A.el,A.anchor]=T(A.children,O,B,x,A.el,A.anchor)},k=({el:A,anchor:O},B,x)=>{let F;for(;A&&A!==O;)F=p(A),r(A,B,x),A=F;r(O,B,x)},j=({el:A,anchor:O})=>{let B;for(;A&&A!==O;)B=p(A),o(A),A=B;o(O)},M=(A,O,B,x,F,H,Q,W,V)=>{Q=Q||O.type==="svg",A==null?q(O,B,x,F,H,Q,W,V):P(A,O,F,H,Q,W,V)},q=(A,O,B,x,F,H,Q,W)=>{let V,U;const{type:le,props:se,shapeFlag:de,transition:Ee,patchFlag:fe,dirs:Ze}=A;if(A.el&&b!==void 0&&fe===-1)V=A.el=b(A.el);else{if(V=A.el=u(A.type,H,se&&se.is,se),de&8?g(V,A.children):de&16&&z(A.children,V,null,x,F,H&&le!=="foreignObject",Q,W),Ze&&Uo(A,null,x,"created"),se){for(const at in se)at!=="value"&&!Mf(at)&&s(V,at,null,se[at],H,A.children,x,F,re);"value"in se&&s(V,"value",null,se.value),(U=se.onVnodeBeforeMount)&&Kr(U,x,A)}$(V,A,A.scopeId,Q,x)}Ze&&Uo(A,null,x,"beforeMount");const ze=(!F||F&&!F.pendingBranch)&&Ee&&!Ee.persisted;ze&&Ee.beforeEnter(V),r(V,O,B),((U=se&&se.onVnodeMounted)||ze||Ze)&&$n(()=>{U&&Kr(U,x,A),ze&&Ee.enter(V),Ze&&Uo(A,null,x,"mounted")},F)},$=(A,O,B,x,F)=>{if(B&&y(A,B),x)for(let H=0;H<x.length;H++)y(A,x[H]);if(F){let H=F.subTree;if(O===H){const Q=F.vnode;$(A,Q,Q.scopeId,Q.slotScopeIds,F.parent)}}},z=(A,O,B,x,F,H,Q,W,V=0)=>{for(let U=V;U<A.length;U++){const le=A[U]=W?Gi(A[U]):Yr(A[U]);E(null,le,O,B,x,F,H,Q,W)}},P=(A,O,B,x,F,H,Q)=>{const W=O.el=A.el;let{patchFlag:V,dynamicChildren:U,dirs:le}=O;V|=A.patchFlag&16;const se=A.props||ht,de=O.props||ht;let Ee;B&&jo(B,!1),(Ee=de.onVnodeBeforeUpdate)&&Kr(Ee,B,O,A),le&&Uo(O,A,B,"beforeUpdate"),B&&jo(B,!0);const fe=F&&O.type!=="foreignObject";if(U?me(A.dynamicChildren,U,W,B,x,fe,H):Q||rt(A,O,W,null,B,x,fe,H,!1),V>0){if(V&16)ne(W,O,se,de,B,x,F);else if(V&2&&se.class!==de.class&&s(W,"class",null,de.class,F),V&4&&s(W,"style",se.style,de.style,F),V&8){const Ze=O.dynamicProps;for(let ze=0;ze<Ze.length;ze++){const at=Ze[ze],Mn=se[at],mt=de[at];(mt!==Mn||at==="value")&&s(W,at,Mn,mt,F,A.children,B,x,re)}}V&1&&A.children!==O.children&&g(W,O.children)}else!Q&&U==null&&ne(W,O,se,de,B,x,F);((Ee=de.onVnodeUpdated)||le)&&$n(()=>{Ee&&Kr(Ee,B,O,A),le&&Uo(O,A,B,"updated")},x)},me=(A,O,B,x,F,H,Q)=>{for(let W=0;W<O.length;W++){const V=A[W],U=O[W],le=V.el&&(V.type===Ft||!Go(V,U)||V.shapeFlag&70)?h(V.el):B;E(V,U,le,null,x,F,H,Q,!0)}},ne=(A,O,B,x,F,H,Q)=>{if(B!==x){for(const W in x){if(Mf(W))continue;const V=x[W],U=B[W];V!==U&&W!=="value"&&s(A,W,U,V,Q,O.children,F,H,re)}if(B!==ht)for(const W in B)!Mf(W)&&!(W in x)&&s(A,W,B[W],null,Q,O.children,F,H,re);"value"in x&&s(A,"value",B.value,x.value)}},Ne=(A,O,B,x,F,H,Q,W,V)=>{const U=O.el=A?A.el:c(""),le=O.anchor=A?A.anchor:c("");let{patchFlag:se,dynamicChildren:de,slotScopeIds:Ee}=O;Ee&&(W=W?W.concat(Ee):Ee),A==null?(r(U,B,x),r(le,B,x),z(O.children,B,le,F,H,Q,W,V)):se>0&&se&64&&de&&A.dynamicChildren?(me(A.dynamicChildren,de,B,F,H,Q,W),(O.key!=null||F&&O===F.subTree)&&YS(A,O,!0)):rt(A,O,B,le,F,H,Q,W,V)},Oe=(A,O,B,x,F,H,Q,W,V)=>{O.slotScopeIds=W,A==null?O.shapeFlag&512?F.ctx.activate(O,B,x,Q,V):Pe(O,B,x,F,H,Q,V):xe(A,O,V)},Pe=(A,O,B,x,F,H,Q)=>{const W=A.component=nF(A,x,F);if(qh(A)&&(W.ctx.renderer=Ye),rF(W),W.asyncDep){if(F&&F.registerDep(W,De),!A.el){const V=W.subTree=Se(xr);C(null,V,O,B)}return}De(W,A,O,B,F,H,Q)},xe=(A,O,B)=>{const x=O.component=A.component;if(pL(A,O,B))if(x.asyncDep&&!x.asyncResolved){Te(x,O,B);return}else x.next=O,uL(x.update),x.update();else O.el=A.el,x.vnode=O},De=(A,O,B,x,F,H,Q)=>{const W=()=>{if(A.isMounted){let{next:le,bu:se,u:de,parent:Ee,vnode:fe}=A,Ze=le,ze;jo(A,!1),le?(le.el=fe.el,Te(A,le,Q)):le=fe,se&&Vf(se),(ze=le.props&&le.props.onVnodeBeforeUpdate)&&Kr(ze,Ee,le,fe),jo(A,!0);const at=mg(A),Mn=A.subTree;A.subTree=at,E(Mn,at,h(Mn.el),ie(Mn),A,F,H),le.el=at.el,Ze===null&&mL(A,at.el),de&&$n(de,F),(ze=le.props&&le.props.onVnodeUpdated)&&$n(()=>Kr(ze,Ee,le,fe),F)}else{let le;const{el:se,props:de}=O,{bm:Ee,m:fe,parent:Ze}=A,ze=Uf(O);if(jo(A,!1),Ee&&Vf(Ee),!ze&&(le=de&&de.onVnodeBeforeMount)&&Kr(le,Ze,O),jo(A,!0),se&&L){const at=()=>{A.subTree=mg(A),L(se,A.subTree,A,F,null)};ze?O.type.__asyncLoader().then(()=>!A.isUnmounted&&at()):at()}else{const at=A.subTree=mg(A);E(null,at,B,x,A,F,H),O.el=at.el}if(fe&&$n(fe,F),!ze&&(le=de&&de.onVnodeMounted)){const at=O;$n(()=>Kr(le,Ze,at),F)}(O.shapeFlag&256||Ze&&Uf(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&A.a&&$n(A.a,F),A.isMounted=!0,O=B=x=null}},V=A.effect=new py(W,()=>CS(U),A.scope),U=A.update=()=>V.run();U.id=A.uid,jo(A,!0),U()},Te=(A,O,B)=>{O.component=A;const x=A.vnode.props;A.vnode=O,A.next=null,BL(A,O.props,x,B),HL(A,O.children,B),ys(),Bh(void 0,A.update),_s()},rt=(A,O,B,x,F,H,Q,W,V=!1)=>{const U=A&&A.children,le=A?A.shapeFlag:0,se=O.children,{patchFlag:de,shapeFlag:Ee}=O;if(de>0){if(de&128){pt(U,se,B,x,F,H,Q,W,V);return}else if(de&256){bt(U,se,B,x,F,H,Q,W,V);return}}Ee&8?(le&16&&re(U,F,H),se!==U&&g(B,se)):le&16?Ee&16?pt(U,se,B,x,F,H,Q,W,V):re(U,F,H,!0):(le&8&&g(B,""),Ee&16&&z(se,B,x,F,H,Q,W,V))},bt=(A,O,B,x,F,H,Q,W,V)=>{A=A||ha,O=O||ha;const U=A.length,le=O.length,se=Math.min(U,le);let de;for(de=0;de<se;de++){const Ee=O[de]=V?Gi(O[de]):Yr(O[de]);E(A[de],Ee,B,null,F,H,Q,W,V)}U>le?re(A,F,H,!0,!1,se):z(O,B,x,F,H,Q,W,V,se)},pt=(A,O,B,x,F,H,Q,W,V)=>{let U=0;const le=O.length;let se=A.length-1,de=le-1;for(;U<=se&&U<=de;){const Ee=A[U],fe=O[U]=V?Gi(O[U]):Yr(O[U]);if(Go(Ee,fe))E(Ee,fe,B,null,F,H,Q,W,V);else break;U++}for(;U<=se&&U<=de;){const Ee=A[se],fe=O[de]=V?Gi(O[de]):Yr(O[de]);if(Go(Ee,fe))E(Ee,fe,B,null,F,H,Q,W,V);else break;se--,de--}if(U>se){if(U<=de){const Ee=de+1,fe=Ee<le?O[Ee].el:x;for(;U<=de;)E(null,O[U]=V?Gi(O[U]):Yr(O[U]),B,fe,F,H,Q,W,V),U++}}else if(U>de)for(;U<=se;)ue(A[U],F,H,!0),U++;else{const Ee=U,fe=U,Ze=new Map;for(U=fe;U<=de;U++){const dn=O[U]=V?Gi(O[U]):Yr(O[U]);dn.key!=null&&Ze.set(dn.key,U)}let ze,at=0;const Mn=de-fe+1;let mt=!1,nu=0;const zn=new Array(Mn);for(U=0;U<Mn;U++)zn[U]=0;for(U=Ee;U<=se;U++){const dn=A[U];if(at>=Mn){ue(dn,F,H,!0);continue}let vt;if(dn.key!=null)vt=Ze.get(dn.key);else for(ze=fe;ze<=de;ze++)if(zn[ze-fe]===0&&Go(dn,O[ze])){vt=ze;break}vt===void 0?ue(dn,F,H,!0):(zn[vt-fe]=U+1,vt>=nu?nu=vt:mt=!0,E(dn,O[vt],B,null,F,H,Q,W,V),at++)}const _r=mt?YL(zn):ha;for(ze=_r.length-1,U=Mn-1;U>=0;U--){const dn=fe+U,vt=O[dn],ru=dn+1<le?O[dn+1].el:x;zn[U]===0?E(null,vt,B,ru,F,H,Q,W,V):mt&&(ze<0||U!==_r[ze]?Ct(vt,B,ru,2):ze--)}}},Ct=(A,O,B,x,F=null)=>{const{el:H,type:Q,transition:W,children:V,shapeFlag:U}=A;if(U&6){Ct(A.component.subTree,O,B,x);return}if(U&128){A.suspense.move(O,B,x);return}if(U&64){Q.move(A,O,B,Ye);return}if(Q===Ft){r(H,O,B);for(let se=0;se<V.length;se++)Ct(V[se],O,B,x);r(A.anchor,O,B);return}if(Q===vg){k(A,O,B);return}if(x!==2&&U&1&&W)if(x===0)W.beforeEnter(H),r(H,O,B),$n(()=>W.enter(H),F);else{const{leave:se,delayLeave:de,afterLeave:Ee}=W,fe=()=>r(H,O,B),Ze=()=>{se(H,()=>{fe(),Ee&&Ee()})};de?de(H,fe,Ze):Ze()}else r(H,O,B)},ue=(A,O,B,x=!1,F=!1)=>{const{type:H,props:Q,ref:W,children:V,dynamicChildren:U,shapeFlag:le,patchFlag:se,dirs:de}=A;if(W!=null&&av(W,null,B,A,!0),le&256){O.ctx.deactivate(A);return}const Ee=le&1&&de,fe=!Uf(A);let Ze;if(fe&&(Ze=Q&&Q.onVnodeBeforeUnmount)&&Kr(Ze,O,A),le&6)ce(A.component,B,x);else{if(le&128){A.suspense.unmount(B,x);return}Ee&&Uo(A,null,O,"beforeUnmount"),le&64?A.type.remove(A,O,B,F,Ye,x):U&&(H!==Ft||se>0&&se&64)?re(U,O,B,!1,!0):(H===Ft&&se&384||!F&&le&16)&&re(V,O,B),x&&$e(A)}(fe&&(Ze=Q&&Q.onVnodeUnmounted)||Ee)&&$n(()=>{Ze&&Kr(Ze,O,A),Ee&&Uo(A,null,O,"unmounted")},B)},$e=A=>{const{type:O,el:B,anchor:x,transition:F}=A;if(O===Ft){Y(B,x);return}if(O===vg){j(A);return}const H=()=>{o(B),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(A.shapeFlag&1&&F&&!F.persisted){const{leave:Q,delayLeave:W}=F,V=()=>Q(B,H);W?W(A.el,H,V):V()}else H()},Y=(A,O)=>{let B;for(;A!==O;)B=p(A),o(A),A=B;o(O)},ce=(A,O,B)=>{const{bum:x,scope:F,update:H,subTree:Q,um:W}=A;x&&Vf(x),F.stop(),H&&(H.active=!1,ue(Q,A,O,B)),W&&$n(W,O),$n(()=>{A.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},re=(A,O,B,x=!1,F=!1,H=0)=>{for(let Q=H;Q<A.length;Q++)ue(A[Q],O,B,x,F)},ie=A=>A.shapeFlag&6?ie(A.component.subTree):A.shapeFlag&128?A.suspense.next():p(A.anchor||A.el),je=(A,O,B)=>{A==null?O._vnode&&ue(O._vnode,null,null,!0):E(O._vnode||null,A,O,null,null,null,B),xS(),O._vnode=A},Ye={p:E,um:ue,m:Ct,r:$e,mt:Pe,mc:z,pc:rt,pbc:me,n:ie,o:e};let D,L;return t&&([D,L]=t(Ye)),{render:je,hydrate:D,createApp:WL(je,D)}}function jo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function YS(e,t,n=!1){const r=e.children,o=t.children;if(ke(r)&&ke(o))for(let s=0;s<r.length;s++){const u=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=Gi(o[s]),c.el=u.el),n||YS(u,c))}}function YL(e){const t=e.slice(),n=[0];let r,o,s,u,c;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)c=s+u>>1,e[n[c]]<d?s=c+1:u=c;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const XL=e=>e.__isTeleport,Ft=Symbol(void 0),_c=Symbol(void 0),xr=Symbol(void 0),vg=Symbol(void 0),tc=[];let Nr=null;function We(e=!1){tc.push(Nr=e?null:[])}function QL(){tc.pop(),Nr=tc[tc.length-1]||null}let bc=1;function sT(e){bc+=e}function XS(e){return e.dynamicChildren=bc>0?Nr||ha:null,QL(),bc>0&&Nr&&Nr.push(e),e}function st(e,t,n,r,o,s){return XS(G(e,t,n,r,o,s,!0))}function us(e,t,n,r,o){return XS(Se(e,t,n,r,o,!0))}function uv(e){return e?e.__v_isVNode===!0:!1}function Go(e,t){return e.type===t.type&&e.key===t.key}const zh="__vInternal",QS=({key:e})=>e!=null?e:null,jf=({ref:e,ref_key:t,ref_for:n})=>e!=null?qt(e)||dt(e)||Me(e)?{i:pr,r:e,k:t,f:!!n}:e:null;function G(e,t=null,n=null,r=0,o=null,s=e===Ft?0:1,u=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&QS(t),ref:t&&jf(t),scopeId:DS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(Sy(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=qt(n)?8:16),bc>0&&!u&&Nr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Nr.push(f),f}const Se=JL;function JL(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===jS)&&(e=xr),uv(e)){const c=ao(e,t,!0);return n&&Sy(c,n),bc>0&&!s&&Nr&&(c.shapeFlag&6?Nr[Nr.indexOf(e)]=c:Nr.push(c)),c.patchFlag|=-2,c}if(cF(e)&&(e=e.__vccOpts),t){t=ZL(t);let{class:c,style:f}=t;c&&!qt(c)&&(t.class=Rn(c)),xt(f)&&(bS(f)&&!ke(f)&&(f=fn({},f)),t.style=va(f))}const u=qt(e)?1:gL(e)?128:XL(e)?64:xt(e)?4:Me(e)?2:0;return G(e,t,n,r,o,u,s,!0)}function ZL(e){return e?bS(e)||zh in e?fn({},e):e:null}function ao(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,c=t?JS(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&QS(c),ref:t&&t.ref?n&&o?ke(o)?o.concat(jf(t)):[o,jf(t)]:jf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ft?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ao(e.ssContent),ssFallback:e.ssFallback&&ao(e.ssFallback),el:e.el,anchor:e.anchor}}function uo(e=" ",t=0){return Se(_c,null,e,t)}function ya(e="",t=!1){return t?(We(),us(xr,null,e)):Se(xr,null,e)}function Yr(e){return e==null||typeof e=="boolean"?Se(xr):ke(e)?Se(Ft,null,e.slice()):typeof e=="object"?Gi(e):Se(_c,null,String(e))}function Gi(e){return e.el===null||e.memo?e:ao(e)}function Sy(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Sy(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(zh in t)?t._ctx=pr:o===3&&pr&&(pr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:pr},n=32):(t=String(t),r&64?(n=16,t=[uo(t)]):n=8);e.children=t,e.shapeFlag|=n}function JS(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Rn([t.class,r.class]));else if(o==="style")t.style=va([t.style,r.style]);else if(Lh(o)){const s=t[o],u=r[o];u&&s!==u&&!(ke(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Kr(e,t,n,r=null){vr(e,t,7,[n,r])}const eF=zS();let tF=0;function nF(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||eF,s={uid:tF++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new aS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:HS(r,o),emitsOptions:PS(r,o),emit:null,emitted:null,propsDefaults:ht,inheritAttrs:r.inheritAttrs,ctx:ht,data:ht,props:ht,attrs:ht,slots:ht,refs:ht,setupState:ht,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=fL.bind(null,s),e.ce&&e.ce(s),s}let Zt=null;const ri=()=>Zt||pr,_a=e=>{Zt=e,e.scope.on()},ns=()=>{Zt&&Zt.scope.off(),Zt=null};function ZS(e){return e.vnode.shapeFlag&4}let wc=!1;function rF(e,t=!1){wc=t;const{props:n,children:r}=e.vnode,o=ZS(e);jL(e,n,o,t),qL(e,r);const s=o?iF(e,t):void 0;return wc=!1,s}function iF(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=as(new Proxy(e.ctx,DL));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?sF(e):null;_a(e),ys();const s=gi(r,e,0,[e.props,o]);if(_s(),ns(),iS(s)){if(s.then(ns,ns),t)return s.then(u=>{aT(e,u,t)}).catch(u=>{jh(u,e,0)});e.asyncDep=s}else aT(e,s,t)}else eA(e,t)}function aT(e,t,n){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xt(t)&&(e.setupState=ES(t)),eA(e,n)}let uT;function eA(e,t,n){const r=e.type;if(!e.render){if(!t&&uT&&!r.render){const o=r.template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,d=fn(fn({isCustomElement:s,delimiters:c},u),f);r.render=uT(o,d)}}e.render=r.render||Or}_a(e),ys(),LL(e),_s(),ns()}function oF(e){return new Proxy(e.attrs,{get(t,n){return sr(e,"get","$attrs"),t[n]}})}function sF(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=oF(e))},slots:e.slots,emit:e.emit,expose:t}}function Yh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ES(as(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Zf)return Zf[n](e)}}))}const aF=/(?:^|[-_])(\w)/g,uF=e=>e.replace(aF,t=>t.toUpperCase()).replace(/[-_]/g,"");function tA(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function nA(e,t,n=!1){let r=tA(t);if(!r&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=s=>{for(const u in s)if(s[u]===t)return u};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?uF(r):n?"App":"Anonymous"}function cF(e){return Me(e)&&"__vccOpts"in e}const Ge=(e,t)=>tL(e,t,wc);function ir(e,t,n){const r=arguments.length;return r===2?xt(t)&&!ke(t)?uv(t)?Se(e,null,[t]):Se(e,t):Se(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&uv(n)&&(n=[n]),Se(e,t,n))}const lF="3.2.37",fF="http://www.w3.org/2000/svg",zo=typeof document<"u"?document:null,cT=zo&&zo.createElement("template"),hF={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?zo.createElementNS(fF,e):zo.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>zo.createTextNode(e),createComment:e=>zo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{cT.innerHTML=r?`<svg>${e}</svg>`:e;const c=cT.content;if(r){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function dF(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function pF(e,t,n){const r=e.style,o=qt(n);if(n&&!o){for(const s in n)cv(r,s,n[s]);if(t&&!qt(t))for(const s in t)n[s]==null&&cv(r,s,"")}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const lT=/\s*!important$/;function cv(e,t,n){if(ke(n))n.forEach(r=>cv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=mF(e,t);lT.test(n)?e.setProperty(Ha(r),n.replace(lT,""),"important"):e[r]=n}}const fT=["Webkit","Moz","ms"],yg={};function mF(e,t){const n=yg[t];if(n)return n;let r=ni(t);if(r!=="filter"&&r in e)return yg[t]=r;r=Vh(r);for(let o=0;o<fT.length;o++){const s=fT[o]+r;if(s in e)return yg[t]=s}return t}const hT="http://www.w3.org/1999/xlink";function gF(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(hT,t.slice(6,t.length)):e.setAttributeNS(hT,t,n);else{const s=cD(t);n==null||s&&!nS(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function vF(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n==null?"":n;(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=nS(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}const[rA,yF]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let lv=0;const _F=Promise.resolve(),bF=()=>{lv=0},wF=()=>lv||(_F.then(bF),lv=rA());function iA(e,t,n,r){e.addEventListener(t,n,r)}function IF(e,t,n,r){e.removeEventListener(t,n,r)}function TF(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[c,f]=EF(t);if(r){const d=s[t]=SF(r,o);iA(e,c,d,f)}else u&&(IF(e,c,u,f),s[t]=void 0)}}const dT=/(?:Once|Passive|Capture)$/;function EF(e){let t;if(dT.test(e)){t={};let n;for(;n=e.match(dT);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Ha(e.slice(2)),t]}function SF(e,t){const n=r=>{const o=r.timeStamp||rA();(yF||o>=n.attached-1)&&vr(AF(r,n.value),t,5,[r])};return n.value=e,n.attached=wF(),n}function AF(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const pT=/^on[a-z]/,kF=(e,t,n,r,o=!1,s,u,c,f)=>{t==="class"?dF(e,r,o):t==="style"?pF(e,n,r):Lh(t)?cy(t)||TF(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):CF(e,t,r,o))?vF(e,t,r,s,u,c,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),gF(e,t,r,o))};function CF(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&pT.test(t)&&Me(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||pT.test(t)&&qt(n)?!1:t in e}const Mi="transition",ju="animation",Ay=(e,{slots:t})=>ir(FS,NF(e),t);Ay.displayName="Transition";const oA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ay.props=fn({},FS.props,oA);const Bo=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},mT=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function NF(e){const t={};for(const ne in e)ne in oA||(t[ne]=e[ne]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=u,appearToClass:g=c,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,b=OF(o),T=b&&b[0],E=b&&b[1],{onBeforeEnter:I,onEnter:C,onEnterCancelled:N,onLeave:k,onLeaveCancelled:j,onBeforeAppear:M=I,onAppear:q=C,onAppearCancelled:$=N}=t,z=(ne,Ne,Oe)=>{$o(ne,Ne?g:c),$o(ne,Ne?d:u),Oe&&Oe()},P=(ne,Ne)=>{ne._isLeaving=!1,$o(ne,h),$o(ne,y),$o(ne,p),Ne&&Ne()},me=ne=>(Ne,Oe)=>{const Pe=ne?q:C,xe=()=>z(Ne,ne,Oe);Bo(Pe,[Ne,xe]),gT(()=>{$o(Ne,ne?f:s),Vi(Ne,ne?g:c),mT(Pe)||vT(Ne,r,T,xe)})};return fn(t,{onBeforeEnter(ne){Bo(I,[ne]),Vi(ne,s),Vi(ne,u)},onBeforeAppear(ne){Bo(M,[ne]),Vi(ne,f),Vi(ne,d)},onEnter:me(!1),onAppear:me(!0),onLeave(ne,Ne){ne._isLeaving=!0;const Oe=()=>P(ne,Ne);Vi(ne,h),PF(),Vi(ne,p),gT(()=>{!ne._isLeaving||($o(ne,h),Vi(ne,y),mT(k)||vT(ne,r,E,Oe))}),Bo(k,[ne,Oe])},onEnterCancelled(ne){z(ne,!1),Bo(N,[ne])},onAppearCancelled(ne){z(ne,!0),Bo($,[ne])},onLeaveCancelled(ne){P(ne),Bo(j,[ne])}})}function OF(e){if(e==null)return null;if(xt(e))return[_g(e.enter),_g(e.leave)];{const t=_g(e);return[t,t]}}function _g(e){return hy(e)}function Vi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function $o(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function gT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xF=0;function vT(e,t,n,r){const o=e._endId=++xF,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:c,propCount:f}=RF(e,t);if(!u)return r();const d=u+"end";let g=0;const h=()=>{e.removeEventListener(d,p),s()},p=y=>{y.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},c+1),e.addEventListener(d,p)}function RF(e,t){const n=window.getComputedStyle(e),r=b=>(n[b]||"").split(", "),o=r(Mi+"Delay"),s=r(Mi+"Duration"),u=yT(o,s),c=r(ju+"Delay"),f=r(ju+"Duration"),d=yT(c,f);let g=null,h=0,p=0;t===Mi?u>0&&(g=Mi,h=u,p=s.length):t===ju?d>0&&(g=ju,h=d,p=f.length):(h=Math.max(u,d),g=h>0?u>d?Mi:ju:null,p=g?g===Mi?s.length:f.length:0);const y=g===Mi&&/\b(transform|all)(,|$)/.test(n[Mi+"Property"]);return{type:g,timeout:h,propCount:p,hasTransform:y}}function yT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>_T(n)+_T(e[r])))}function _T(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function PF(){return document.body.offsetHeight}const bT=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>Vf(t,n):t},DF={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Fh(t);iA(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?hy(th(u)):th(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=bT(r)},mounted(e,{value:t}){wT(e,t)},beforeUpdate(e,t,n){e._assign=bT(n)},updated(e,{value:t}){wT(e,t)}};function wT(e,t){const n=e.multiple;if(!(n&&!ke(t)&&!Fh(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=th(s);if(n)ke(t)?s.selected=pD(t,u)>-1:s.selected=t.has(u);else if(Dh(th(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function th(e){return"_value"in e?e._value:e.value}const LF=["ctrl","shift","alt","meta"],FF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LF.some(n=>e[`${n}Key`]&&!t.includes(n))},Qt=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=FF[t[o]];if(s&&s(n,t))return}return e(n,...r)},IT={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Bu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Bu(e,!0),r.enter(e)):r.leave(e,()=>{Bu(e,!1)}):Bu(e,t))},beforeUnmount(e,{value:t}){Bu(e,t)}};function Bu(e,t){e.style.display=t?e._vod:"none"}const MF=fn({patchProp:kF},hF);let TT;function VF(){return TT||(TT=GL(MF))}const UF=(...e)=>{const t=VF().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=jF(r);if(!o)return;const s=t._component;!Me(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function jF(e){return qt(e)?document.querySelector(e):e}var BF=!1;/*!
  * pinia v2.0.16
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let sA;const Xh=e=>sA=e,aA=Symbol();function fv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var nc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(nc||(nc={}));function $F(){const e=uS(!0),t=e.run(()=>Jt({}));let n=[],r=[];const o=as({install(s){Xh(o),o._a=s,s.provide(aA,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!BF?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const uA=()=>{};function ET(e,t,n,r=uA){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&ri()&&Wh(o),o}function Js(e,...t){e.slice().forEach(n=>{n(...t)})}function hv(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];fv(o)&&fv(r)&&e.hasOwnProperty(n)&&!dt(r)&&!no(r)?e[n]=hv(o,r):e[n]=r}return e}const qF=Symbol();function HF(e){return!fv(e)||!e.hasOwnProperty(qF)}const{assign:hi}=Object;function KF(e){return!!(dt(e)&&e.effect)}function WF(e,t,n,r){const{state:o,actions:s,getters:u}=t,c=n.state.value[e];let f;function d(){c||(n.state.value[e]=o?o():{});const g=JD(n.state.value[e]);return hi(g,s,Object.keys(u||{}).reduce((h,p)=>(h[p]=as(Ge(()=>{Xh(n);const y=n._s.get(e);return u[p].call(y,y)})),h),{}))}return f=cA(e,d,t,n,r,!0),f.$reset=function(){const h=o?o():{};this.$patch(p=>{hi(p,h)})},f}function cA(e,t,n={},r,o,s){let u;const c=hi({actions:{}},n),f={deep:!0};let d,g,h=as([]),p=as([]),y;const b=r.state.value[e];!s&&!b&&(r.state.value[e]={}),Jt({});let T;function E(q){let $;d=g=!1,typeof q=="function"?(q(r.state.value[e]),$={type:nc.patchFunction,storeId:e,events:y}):(hv(r.state.value[e],q),$={type:nc.patchObject,payload:q,storeId:e,events:y});const z=T=Symbol();eo().then(()=>{T===z&&(d=!0)}),g=!0,Js(h,$,r.state.value[e])}const I=uA;function C(){u.stop(),h=[],p=[],r._s.delete(e)}function N(q,$){return function(){Xh(r);const z=Array.from(arguments),P=[],me=[];function ne(Pe){P.push(Pe)}function Ne(Pe){me.push(Pe)}Js(p,{args:z,name:q,store:j,after:ne,onError:Ne});let Oe;try{Oe=$.apply(this&&this.$id===e?this:j,z)}catch(Pe){throw Js(me,Pe),Pe}return Oe instanceof Promise?Oe.then(Pe=>(Js(P,Pe),Pe)).catch(Pe=>(Js(me,Pe),Promise.reject(Pe))):(Js(P,Oe),Oe)}}const k={_p:r,$id:e,$onAction:ET.bind(null,p),$patch:E,$reset:I,$subscribe(q,$={}){const z=ET(h,q,$.detached,()=>P()),P=u.run(()=>un(()=>r.state.value[e],me=>{($.flush==="sync"?g:d)&&q({storeId:e,type:nc.direct,events:y},me)},hi({},f,$)));return z},$dispose:C},j=Ti(hi({},k));r._s.set(e,j);const M=r._e.run(()=>(u=uS(),u.run(()=>t())));for(const q in M){const $=M[q];if(dt($)&&!KF($)||no($))s||(b&&HF($)&&(dt($)?$.value=b[q]:hv($,b[q])),r.state.value[e][q]=$);else if(typeof $=="function"){const z=N(q,$);M[q]=z,c.actions[q]=$}}return hi(j,M),hi(Je(j),M),Object.defineProperty(j,"$state",{get:()=>r.state.value[e],set:q=>{E($=>{hi($,q)})}}),r._p.forEach(q=>{hi(j,u.run(()=>q({store:j,app:r._a,pinia:r,options:c})))}),b&&s&&n.hydrate&&n.hydrate(j.$state,b),d=!0,g=!0,j}function ky(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(c,f){const d=ri();return c=c||d&&yr(aA),c&&Xh(c),c=sA,c._s.has(r)||(s?cA(r,t,o,c):WF(r,o,c)),c._s.get(r)}return u.$id=r,u}let GF="Store";function zF(...e){return e.reduce((t,n)=>(t[n.$id+GF]=function(){return n(this.$pinia)},t),{})}function Cy(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Qh(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function lA(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const dv=ky("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var pv=function(e,t){return pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},pv(e,t)};function Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ba=function(){return ba=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ba.apply(this,arguments)};function Z(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(g){try{d(r.next(g))}catch(h){u(h)}}function f(g){try{d(r.throw(g))}catch(h){u(h)}}function d(g){g.done?s(g.value):o(g.value).then(c,f)}d((r=r.apply(e,t||[])).next())})}function J(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(d){return function(g){return f([d,g])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(g){d=[6,g],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function bg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function Tt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fA=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},YF=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},XF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,c=u?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|c>>4,p=(c&15)<<2|d>>6,y=d&63;f||(y=64,u||(p=64)),r.push(n[g],n[h],n[p],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fA(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,c=u?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||c==null||d==null||h==null)throw Error();var p=s<<2|c>>4;if(r.push(p),d!==64){var y=c<<4&240|d>>2;if(r.push(y),h!==64){var b=d<<6&192|h;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},QF=function(e){var t=fA(e);return XF.encodeByteArray(t,!0)},ST=function(e){return QF(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(e){return Ic(void 0,e)}function Ic(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!ZF(r)||(e[r]=Ic(e[r],t[r]));return e}function ZF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eM=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=ba({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[ST(JSON.stringify(n)),ST(JSON.stringify(u)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())}function dA(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nM(){return typeof self=="object"&&self.self===self}function rM(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oM(){return cs().indexOf("Electron/")>=0}function sM(){var e=cs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function aM(){return cs().indexOf("MSAppHost/")>=0}function uM(){return!dA()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cM="FirebaseError",pA=function(e){Ae(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=cM,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ny.prototype.create),s}return t}(Error),Ny=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],c=u?lM(u,o):"Error",f=this.serviceName+": "+c+" ("+s+").",d=new pA(s,f,o);return d},e}();function lM(e,t){return e.replace(fM,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var fM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hM(e,t){var n=new dM(e,t);return n.subscribe.bind(n)}var dM=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pM(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=wg),s.error===void 0&&(s.error=wg),s.complete===void 0&&(s.complete=wg);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function pM(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function wg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){return e&&e._delegate?e._delegate:e}var Kc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mM=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new eM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(vM(t))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}try{for(var o=bg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=wf(s.value,2),c=u[0],f=u[1],d=this.normalizeInstanceIdentifier(c);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ko),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Tt(Tt([],wf(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),wf(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ko),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Ko),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=bg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=wf(d.value,2),h=g[0],p=g[1],y=this.normalizeInstanceIdentifier(h);u===y&&p.resolve(c)}}catch(b){n={error:b}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(!!s)try{for(var u=bg(s),c=u.next();!c.done;c=u.next()){var f=c.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gM(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Ko),this.component?this.component.multipleInstances?t:Ko:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function gM(e){return e===Ko?void 0:e}function vM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yM=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new mM(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function kr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,c=s.length;u<c;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo,Oy=[],tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tt||(tt={}));var mA={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},_M=tt.INFO,bM=(qo={},qo[tt.DEBUG]="log",qo[tt.VERBOSE]="log",qo[tt.INFO]="info",qo[tt.WARN]="warn",qo[tt.ERROR]="error",qo),wM=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=bM[t];if(s)console[s].apply(console,kr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},gA=function(){function e(t){this.name=t,this._logLevel=_M,this._logHandler=wM,this._userLogHandler=null,Oy.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?mA[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,tt.DEBUG],t)),this._logHandler.apply(this,kr([this,tt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,tt.VERBOSE],t)),this._logHandler.apply(this,kr([this,tt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,tt.INFO],t)),this._logHandler.apply(this,kr([this,tt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,tt.WARN],t)),this._logHandler.apply(this,kr([this,tt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,tt.ERROR],t)),this._logHandler.apply(this,kr([this,tt.ERROR],t))},e}();function IM(e){Oy.forEach(function(t){t.setLogLevel(e)})}function TM(e,t){for(var n=function(u){var c=null;t&&t.level&&(c=mA[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,d){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var p=g.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");d>=(c!=null?c:f.logLevel)&&e({level:tt[d].toLowerCase(),message:p,args:g,type:f.name})}},r=0,o=Oy;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui,EM=(Ui={},Ui["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ui["bad-app-name"]="Illegal App name: '{$appName}",Ui["duplicate-app"]="Firebase App named '{$appName}' already exists",Ui["app-deleted"]="Firebase App named '{$appName}' already deleted",Ui["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ui["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ui),oa=new Ny("app","Firebase",EM),vA="@firebase/app",SM="0.6.30",AM="@firebase/analytics",kM="@firebase/app-check",CM="@firebase/auth",NM="@firebase/database",OM="@firebase/functions",xM="@firebase/installations",RM="@firebase/messaging",PM="@firebase/performance",DM="@firebase/remote-config",LM="@firebase/storage",FM="@firebase/firestore",MM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,nh="[DEFAULT]",VM=(pn={},pn[vA]="fire-core",pn[AM]="fire-analytics",pn[kM]="fire-app-check",pn[CM]="fire-auth",pn[NM]="fire-rtdb",pn[OM]="fire-fn",pn[xM]="fire-iid",pn[RM]="fire-fcm",pn[PM]="fire-perf",pn[DM]="fire-rc",pn[LM]="fire-gcs",pn[FM]="fire-fst",pn["fire-js"]="fire-js",pn[MM]="fire-js-all",pn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa=new gA("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=JF(t),this.container=new yM(n.name),this._addComponent(new Kc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=nh),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=nh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){wa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw oa.create("app-deleted",{appName:this.name_})},e}();Bf.prototype.name&&Bf.prototype.options||Bf.prototype.delete||console.log("dc");var UM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:IM,onLog:g,apps:null,SDK_VERSION:UM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:c});function o(p){delete t[p]}function s(p){if(p=p||nh,!AT(t,p))throw oa.create("no-app",{appName:p});return t[p]}s.App=e;function u(p,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var T=y;T.name===void 0&&(T.name=nh);var E=T.name;if(typeof E!="string"||!E)throw oa.create("bad-app-name",{appName:String(E)});if(AT(t,E))throw oa.create("duplicate-app",{appName:E});var I=new e(p,T,r);return t[E]=I,I}function c(){return Object.keys(t).map(function(p){return t[p]})}function f(p){var y=p.name;if(n.has(y))return wa.debug("There were multiple attempts to register component "+y+"."),p.type==="PUBLIC"?r[y]:null;if(n.set(y,p),p.type==="PUBLIC"){var b=function(C){if(C===void 0&&(C=s()),typeof C[y]!="function")throw oa.create("invalid-app-argument",{appName:y});return C[y]()};p.serviceProps!==void 0&&Ic(b,p.serviceProps),r[y]=b,e.prototype[y]=function(){for(var C=[],N=0;N<arguments.length;N++)C[N]=arguments[N];var k=this._getService.bind(this,y);return k.apply(this,p.multipleInstances?C:[])}}for(var T=0,E=Object.keys(t);T<E.length;T++){var I=E[T];t[I]._addComponent(p)}return p.type==="PUBLIC"?r[y]:null}function d(p,y,b){var T,E=(T=VM[p])!==null&&T!==void 0?T:p;b&&(E+="-"+b);var I=E.match(/\s|\//),C=y.match(/\s|\//);if(I||C){var N=['Unable to register library "'+E+'" with version "'+y+'":'];I&&N.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),I&&C&&N.push("and"),C&&N.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),wa.warn(N.join(" "));return}f(new Kc(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function g(p,y){if(p!==null&&typeof p!="function")throw oa.create("invalid-log-argument");TM(p,y)}function h(p,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){var e=jM(Bf);e.INTERNAL=ba(ba({},e.INTERNAL),{createFirebaseNamespace:yA,extendNamespace:t,createSubscribe:hM,ErrorFactory:Ny,deepExtend:Ic});function t(n){Ic(e,n)}return e}var xy=yA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if($M(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function $M(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e,t){e.INTERNAL.registerComponent(new Kc("platform-logger",function(n){return new BM(n)},"PRIVATE")),e.registerVersion(vA,SM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(nM()&&self.firebase!==void 0){wa.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var kT=self.firebase.SDK_VERSION;kT&&kT.indexOf("LITE")>=0&&wa.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var HM=xy.initializeApp;xy.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dA()&&wa.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),HM.apply(void 0,e)};var Ce=xy;qM(Ce);var KM="firebase",_A="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.registerVersion(KM,_A,"app");Ce.SDK_VERSION=_A;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,l){i!=Array.prototype&&i!=Object.prototype&&(i[a]=l.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var l=i[a];if(l&&l.Math==Math)return l}return globalThis}var r=n(this);function o(i,a){if(a){var l=r;i=i.split(".");for(var m=0;m<i.length-1;m++){var v=i[m];v in l||(l[v]={}),l=l[v]}i=i[i.length-1],m=l[i],a=a(m),a!=m&&a!=null&&t(l,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(S){this.b=0,this.c=void 0,this.a=[];var R=this.f();try{S(R.resolve,R.reject)}catch(X){R.reject(X)}}function l(){this.a=null}function m(S){return S instanceof a?S:new a(function(R){R(S)})}if(i)return i;l.prototype.b=function(S){if(this.a==null){this.a=[];var R=this;this.c(function(){R.g()})}this.a.push(S)};var v=r.setTimeout;l.prototype.c=function(S){v(S,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var S=this.a;this.a=[];for(var R=0;R<S.length;++R){var X=S[R];S[R]=null;try{X()}catch(ee){this.f(ee)}}}this.a=null},l.prototype.f=function(S){this.c(function(){throw S})},a.prototype.f=function(){function S(ee){return function(Le){X||(X=!0,ee.call(R,Le))}}var R=this,X=!1;return{resolve:S(this.m),reject:S(this.g)}},a.prototype.m=function(S){if(S===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(S instanceof a)this.s(S);else{e:switch(typeof S){case"object":var R=S!=null;break e;case"function":R=!0;break e;default:R=!1}R?this.v(S):this.h(S)}},a.prototype.v=function(S){var R=void 0;try{R=S.then}catch(X){this.g(X);return}typeof R=="function"?this.u(R,S):this.h(S)},a.prototype.g=function(S){this.i(2,S)},a.prototype.h=function(S){this.i(1,S)},a.prototype.i=function(S,R){if(this.b!=0)throw Error("Cannot settle("+S+", "+R+"): Promise already settled in state"+this.b);this.b=S,this.c=R,this.l()},a.prototype.l=function(){if(this.a!=null){for(var S=0;S<this.a.length;++S)w.b(this.a[S]);this.a=null}};var w=new l;return a.prototype.s=function(S){var R=this.f();S.Ra(R.resolve,R.reject)},a.prototype.u=function(S,R){var X=this.f();try{S.call(R,X.resolve,X.reject)}catch(ee){X.reject(ee)}},a.prototype.then=function(S,R){function X(et,Yt){return typeof et=="function"?function(li){try{ee(et(li))}catch(dg){Le(dg)}}:Yt}var ee,Le,ot=new a(function(et,Yt){ee=et,Le=Yt});return this.Ra(X(S,ee),X(R,Le)),ot},a.prototype.catch=function(S){return this.then(void 0,S)},a.prototype.Ra=function(S,R){function X(){switch(ee.b){case 1:S(ee.c);break;case 2:R(ee.c);break;default:throw Error("Unexpected state: "+ee.b)}}var ee=this;this.a==null?w.b(X):this.a.push(X)},a.resolve=m,a.reject=function(S){return new a(function(R,X){X(S)})},a.race=function(S){return new a(function(R,X){for(var ee=u(S),Le=ee.next();!Le.done;Le=ee.next())m(Le.value).Ra(R,X)})},a.all=function(S){var R=u(S),X=R.next();return X.done?m([]):new a(function(ee,Le){function ot(li){return function(dg){et[li]=dg,Yt--,Yt==0&&ee(et)}}var et=[],Yt=0;do et.push(void 0),Yt++,m(X.value).Ra(ot(et.length-1),Le),X=R.next();while(!X.done)})},a});var c=c||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function p(){}function y(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function b(i){var a=y(i);return a=="array"||a=="object"&&typeof i.length=="number"}function T(i){return y(i)=="function"}function E(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function I(i){return Object.prototype.hasOwnProperty.call(i,C)&&i[C]||(i[C]=++N)}var C="closure_uid_"+(1e9*Math.random()>>>0),N=0;function k(i,a,l){return i.call.apply(i.bind,arguments)}function j(i,a,l){if(!i)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,m),i.apply(a,v)}}return function(){return i.apply(a,arguments)}}function M(i,a,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?M=k:M=j,M.apply(null,arguments)}function q(i,a){var l=Array.prototype.slice.call(arguments,1);return function(){var m=l.slice();return m.push.apply(m,arguments),i.apply(this,m)}}function $(i,a){function l(){}l.prototype=a.prototype,i.bb=a.prototype,i.prototype=new l,i.prototype.constructor=i}function z(i){return i}function P(i,a,l){this.code=ne+i,this.message=a||Ne[i]||"",this.a=l||null}$(P,Error),P.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},P.prototype.toJSON=function(){return this.w()};function me(i){var a=i&&i.code;return a?new P(a.substring(ne.length),i.message,i.serverResponse):null}var ne="auth/",Ne={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Oe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Pe(i){for(var a in Oe)if(Oe[a].id===i)return i=Oe[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var xe;xe=Pe("__EID__")?"__EID__":void 0;function De(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function Te(i){if(Error.captureStackTrace)Error.captureStackTrace(this,Te);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}$(Te,Error),Te.prototype.name="CustomError";function rt(i,a){i=i.split("%s");for(var l="",m=i.length-1,v=0;v<m;v++)l+=i[v]+(v<a.length?a[v]:"%s");Te.call(this,l+i[m])}$(rt,Te),rt.prototype.name="AssertionError";function bt(i,a){throw new rt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function pt(i,a){this.c=i,this.f=a,this.b=0,this.a=null}pt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Ct(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function ue(){this.b=this.a=null}var $e=new pt(function(){return new ce},function(i){i.reset()});ue.prototype.add=function(i,a){var l=$e.get();l.set(i,a),this.b?this.b.next=l:this.a=l,this.b=l};function Y(){var i=A0,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function ce(){this.next=this.b=this.a=null}ce.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},ce.prototype.reset=function(){this.next=this.b=this.a=null};var re=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var l=0;l<i.length;l++)if(l in i&&i[l]===a)return l;return-1},ie=Array.prototype.forEach?function(i,a,l){Array.prototype.forEach.call(i,a,l)}:function(i,a,l){for(var m=i.length,v=typeof i=="string"?i.split(""):i,w=0;w<m;w++)w in v&&a.call(l,v[w],w,i)};function je(i,a){for(var l=typeof i=="string"?i.split(""):i,m=i.length-1;0<=m;--m)m in l&&a.call(void 0,l[m],m,i)}var Ye=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=[],v=0,w=typeof i=="string"?i.split(""):i,S=0;S<l;S++)if(S in w){var R=w[S];a.call(void 0,R,S,i)&&(m[v++]=R)}return m},D=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=Array(l),v=typeof i=="string"?i.split(""):i,w=0;w<l;w++)w in v&&(m[w]=a.call(void 0,v[w],w,i));return m},L=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=typeof i=="string"?i.split(""):i,v=0;v<l;v++)if(v in m&&a.call(void 0,m[v],v,i))return!0;return!1};function A(i){e:{for(var a=jx,l=i.length,m=typeof i=="string"?i.split(""):i,v=0;v<l;v++)if(v in m&&a.call(void 0,m[v],v,i)){a=v;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function O(i,a){return 0<=re(i,a)}function B(i,a){a=re(i,a);var l;return(l=0<=a)&&Array.prototype.splice.call(i,a,1),l}function x(i,a){var l=0;je(i,function(m,v){a.call(void 0,m,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&l++})}function F(i){return Array.prototype.concat.apply([],arguments)}function H(i){var a=i.length;if(0<a){for(var l=Array(a),m=0;m<a;m++)l[m]=i[m];return l}return[]}var Q=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},W=/&/g,V=/</g,U=/>/g,le=/"/g,se=/'/g,de=/\x00/g,Ee=/[\x00&<>"']/;function fe(i,a){return i.indexOf(a)!=-1}function Ze(i,a){return i<a?-1:i>a?1:0}var ze;e:{var at=f.navigator;if(at){var Mn=at.userAgent;if(Mn){ze=Mn;break e}}ze=""}function mt(i){return fe(ze,i)}function nu(i,a){for(var l in i)a.call(void 0,i[l],l,i)}function zn(i){for(var a in i)return!1;return!0}function _r(i){var a={},l;for(l in i)a[l]=i[l];return a}var dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(i,a){for(var l,m,v=1;v<arguments.length;v++){m=arguments[v];for(l in m)i[l]=m[l];for(var w=0;w<dn.length;w++)l=dn[w],Object.prototype.hasOwnProperty.call(m,l)&&(i[l]=m[l])}}function ru(i,a){e:{try{var l=i&&i.ownerDocument,m=l&&(l.defaultView||l.parentWindow);if(m=m||f,m.Element&&m.Location){var v=m;break e}}catch{}v=null}if(v&&typeof v[a]<"u"&&(!i||!(i instanceof v[a])&&(i instanceof v.Location||i instanceof v.Element))){if(E(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;bt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function Mr(i,a){this.a=i===pl&&a||"",this.b=a0}Mr.prototype.ta=!0,Mr.prototype.sa=function(){return this.a},Mr.prototype.toString=function(){return"Const{"+this.a+"}"};function jd(i){return i instanceof Mr&&i.constructor===Mr&&i.b===a0?i.a:(bt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var a0={},pl={},ml;function u0(){if(ml===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:z,createScript:z,createScriptURL:z})}catch(l){f.console&&f.console.error(l.message)}ml=i}else ml=i}return ml}function Ns(i,a){this.a=a===l0?i:""}Ns.prototype.ta=!0,Ns.prototype.sa=function(){return this.a.toString()},Ns.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function c0(i){return i instanceof Ns&&i.constructor===Ns?i.a:(bt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function Bd(i,a){var l=jd(i);if(!gO.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return i=l.replace(mO,function(m,v){if(!Object.prototype.hasOwnProperty.call(a,v))throw Error('Found marker, "'+v+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(a));return m=a[v],m instanceof Mr?jd(m):encodeURIComponent(String(m))}),vO(i)}var mO=/%{(\w+)}/g,gO=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,l0={};function vO(i){var a=u0();return i=a?a.createScriptURL(i):i,new Ns(i,l0)}function Vn(i,a){this.a=a===iu?i:""}Vn.prototype.ta=!0,Vn.prototype.sa=function(){return this.a.toString()},Vn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function gl(i){return i instanceof Vn&&i.constructor===Vn?i.a:(bt("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var yO=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,_O=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,f0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function h0(i){if(i instanceof Vn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),f0.test(i))i=new Vn(i,iu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(_O);i=a&&yO.test(a[1])?new Vn(i,iu):null}return i}function d0(i){return i instanceof Vn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),f0.test(i)||(i="about:invalid#zClosurez"),new Vn(i,iu))}var iu={},p0=new Vn("about:invalid#zClosurez",iu);function Os(i,a,l){this.a=l===m0?i:""}Os.prototype.ta=!0,Os.prototype.sa=function(){return this.a.toString()},Os.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function bO(i){return i instanceof Os&&i.constructor===Os?i.a:(bt("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var m0={};function wO(i,a){ru(i,"HTMLScriptElement"),i.src=c0(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&i.setAttribute("nonce",a)}function g0(i,a,l,m){return i=i instanceof Vn?i:d0(i),a=a||f,l=l instanceof Mr?jd(l):l||"",a.open(gl(i),l,m,void 0)}function v0(i,a){for(var l=i.split("%s"),m="",v=Array.prototype.slice.call(arguments,1);v.length&&1<l.length;)m+=l.shift()+v.shift();return m+l.join("%s")}function $d(i){return Ee.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(W,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(V,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(U,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(le,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(se,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(de,"&#0;"))),i}function qd(i){return qd[" "](i),i}qd[" "]=p;function IO(i,a){var l=AO;return Object.prototype.hasOwnProperty.call(l,i)?l[i]:l[i]=a(i)}var TO=mt("Opera"),br=mt("Trident")||mt("MSIE"),y0=mt("Edge"),EO=y0||br,_0=mt("Gecko")&&!(fe(ze.toLowerCase(),"webkit")&&!mt("Edge"))&&!(mt("Trident")||mt("MSIE"))&&!mt("Edge"),SO=fe(ze.toLowerCase(),"webkit")&&!mt("Edge");function b0(){var i=f.document;return i?i.documentMode:void 0}var vl;e:{var Hd="",Kd=function(){var i=ze;if(_0)return/rv:([^\);]+)(\)|;)/.exec(i);if(y0)return/Edge\/([\d\.]+)/.exec(i);if(br)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(SO)return/WebKit\/(\S+)/.exec(i);if(TO)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Kd&&(Hd=Kd?Kd[1]:""),br){var Wd=b0();if(Wd!=null&&Wd>parseFloat(Hd)){vl=String(Wd);break e}}vl=Hd}var AO={};function w0(i){return IO(i,function(){for(var a=0,l=Q(String(vl)).split("."),m=Q(String(i)).split("."),v=Math.max(l.length,m.length),w=0;a==0&&w<v;w++){var S=l[w]||"",R=m[w]||"";do{if(S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],R=/(\d*)(\D*)(.*)/.exec(R)||["","","",""],S[0].length==0&&R[0].length==0)break;a=Ze(S[1].length==0?0:parseInt(S[1],10),R[1].length==0?0:parseInt(R[1],10))||Ze(S[2].length==0,R[2].length==0)||Ze(S[2],R[2]),S=S[3],R=R[3]}while(a==0)}return 0<=a})}var Gd;if(f.document&&br){var I0=b0();Gd=I0||parseInt(vl,10)||void 0}else Gd=void 0;var Ci=Gd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var kO=!br||9<=Number(Ci);function ou(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function T0(i,a){nu(a,function(l,m){l&&typeof l=="object"&&l.ta&&(l=l.sa()),m=="style"?i.style.cssText=l:m=="class"?i.className=l:m=="for"?i.htmlFor=l:E0.hasOwnProperty(m)?i.setAttribute(E0[m],l):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?i.setAttribute(m,l):i[m]=l})}var E0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function CO(i,a,l){var m=arguments,v=document,w=String(m[0]),S=m[1];if(!kO&&S&&(S.name||S.type)){if(w=["<",w],S.name&&w.push(' name="',$d(S.name),'"'),S.type){w.push(' type="',$d(S.type),'"');var R={};vt(R,S),delete R.type,S=R}w.push(">"),w=w.join("")}return w=yl(v,w),S&&(typeof S=="string"?w.className=S:Array.isArray(S)?w.className=S.join(" "):T0(w,S)),2<m.length&&NO(v,w,m),w}function NO(i,a,l){function m(R){R&&a.appendChild(typeof R=="string"?i.createTextNode(R):R)}for(var v=2;v<l.length;v++){var w=l[v];if(!b(w)||E(w)&&0<w.nodeType)m(w);else{e:{if(w&&typeof w.length=="number"){if(E(w)){var S=typeof w.item=="function"||typeof w.item=="string";break e}if(T(w)){S=typeof w.item=="function";break e}}S=!1}ie(S?H(w):w,m)}}}function yl(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function S0(i){f.setTimeout(function(){throw i},0)}var zd;function OO(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!mt("Presto")&&(i=function(){var v=yl(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var w=v.contentWindow;v=w.document,v.open(),v.close();var S="callImmediate"+Math.random(),R=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;v=M(function(X){(R=="*"||X.origin==R)&&X.data==S&&this.port1.onmessage()},this),w.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(S,R)}}}),typeof i<"u"&&!mt("Trident")&&!mt("MSIE")){var a=new i,l={},m=l;return a.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var v=l.Hb;l.Hb=null,v()}},function(v){m.next={Hb:v},m=m.next,a.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function _l(i,a){bl||xO(),Yd||(bl(),Yd=!0),A0.add(i,a)}var bl;function xO(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);bl=function(){i.then(k0)}}else bl=function(){var a=k0;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!mt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(zd||(zd=OO()),zd(a)):f.setImmediate(a)}}var Yd=!1,A0=new ue;function k0(){for(var i;i=Y();){try{i.a.call(i.b)}catch(a){S0(a)}Ct($e,i)}Yd=!1}function qe(i,a){if(this.a=bo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=p)try{var l=this;i.call(a,function(m){wo(l,su,m)},function(m){if(!(m instanceof xs))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}wo(l,si,m)})}catch(m){wo(this,si,m)}}var bo=0,su=2,si=3;function C0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}C0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var N0=new pt(function(){return new C0},function(i){i.reset()});function Xd(i,a,l){var m=N0.get();return m.g=i,m.b=a,m.f=l,m}function Ie(i){if(i instanceof qe)return i;var a=new qe(p);return wo(a,su,i),a}function wt(i){return new qe(function(a,l){l(i)})}function O0(i,a,l){D0(i,a,l,null)||_l(q(a,i))}function RO(i){return new qe(function(a,l){var m=i.length,v=[];if(m)for(var w=function(ee,Le){m--,v[ee]=Le,m==0&&a(v)},S=function(ee){l(ee)},R=0,X;R<i.length;R++)X=i[R],O0(X,q(w,R),S);else a(v)})}function x0(i){return new qe(function(a){var l=i.length,m=[];if(l)for(var v=function(R,X,ee){l--,m[R]=X?{Qb:!0,value:ee}:{Qb:!1,reason:ee},l==0&&a(m)},w=0,S;w<i.length;w++)S=i[w],O0(S,q(v,w,!0),q(v,w,!1));else a(m)})}qe.prototype.then=function(i,a,l){return P0(this,T(i)?i:null,T(a)?a:null,l)},qe.prototype.$goog_Thenable=!0,e=qe.prototype,e.oa=function(i,a){return i=Xd(i,i,a),i.c=!0,Qd(this,i),this},e.o=function(i,a){return P0(this,null,i,a)},e.cancel=function(i){if(this.a==bo){var a=new xs(i);_l(function(){R0(this,a)},this)}};function R0(i,a){if(i.a==bo)if(i.c){var l=i.c;if(l.b){for(var m=0,v=null,w=null,S=l.b;S&&(S.c||(m++,S.a==i&&(v=S),!(v&&1<m)));S=S.next)v||(w=S);v&&(l.a==bo&&m==1?R0(l,a):(w?(m=w,m.next==l.f&&(l.f=m),m.next=m.next.next):F0(l),M0(l,v,si,a)))}i.c=null}else wo(i,si,a)}function Qd(i,a){i.b||i.a!=su&&i.a!=si||L0(i),i.f?i.f.next=a:i.b=a,i.f=a}function P0(i,a,l,m){var v=Xd(null,null,null);return v.a=new qe(function(w,S){v.g=a?function(R){try{var X=a.call(m,R);w(X)}catch(ee){S(ee)}}:w,v.b=l?function(R){try{var X=l.call(m,R);X===void 0&&R instanceof xs?S(R):w(X)}catch(ee){S(ee)}}:S}),v.a.c=i,Qd(i,v),v.a}e.$c=function(i){this.a=bo,wo(this,su,i)},e.ad=function(i){this.a=bo,wo(this,si,i)};function wo(i,a,l){i.a==bo&&(i===l&&(a=si,l=new TypeError("Promise cannot resolve to itself")),i.a=1,D0(l,i.$c,i.ad,i)||(i.i=l,i.a=a,i.c=null,L0(i),a!=si||l instanceof xs||DO(i,l)))}function D0(i,a,l,m){if(i instanceof qe)return Qd(i,Xd(a||p,l||null,m)),!0;if(De(i))return i.then(a,l,m),!0;if(E(i))try{var v=i.then;if(T(v))return PO(i,v,a,l,m),!0}catch(w){return l.call(m,w),!0}return!1}function PO(i,a,l,m,v){function w(X){R||(R=!0,m.call(v,X))}function S(X){R||(R=!0,l.call(v,X))}var R=!1;try{a.call(i,S,w)}catch(X){w(X)}}function L0(i){i.h||(i.h=!0,_l(i.gc,i))}function F0(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=F0(this);)M0(this,i,this.a,this.i);this.h=!1};function M0(i,a,l,m){if(l==si&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,V0(a,l,m);else try{a.c?a.g.call(a.f):V0(a,l,m)}catch(v){U0.call(null,v)}Ct(N0,a)}function V0(i,a,l){a==su?i.g.call(i.f,l):i.b&&i.b.call(i.f,l)}function DO(i,a){i.g=!0,_l(function(){i.g&&U0.call(null,a)})}var U0=S0;function xs(i){Te.call(this,i)}$(xs,Te),xs.prototype.name="cancel";function wl(){this.ya=this.ya,this.pa=this.pa}var LO=0;wl.prototype.ya=!1;function j0(i){!i.ya&&(i.ya=!0,i.Da(),LO!=0)&&I(i)}wl.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var FO=Object.freeze||function(i){return i},B0=!br||9<=Number(Ci),MO=br&&!w0("9"),VO=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",p,a),f.removeEventListener("test",p,a)}catch{}return i}();function Un(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}Un.prototype.preventDefault=function(){this.defaultPrevented=!0};function Io(i,a){if(Un.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var l=this.type=i.type,m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(_0){e:{try{qd(a.nodeName);var v=!0;break e}catch{}v=!1}v||(a=null)}}else l=="mouseover"?a=i.fromElement:l=="mouseout"&&(a=i.toElement);this.relatedTarget=a,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:UO[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}$(Io,Un);var UO=FO({2:"touch",3:"pen",4:"mouse"});Io.prototype.preventDefault=function(){Io.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,MO)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},Io.prototype.g=function(){return this.a};var au="closure_listenable_"+(1e6*Math.random()|0),jO=0;function BO(i,a,l,m,v){this.listener=i,this.proxy=null,this.src=a,this.type=l,this.capture=!!m,this.Wa=v,this.key=++jO,this.wa=this.Qa=!1}function Il(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Tl(i){this.src=i,this.a={},this.b=0}Tl.prototype.add=function(i,a,l,m,v){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var S=Zd(i,a,m,v);return-1<S?(a=i[S],l||(a.Qa=!1)):(a=new BO(a,this.src,w,!!m,v),a.Qa=l,i.push(a)),a};function Jd(i,a){var l=a.type;l in i.a&&B(i.a[l],a)&&(Il(a),i.a[l].length==0&&(delete i.a[l],i.b--))}function Zd(i,a,l,m){for(var v=0;v<i.length;++v){var w=i[v];if(!w.wa&&w.listener==a&&w.capture==!!l&&w.Wa==m)return v}return-1}var ep="closure_lm_"+(1e6*Math.random()|0),tp={};function cr(i,a,l,m,v){if(m&&m.once)np(i,a,l,m,v);else if(Array.isArray(a))for(var w=0;w<a.length;w++)cr(i,a[w],l,m,v);else l=ip(l),i&&i[au]?G0(i,a,l,E(m)?!!m.capture:!!m,v):$0(i,a,l,!1,m,v)}function $0(i,a,l,m,v,w){if(!a)throw Error("Invalid event type");var S=E(v)?!!v.capture:!!v,R=El(i);if(R||(i[ep]=R=new Tl(i)),l=R.add(a,l,m,S,w),!l.proxy)if(m=$O(),l.proxy=m,m.src=i,m.listener=l,i.addEventListener)VO||(v=S),v===void 0&&(v=!1),i.addEventListener(a.toString(),m,v);else if(i.attachEvent)i.attachEvent(H0(a.toString()),m);else if(i.addListener&&i.removeListener)i.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.")}function $O(){var i=qO,a=B0?function(l){return i.call(a.src,a.listener,l)}:function(l){if(l=i.call(a.src,a.listener,l),!l)return l};return a}function np(i,a,l,m,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)np(i,a[w],l,m,v);else l=ip(l),i&&i[au]?op(i,a,l,E(m)?!!m.capture:!!m,v):$0(i,a,l,!0,m,v)}function Yn(i,a,l,m,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)Yn(i,a[w],l,m,v);else m=E(m)?!!m.capture:!!m,l=ip(l),i&&i[au]?(i=i.v,a=String(a).toString(),a in i.a&&(w=i.a[a],l=Zd(w,l,m,v),-1<l&&(Il(w[l]),Array.prototype.splice.call(w,l,1),w.length==0&&(delete i.a[a],i.b--)))):i&&(i=El(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Zd(a,l,m,v)),(l=-1<i?a[i]:null)&&q0(l))}function q0(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[au])Jd(a.v,i);else{var l=i.type,m=i.proxy;a.removeEventListener?a.removeEventListener(l,m,i.capture):a.detachEvent?a.detachEvent(H0(l),m):a.addListener&&a.removeListener&&a.removeListener(m),(l=El(a))?(Jd(l,i),l.b==0&&(l.src=null,a[ep]=null)):Il(i)}}}function H0(i){return i in tp?tp[i]:tp[i]="on"+i}function K0(i,a,l,m){var v=!0;if((i=El(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var w=a[i];w&&w.capture==l&&!w.wa&&(w=W0(w,m),v=v&&w!==!1)}return v}function W0(i,a){var l=i.listener,m=i.Wa||i.src;return i.Qa&&q0(i),l.call(m,a)}function qO(i,a){if(i.wa)return!0;if(!B0){if(!a)e:{a=["window","event"];for(var l=f,m=0;m<a.length;m++)if(l=l[a[m]],l==null){a=null;break e}a=l}if(m=a,a=new Io(m,this),l=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var v=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch{v=!0}(v||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],v=a.b;v;v=v.parentNode)m.push(v);for(i=i.type,v=m.length-1;0<=v;v--){a.b=m[v];var w=K0(m[v],i,!0,a);l=l&&w}for(v=0;v<m.length;v++)a.b=m[v],w=K0(m[v],i,!1,a),l=l&&w}return l}return W0(i,new Io(a,this))}function El(i){return i=i[ep],i instanceof Tl?i:null}var rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ip(i){return T(i)?i:(i[rp]||(i[rp]=function(a){return i.handleEvent(a)}),i[rp])}function Tn(){wl.call(this),this.v=new Tl(this),this.bc=this,this.hb=null}$(Tn,wl),Tn.prototype[au]=!0,Tn.prototype.addEventListener=function(i,a,l,m){cr(this,i,a,l,m)},Tn.prototype.removeEventListener=function(i,a,l,m){Yn(this,i,a,l,m)},Tn.prototype.dispatchEvent=function(i){var a,l=this.hb;if(l)for(a=[];l;l=l.hb)a.push(l);l=this.bc;var m=i.type||i;if(typeof i=="string")i=new Un(i,l);else if(i instanceof Un)i.target=i.target||l;else{var v=i;i=new Un(m,l),vt(i,v)}if(v=!0,a)for(var w=a.length-1;0<=w;w--){var S=i.b=a[w];v=Sl(S,m,!0,i)&&v}if(S=i.b=l,v=Sl(S,m,!0,i)&&v,v=Sl(S,m,!1,i)&&v,a)for(w=0;w<a.length;w++)S=i.b=a[w],v=Sl(S,m,!1,i)&&v;return v},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var l=i.a[a],m=0;m<l.length;m++)Il(l[m]);delete i.a[a],i.b--}}this.hb=null};function G0(i,a,l,m,v){i.v.add(String(a),l,!1,m,v)}function op(i,a,l,m,v){i.v.add(String(a),l,!0,m,v)}function Sl(i,a,l,m){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var v=!0,w=0;w<a.length;++w){var S=a[w];if(S&&!S.wa&&S.capture==l){var R=S.listener,X=S.Wa||S.src;S.Qa&&Jd(i.v,S),v=R.call(X,m)!==!1&&v}}return v&&!m.defaultPrevented}function sp(i,a,l){if(T(i))l&&(i=M(i,l));else if(i&&typeof i.handleEvent=="function")i=M(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function Rs(i){var a=null;return new qe(function(l,m){a=sp(function(){l(void 0)},i),a==-1&&m(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(a),l})}function z0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(b(i)){for(var a=[],l=i.length,m=0;m<l;m++)a.push(i[m]);return a}a=[],l=0;for(m in i)a[l++]=i[m];return a}function Y0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(b(i)||typeof i=="string"){var a=[];i=i.length;for(var l=0;l<i;l++)a.push(l);return a}a=[],l=0;for(var m in i)a[l++]=m;return a}}function HO(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(b(i)||typeof i=="string")ie(i,a,void 0);else for(var l=Y0(i),m=z0(i),v=m.length,w=0;w<v;w++)a.call(void 0,m[w],l&&l[w],i)}function Ps(i,a){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var m=0;m<l;m+=2)this.set(arguments[m],arguments[m+1])}else if(i)if(i instanceof Ps)for(l=i.Y(),m=0;m<l.length;m++)this.set(l[m],i.get(l[m]));else for(m in i)this.set(m,i[m])}e=Ps.prototype,e.X=function(){ap(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return ap(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function ap(i){if(i.c!=i.a.length){for(var a=0,l=0;a<i.a.length;){var m=i.a[a];To(i.b,m)&&(i.a[l++]=m),a++}i.a.length=l}if(i.c!=i.a.length){var v={};for(l=a=0;a<i.a.length;)m=i.a[a],To(v,m)||(i.a[l++]=m,v[m]=1),a++;i.a.length=l}}e.get=function(i,a){return To(this.b,i)?this.b[i]:a},e.set=function(i,a){To(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var l=this.Y(),m=0;m<l.length;m++){var v=l[m],w=this.get(v);i.call(a,w,v,this)}};function To(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var X0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function KO(i,a){if(i){i=i.split("&");for(var l=0;l<i.length;l++){var m=i[l].indexOf("="),v=null;if(0<=m){var w=i[l].substring(0,m);v=i[l].substring(m+1)}else w=i[l];a(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function Ni(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;i instanceof Ni?(this.i=a!==void 0?a:i.i,uu(this,i.c),this.l=i.l,this.a=i.a,cu(this,i.g),this.f=i.f,up(this,eb(i.b)),this.h=i.h):i&&(l=String(i).match(X0))?(this.i=!!a,uu(this,l[1]||"",!0),this.l=lu(l[2]||""),this.a=lu(l[3]||"",!0),cu(this,l[4]),this.f=lu(l[5]||"",!0),up(this,l[6]||"",!0),this.h=lu(l[7]||"")):(this.i=!!a,this.b=new Eo(null,this.i))}Ni.prototype.toString=function(){var i=[],a=this.c;a&&i.push(fu(a,Q0,!0),":");var l=this.a;return(l||a=="file")&&(i.push("//"),(a=this.l)&&i.push(fu(a,Q0,!0),"@"),i.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&i.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&i.push("/"),i.push(fu(l,l.charAt(0)=="/"?zO:GO,!0))),(l=this.b.toString())&&i.push("?",l),(l=this.h)&&i.push("#",fu(l,XO)),i.join("")},Ni.prototype.resolve=function(i){var a=new Ni(this),l=!!i.c;l?uu(a,i.c):l=!!i.l,l?a.l=i.l:l=!!i.a,l?a.a=i.a:l=i.g!=null;var m=i.f;if(l)cu(a,i.g);else if(l=!!i.f){if(m.charAt(0)!="/")if(this.a&&!this.f)m="/"+m;else{var v=a.f.lastIndexOf("/");v!=-1&&(m=a.f.substr(0,v+1)+m)}if(v=m,v==".."||v==".")m="";else if(fe(v,"./")||fe(v,"/.")){m=v.lastIndexOf("/",0)==0,v=v.split("/");for(var w=[],S=0;S<v.length;){var R=v[S++];R=="."?m&&S==v.length&&w.push(""):R==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),m&&S==v.length&&w.push("")):(w.push(R),m=!0)}m=w.join("/")}else m=v}return l?a.f=m:l=i.b.toString()!=="",l?up(a,eb(i.b)):l=!!i.h,l&&(a.h=i.h),a};function uu(i,a,l){i.c=l?lu(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function cu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function up(i,a,l){a instanceof Eo?(i.b=a,QO(i.b,i.i)):(l||(a=fu(a,YO)),i.b=new Eo(a,i.i))}function Rt(i,a,l){i.b.set(a,l)}function lr(i,a){return i.b.get(a)}function jn(i){return i instanceof Ni?new Ni(i):new Ni(i,void 0)}function Al(i,a,l,m){var v=new Ni(null,void 0);return i&&uu(v,i),a&&(v.a=a),l&&cu(v,l),m&&(v.f=m),v}function lu(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function fu(i,a,l){return typeof i=="string"?(i=encodeURI(i).replace(a,WO),l&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function WO(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var Q0=/[#\/\?@]/g,GO=/[#\?:]/g,zO=/[#\?]/g,YO=/[#\?@]/g,XO=/#/g;function Eo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Oi(i){i.a||(i.a=new Ps,i.b=0,i.c&&KO(i.c,function(a,l){i.add(decodeURIComponent(a.replace(/\+/g," ")),l)}))}function J0(i){var a=Y0(i);if(typeof a>"u")throw Error("Keys are undefined");var l=new Eo(null,void 0);i=z0(i);for(var m=0;m<a.length;m++){var v=a[m],w=i[m];Array.isArray(w)?Z0(l,v,w):l.add(v,w)}return l}e=Eo.prototype,e.add=function(i,a){Oi(this),this.c=null,i=Ds(this,i);var l=this.a.get(i);return l||this.a.set(i,l=[]),l.push(a),this.b+=1,this};function Vr(i,a){Oi(i),a=Ds(i,a),To(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,To(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&ap(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function cp(i,a){return Oi(i),a=Ds(i,a),To(i.a.b,a)}e.forEach=function(i,a){Oi(this),this.a.forEach(function(l,m){ie(l,function(v){i.call(a,v,m,this)},this)},this)},e.Y=function(){Oi(this);for(var i=this.a.X(),a=this.a.Y(),l=[],m=0;m<a.length;m++)for(var v=i[m],w=0;w<v.length;w++)l.push(a[m]);return l},e.X=function(i){Oi(this);var a=[];if(typeof i=="string")cp(this,i)&&(a=F(a,this.a.get(Ds(this,i))));else{i=this.a.X();for(var l=0;l<i.length;l++)a=F(a,i[l])}return a},e.set=function(i,a){return Oi(this),this.c=null,i=Ds(this,i),cp(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function Z0(i,a,l){Vr(i,a),0<l.length&&(i.c=null,i.a.set(Ds(i,a),H(l)),i.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),l=0;l<a.length;l++){var m=a[l],v=encodeURIComponent(String(m));m=this.X(m);for(var w=0;w<m.length;w++){var S=v;m[w]!==""&&(S+="="+encodeURIComponent(String(m[w]))),i.push(S)}}return this.c=i.join("&")};function eb(i){var a=new Eo;return a.c=i.c,i.a&&(a.a=new Ps(i.a),a.b=i.b),a}function Ds(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function QO(i,a){a&&!i.f&&(Oi(i),i.c=null,i.a.forEach(function(l,m){var v=m.toLowerCase();m!=v&&(Vr(this,m),Z0(this,v,l))},i)),i.f=a}function tb(i){var a=[];return lp(new JO,i,a),a.join("")}function JO(){}function lp(i,a,l){if(a==null)l.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var m=a;a=m.length,l.push("[");for(var v="",w=0;w<a;w++)l.push(v),lp(i,m[w],l),v=",";l.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{l.push("{"),v="";for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&(w=a[m],typeof w!="function"&&(l.push(v),rb(m,l),l.push(":"),lp(i,w,l),v=","));l.push("}");return}}switch(typeof a){case"string":rb(a,l);break;case"number":l.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":l.push(String(a));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var nb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},ZO=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rb(i,a){a.push('"',i.replace(ZO,function(l){var m=nb[l];return m||(m="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),nb[l]=m),m}),'"')}function fp(){var i=rn();return br&&!!Ci&&Ci==11||/Edge\/\d+/.test(i)}function hu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function ib(i,a){a=a||f.window;var l="about:blank";i&&(l=gl(h0(i)||p0)),a.location.href=l}function ob(i,a){var l=[],m;for(m in i)m in a?typeof i[m]!=typeof a[m]?l.push(m):typeof i[m]=="object"&&i[m]!=null&&a[m]!=null?0<ob(i[m],a[m]).length&&l.push(m):i[m]!==a[m]&&l.push(m):l.push(m);for(m in a)m in i||l.push(m);return l}function ex(){var i=rn();return i=Ls(i)!=cb?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!br||!Ci||9<Ci}function sb(i){return i=(i||rn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function So(i){i=i||f.window;try{i.close()}catch{}}function ab(i,a,l){var m=Math.floor(1e9*Math.random()).toString();a=a||500,l=l||600;var v=(window.screen.availHeight-l)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:l,top:0<v?v:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=rn().toLowerCase(),m&&(a.target=m,fe(l,"crios/")&&(a.target="_blank")),Ls(rn())==pp&&(i=i||"http://localhost",a.scrollbars=!0),l=i||"",(i=a)||(i={}),m=window,a=l instanceof Vn?l:h0(typeof l.href<"u"?l.href:String(l))||p0,l=i.target||l.target,v=[];for(S in i)switch(S){case"width":case"height":case"top":case"left":v.push(S+"="+i[S]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(S+"="+(i[S]?1:0))}var S=v.join(",");if((mt("iPhone")&&!mt("iPod")&&!mt("iPad")||mt("iPad")||mt("iPod"))&&m.navigator&&m.navigator.standalone&&l&&l!="_self"?(S=yl(document,"A"),ru(S,"HTMLAnchorElement"),a=a instanceof Vn?a:d0(a),S.href=gl(a),S.setAttribute("target",l),i.noreferrer&&S.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,m,1),S.dispatchEvent(i),S={}):i.noreferrer?(S=g0("",m,l,S),i=gl(a),S&&(EO&&fe(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),S.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$d(i)+'">',i=(m=u0())?m.createHTML(i):i,i=new Os(i,null,m0),m=S.document)&&(m.write(bO(i)),m.close())):(S=g0(a,m,l,S))&&i.noopener&&(S.opener=null),S)try{S.focus()}catch{}return S}function tx(i){return new qe(function(a){function l(){Rs(2e3).then(function(){if(!i||i.closed)a();else return l()})}return l()})}var nx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rx=/^[^@]+@[^@]+$/;function kl(){var i=null;return new qe(function(a){f.document.readyState=="complete"?a():(i=function(){a()},np(window,"load",i))}).o(function(a){throw Yn(window,"load",i),a})}function ix(){return hp(void 0)?kl().then(function(){return new qe(function(i,a){var l=f.document,m=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(m),i()},!1)})}):wt(Error("Cordova must run in an Android or iOS file scheme."))}function hp(i){return i=i||rn(),!(Ms()!=="file:"&&Ms()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function dp(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function wr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Ur(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function ub(){var i=Ur();return i==="ReactNative"||i==="Node"}function ox(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var pp="Firefox",cb="Chrome";function Ls(i){var a=i.toLowerCase();if(fe(a,"opera/")||fe(a,"opr/")||fe(a,"opios/"))return"Opera";if(fe(a,"iemobile"))return"IEMobile";if(fe(a,"msie")||fe(a,"trident/"))return"IE";if(fe(a,"edge/"))return"Edge";if(fe(a,"firefox/"))return pp;if(fe(a,"silk/"))return"Silk";if(fe(a,"blackberry"))return"Blackberry";if(fe(a,"webos"))return"Webos";if(!fe(a,"safari/")||fe(a,"chrome/")||fe(a,"crios/")||fe(a,"android"))if(!fe(a,"chrome/")&&!fe(a,"crios/")||fe(a,"edge/")){if(fe(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return cb;else return"Safari";return"Other"}var lb={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Fs(i,a){a=a||[];var l=[],m={},v;for(v in lb)m[lb[v]]=!0;for(v=0;v<a.length;v++)typeof m[a[v]]<"u"&&(delete m[a[v]],l.push(a[v]));return l.sort(),a=l,a.length||(a=["FirebaseCore-web"]),l=Ur(),l==="Browser"?(m=rn(),l=Ls(m)):l==="Worker"&&(m=rn(),l=Ls(m)+"-"+l),l+"/JsCore/"+i+"/"+a.join(",")}function rn(){return f.navigator&&f.navigator.userAgent||""}function It(i,a){i=i.split("."),a=a||f;for(var l=0;l<i.length&&typeof a=="object"&&a!=null;l++)a=a[i[l]];return l!=i.length&&(a=void 0),a}function mp(){try{var i=f.localStorage,a=ko();if(i)return i.setItem(a,"1"),i.removeItem(a),fp()?!!f.indexedDB:!0}catch{return wr()&&!!f.indexedDB}return!1}function Ao(){return(Cl()||Ms()==="chrome-extension:"||hp())&&!ub()&&mp()&&!wr()}function Cl(){return Ms()==="http:"||Ms()==="https:"}function Ms(){return f.location&&f.location.protocol||null}function du(i){return i=i||rn(),!(sb(i)||Ls(i)==pp)}function pu(i){return typeof i>"u"?null:tb(i)}function fb(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&i[l]!==null&&i[l]!==void 0&&(a[l]=i[l]);return a}function Vs(i){if(i!==null)return JSON.parse(i)}function ko(i){return i||Math.floor(1e9*Math.random()).toString()}function hb(i){return i=i||rn(),!(Ls(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function db(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var l=0;l<i.CP.length;l++)i.CP[l]=null}}function xi(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=rn(),a=Ur(),this.b=sb(i)||a==="ReactNative"}xi.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Cl()||Ms()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function gp(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function sx(){var i=f.document,a=null;return gp()||!i?Ie():new qe(function(l){a=function(){gp()&&(i.removeEventListener("visibilitychange",a,!1),l())},i.addEventListener("visibilitychange",a,!1)}).o(function(l){throw i.removeEventListener("visibilitychange",a,!1),l})}function mu(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function pb(){return!(!It("fireauth.oauthhelper",f)&&!It("fireauth.iframe",f))}function ax(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function ux(){var i=f.navigator;return i&&i.serviceWorker?Ie().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ie(null)}var mb={};function vp(i){mb[i]||(mb[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var yp;try{var _p={};Object.defineProperty(_p,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(_p,"abcd",{configurable:!0,enumerable:!0,value:2}),yp=_p.abcd==2}catch{yp=!1}function _e(i,a,l){yp?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:l}):i[a]=l}function En(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&_e(i,l,a[l])}function jr(i){var a={};return En(a,i),a}function cx(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);return a}function lx(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var l=0;l<a.length;l++){var m=i[a[l]];if(m==null||m==="")return!1}return!0}function bp(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var l in i)_e(a,l,bp(i[l]))}return a}function wp(i){var a=i&&(i[Sp]?"phone":null);if(a&&i&&i[Ep]){_e(this,"uid",i[Ep]),_e(this,"displayName",i[gb]||null);var l=null;i[Tp]&&(l=new Date(i[Tp]).toUTCString()),_e(this,"enrollmentTime",l),_e(this,"factorId",a)}else throw new P("internal-error","Internal assert: invalid MultiFactorInfo object")}wp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Ip(i){try{var a=new gu(i)}catch{a=null}return a}var gb="displayName",Tp="enrolledAt",Ep="mfaEnrollmentId",Sp="phoneInfo";function gu(i){wp.call(this,i),_e(this,"phoneNumber",i[Sp])}$(gu,wp),gu.prototype.w=function(){var i=gu.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function fx(i){var a={},l=i[hx],m=i[px],v=i[mx];if(i=Ip(i[dx]),!v||v!=Nl&&v!=vu&&!l||v==vu&&!m||v==Ap&&!i)throw Error("Invalid checkActionCode response!");v==vu?(a[yb]=l||null,a[_b]=l||null,a[vb]=m):(a[yb]=m||null,a[_b]=m||null,a[vb]=l||null),a[gx]=i||null,_e(this,yx,v),_e(this,vx,bp(a))}var Ap="REVERT_SECOND_FACTOR_ADDITION",Nl="EMAIL_SIGNIN",vu="VERIFY_AND_CHANGE_EMAIL",hx="email",dx="mfaInfo",px="newEmail",mx="requestType",vb="email",yb="fromEmail",gx="multiFactorInfo",_b="previousEmail",vx="data",yx="operation";function kp(i){i=jn(i);var a=lr(i,bb)||null,l=lr(i,wb)||null,m=lr(i,Ib)||null;if(m=m&&Ix[m]||null,!a||!l||!m)throw new P("argument-error",bb+", "+wb+"and "+Ib+" are required in a valid action code URL.");En(this,{apiKey:a,operation:m,code:l,continueUrl:lr(i,_x)||null,languageCode:lr(i,bx)||null,tenantId:lr(i,wx)||null})}var bb="apiKey",wb="oobCode",_x="continueUrl",bx="languageCode",Ib="mode",wx="tenantId",Ix={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ap,signIn:Nl,verifyAndChangeEmail:vu,verifyEmail:"VERIFY_EMAIL"};function Tb(i){try{return new kp(i)}catch{return null}}function Ol(i){var a=i[Tx];if(typeof a>"u")throw new P("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new P("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var l=i[Eb];if(l&&typeof l=="object"){a=l[Nb];var m=l[kb];if(l=l[Cb],typeof a=="string"&&a.length){if(this.a=a,typeof m<"u"&&typeof m!="boolean")throw new P("argument-error",kb+" property must be a boolean when specified.");if(this.g=!!m,typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new P("argument-error",Cb+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof a<"u")throw new P("argument-error",Nb+" property must be a non empty string when specified.");if(typeof m<"u"||typeof l<"u")throw new P("missing-android-pkg-name")}}else if(typeof l<"u")throw new P("argument-error",Eb+" property must be a non null object when specified.");if(this.f=null,(a=i[Ab])&&typeof a=="object"){if(a=a[Ob],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new P("argument-error",Ob+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new P("argument-error",Ab+" property must be a non null object when specified.");if(a=i[Cp],typeof a<"u"&&typeof a!="boolean")throw new P("argument-error",Cp+" property must be a boolean when specified.");if(this.c=!!a,i=i[Sb],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new P("argument-error",Sb+" property must be a non empty string when specified.");this.i=i||null}var Eb="android",Sb="dynamicLinkDomain",Cp="handleCodeInApp",Ab="iOS",Tx="url",kb="installApp",Cb="minimumVersion",Nb="packageName",Ob="bundleId";function xl(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var l in a)a[l]===null&&delete a[l];return a}function Ex(i){return D(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var yu=null;function Sx(i){var a=[];return Ax(i,function(l){a.push(l)}),a}function Ax(i,a){function l(X){for(;m<i.length;){var ee=i.charAt(m++),Le=yu[ee];if(Le!=null)return Le;if(!/^[\s\xa0]*$/.test(ee))throw Error("Unknown base64 encoding at char: "+ee)}return X}kx();for(var m=0;;){var v=l(-1),w=l(0),S=l(64),R=l(64);if(R===64&&v===-1)break;a(v<<2|w>>4),S!=64&&(a(w<<4&240|S>>2),R!=64&&a(S<<6&192|R))}}function kx(){if(!yu){yu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var m=i.concat(a[l].split("")),v=0;v<m.length;v++){var w=m[v];yu[w]===void 0&&(yu[w]=v)}}}function Rl(i){var a=xb(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Rl.prototype.T=function(){return this.f},Rl.prototype.l=function(){return this.c},Rl.prototype.toString=function(){return this.h};function Pl(i){try{return new Rl(i)}catch{return null}}function xb(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,l=0;l<a;l++)i+=".";try{var m=Sx(i);for(i=[],l=a=0;a<m.length;){var v=m[a++];if(128>v)i[l++]=String.fromCharCode(v);else if(191<v&&224>v){var w=m[a++];i[l++]=String.fromCharCode((v&31)<<6|w&63)}else if(239<v&&365>v){w=m[a++];var S=m[a++],R=m[a++],X=((v&7)<<18|(w&63)<<12|(S&63)<<6|R&63)-65536;i[l++]=String.fromCharCode(55296+(X>>10)),i[l++]=String.fromCharCode(56320+(X&1023))}else w=m[a++],S=m[a++],i[l++]=String.fromCharCode((v&15)<<12|(w&63)<<6|S&63)}return JSON.parse(i.join(""))}catch{}return null}var Rb="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Dl=["client_id","response_type","scope","redirect_uri","state"],Np={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Dl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Dl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Dl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Rb},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Op(i){for(var a in Np)if(Np[a].fa==i)return Np[a];return null}function Pb(i){var a={};a["facebook.com"]=Lb,a["google.com"]=Mb,a["github.com"]=Fb,a["twitter.com"]=Vb;var l=i&&i[Db];try{if(l)return a[l]?new a[l](i):new Br(i);if(typeof i[xp]<"u")return new Rp(i)}catch{}return null}var xp="idToken",Db="providerId";function Rp(i){var a=i[Db];if(!a&&i[xp]){var l=Pl(i[xp]);l&&l.b&&(a=l.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),l=!1,typeof i.isNewUser<"u"?l=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),_e(this,"providerId",a),_e(this,"isNewUser",l)}function Br(i){Rp.call(this,i),i=Vs(i.rawUserInfo||"{}"),_e(this,"profile",bp(i||{}))}$(Br,Rp);function Lb(i){if(Br.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}$(Lb,Br);function Fb(i){if(Br.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");_e(this,"username",this.profile&&this.profile.login||null)}$(Fb,Br);function Mb(i){if(Br.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}$(Mb,Br);function Vb(i){if(Br.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");_e(this,"username",i.screenName||null)}$(Vb,Br);function Ub(i){var a=jn(i),l=lr(a,"link"),m=lr(jn(l),"link");return a=lr(a,"deep_link_id"),lr(jn(a),"link")||a||m||l||i}function Ll(i,a){if(!i&&!a)throw new P("internal-error","Internal assert: no raw session string available");if(i&&a)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?_u:Fl}var _u="enroll",Fl="signin";Ll.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},Ll.prototype.w=function(){return this.type==_u?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Us(){}Us.prototype.ka=function(){},Us.prototype.b=function(){},Us.prototype.c=function(){},Us.prototype.w=function(){};function js(i,a){return i.then(function(l){if(l[Er]){var m=Pl(l[Er]);if(!m||a!=m.i)throw new P("user-mismatch");return l}throw new P("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==ne+"user-not-found"?new P("user-mismatch"):l})}function Co(i,a){if(a)this.a=a;else throw new P("internal-error","failed to construct a credential");_e(this,"providerId",i),_e(this,"signInMethod",i)}Co.prototype.ka=function(i){return nm(i,Pp(this))},Co.prototype.b=function(i,a){var l=Pp(this);return l.idToken=a,rm(i,l)},Co.prototype.c=function(i,a){return js(im(i,Pp(this)),a)};function Pp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Cx(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Co(i.providerId,i.pendingToken)}catch{}return null}function ai(i,a,l){if(this.a=null,a.idToken||a.accessToken)a.idToken&&_e(this,"idToken",a.idToken),a.accessToken&&_e(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&_e(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)_e(this,"accessToken",a.oauthToken),_e(this,"secret",a.oauthTokenSecret);else throw new P("internal-error","failed to construct a credential");_e(this,"providerId",i),_e(this,"signInMethod",l)}ai.prototype.ka=function(i){return nm(i,Dp(this))},ai.prototype.b=function(i,a){var l=Dp(this);return l.idToken=a,rm(i,l)},ai.prototype.c=function(i,a){var l=Dp(this);return js(im(i,l),a)};function Dp(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:J0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}ai.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function Nx(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new ai(i.providerId,a,i.signInMethod)}catch{}}return null}function No(i,a){this.Qc=a||[],En(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(Op(i)||{}).Ja||null,this.pb=null}No.prototype.Ka=function(i){return this.Jb=_r(i),this};function jb(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');No.call(this,i,[])}$(jb,No);function Xn(i){No.call(this,i,Dl),this.a=[]}$(Xn,No),Xn.prototype.Ca=function(i){return O(this.a,i)||this.a.push(i),this},Xn.prototype.Rb=function(){return H(this.a)},Xn.prototype.credential=function(i,a){var l;if(E(i)?l={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:l={idToken:i||null,accessToken:a||null},!l.idToken&&!l.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new ai(this.providerId,l,this.providerId)};function Oo(){Xn.call(this,"facebook.com")}$(Oo,Xn),_e(Oo,"PROVIDER_ID","facebook.com"),_e(Oo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Bb(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new Oo().credential({accessToken:a})}function xo(){Xn.call(this,"github.com")}$(xo,Xn),_e(xo,"PROVIDER_ID","github.com"),_e(xo,"GITHUB_SIGN_IN_METHOD","github.com");function $b(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new xo().credential({accessToken:a})}function Ro(){Xn.call(this,"google.com"),this.Ca("profile")}$(Ro,Xn),_e(Ro,"PROVIDER_ID","google.com"),_e(Ro,"GOOGLE_SIGN_IN_METHOD","google.com");function qb(i,a){var l=i;return E(i)&&(l=i.idToken,a=i.accessToken),new Ro().credential({idToken:l,accessToken:a})}function Bs(){No.call(this,"twitter.com",Rb)}$(Bs,No),_e(Bs,"PROVIDER_ID","twitter.com"),_e(Bs,"TWITTER_SIGN_IN_METHOD","twitter.com");function Hb(i,a){var l=i;if(E(l)||(l={oauthToken:i,oauthTokenSecret:a}),!l.oauthToken||!l.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ai("twitter.com",l,"twitter.com")}function Ri(i,a,l){this.a=i,this.f=a,_e(this,"providerId","password"),_e(this,"signInMethod",l===fr.EMAIL_LINK_SIGN_IN_METHOD?fr.EMAIL_LINK_SIGN_IN_METHOD:fr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ri.prototype.ka=function(i){return this.signInMethod==fr.EMAIL_LINK_SIGN_IN_METHOD?He(i,dR,{email:this.a,oobCode:this.f}):He(i,yw,{email:this.a,password:this.f})},Ri.prototype.b=function(i,a){return this.signInMethod==fr.EMAIL_LINK_SIGN_IN_METHOD?He(i,pR,{idToken:a,email:this.a,oobCode:this.f}):He(i,vw,{idToken:a,email:this.a,password:this.f})},Ri.prototype.c=function(i,a){return js(this.ka(i),a)},Ri.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Ox(i){return i&&i.email&&i.password?new Ri(i.email,i.password,i.signInMethod):null}function fr(){En(this,{providerId:"password",isOAuthProvider:!1})}function Kb(i,a){if(a=Lp(a),!a)throw new P("argument-error","Invalid email link!");return new Ri(i,a.code,fr.EMAIL_LINK_SIGN_IN_METHOD)}function Lp(i){return i=Ub(i),(i=Tb(i))&&i.operation===Nl?i:null}En(fr,{PROVIDER_ID:"password"}),En(fr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),En(fr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Pi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new P("internal-error");this.a=i,_e(this,"providerId","phone"),this.fa="phone",_e(this,"signInMethod","phone")}Pi.prototype.ka=function(i){return i.gb(bu(this))},Pi.prototype.b=function(i,a){var l=bu(this);return l.idToken=a,He(i,DR,l)},Pi.prototype.c=function(i,a){var l=bu(this);return l.operation="REAUTH",i=He(i,LR,l),js(i,a)},Pi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function xx(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return ie(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){i[l]&&(a[l]=i[l])}),new Pi(a)}return null}function bu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function ui(i){try{this.a=i||Ce.auth()}catch{throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}En(this,{providerId:"phone",isOAuthProvider:!1})}ui.prototype.gb=function(i,a){var l=this.a.a;return Ie(a.verify()).then(function(m){if(typeof m!="string")throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var v=E(i)?i.session:null,w=E(i)?i.phoneNumber:i,S;return v&&v.type==_u?S=v.Ha().then(function(R){return iR(l,{idToken:R,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:m}})}):v&&v.type==Fl?S=v.Ha().then(function(R){return oR(l,{mfaPendingCredential:R,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):S=rR(l,{phoneNumber:w,recaptchaToken:m}),S.then(function(R){return typeof a.reset=="function"&&a.reset(),R},function(R){throw typeof a.reset=="function"&&a.reset(),R});default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Wb(i,a){if(!i)throw new P("missing-verification-id");if(!a)throw new P("missing-verification-code");return new Pi({fb:i,eb:a})}En(ui,{PROVIDER_ID:"phone"}),En(ui,{PHONE_SIGN_IN_METHOD:"phone"});function Fp(i){if(i.temporaryProof&&i.phoneNumber)return new Pi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var l=i&&i.oauthAccessToken,m=i&&i.oauthTokenSecret,v=i&&i.nonce,w=i&&i.oauthIdToken,S=i&&i.pendingToken;try{switch(a){case"google.com":return qb(w,l);case"facebook.com":return Bb(l);case"github.com":return $b(l);case"twitter.com":return Hb(l,m);default:return l||m||w||S?S?a.indexOf("saml.")==0?new Co(a,S):new ai(a,{pendingToken:S,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Xn(a).credential({idToken:w,accessToken:l,rawNonce:v}):null}}catch{return null}}function Mp(i){if(!i.isOAuthProvider)throw new P("invalid-oauth-provider")}function Ir(i,a,l,m,v,w,S){if(this.c=i,this.b=a||null,this.g=l||null,this.f=m||null,this.i=w||null,this.h=S||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}else throw new P("invalid-auth-event")}Ir.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Ir.prototype.T=function(){return this.h},Ir.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Gb(i){return i=i||{},i.type?new Ir(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&me(i.error),i.postBody,i.tenantId):null}function Rx(){this.b=null,this.a=[]}var Vp=null;function Px(i){var a=Vp;a.a.push(i),a.b||(a.b=function(l){for(var m=0;m<a.a.length;m++)a.a[m](l)},i=It("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function Up(i){var a="unauthorized-domain",l=void 0,m=jn(i);i=m.a,m=m.c,m=="chrome-extension"?l=v0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):m=="http"||m=="https"?l=v0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",P.call(this,a,l)}$(Up,P);function wu(i,a,l){P.call(this,i,l),i=a||{},i.Kb&&_e(this,"email",i.Kb),i.ea&&_e(this,"phoneNumber",i.ea),i.credential&&_e(this,"credential",i.credential),i.$b&&_e(this,"tenantId",i.$b)}$(wu,P),wu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&vt(i,a),i},wu.prototype.toJSON=function(){return this.w()};function Ml(i){if(i.code){var a=i.code||"";a.indexOf(ne)==0&&(a=a.substring(ne.length));var l={credential:Fp(i),$b:i.tenantId};if(i.email)l.Kb=i.email;else if(i.phoneNumber)l.ea=i.phoneNumber;else if(!l.credential)return new P(a,i.message||void 0);return new wu(a,l,i.message)}return null}function Iu(){}Iu.prototype.c=null;function zb(i){return i.c||(i.c=i.b())}var jp;function Vl(){}$(Vl,Iu),Vl.prototype.a=function(){var i=Yb(this);return i?new ActiveXObject(i):new XMLHttpRequest},Vl.prototype.b=function(){var i={};return Yb(this)&&(i[0]=!0,i[1]=!0),i};function Yb(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<a.length;l++){var m=a[l];try{return new ActiveXObject(m),i.f=m}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}jp=new Vl;function Ul(){}$(Ul,Iu),Ul.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new Xb;throw Error("Unsupported browser")},Ul.prototype.b=function(){return{}};function Xb(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=M(this.qc,this),this.a.onerror=M(this.Tb,this),this.a.onprogress=M(this.rc,this),this.a.ontimeout=M(this.vc,this)}e=Xb.prototype,e.open=function(i,a,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Bp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Bp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Bp(this,1)};function Bp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function $p(i,a,l){this.reset(i,a,l,void 0,void 0)}$p.prototype.a=null,$p.prototype.reset=function(i,a,l,m,v){delete this.a};function qp(i){this.f=i,this.b=this.c=this.a=null}function Tu(i,a){this.name=i,this.value=a}Tu.prototype.toString=function(){return this.name};var Qb=new Tu("SEVERE",1e3),Hp=new Tu("WARNING",900),Dx=new Tu("CONFIG",700),Lx=new Tu("FINE",500);function Jb(i){return i.c?i.c:i.a?Jb(i.a):(bt("Root logger has no level set."),null)}qp.prototype.log=function(i,a,l){if(i.value>=Jb(this).value)for(T(a)&&(a=a()),i=new $p(i,String(a),this.f),l&&(i.a=l),l=this;l;)l=l.a};var Kp={},jl=null;function Wp(i){jl||(jl=new qp(""),Kp[""]=jl,jl.c=Dx);var a;if(!(a=Kp[i])){a=new qp(i);var l=i.lastIndexOf("."),m=i.substr(l+1);l=Wp(i.substr(0,l)),l.b||(l.b={}),l.b[m]=a,a.a=l,Kp[i]=a}return a}function hr(i,a){i&&i.log(Lx,a,void 0)}function Bl(i){this.f=i}$(Bl,Iu),Bl.prototype.a=function(){return new $l(this.f)},Bl.prototype.b=function(i){return function(){return i}}({});function $l(i){Tn.call(this),this.u=i,this.h=void 0,this.readyState=Gp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Wp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}$($l,Tn);var Gp=0;e=$l.prototype,e.open=function(i,a){if(this.readyState!=Gp)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,Su(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Eu(this)),this.readyState=Gp},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,Su(this)),this.a&&(this.readyState=3,Su(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,Zb(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Zb(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?Eu(this):Su(this),this.readyState==3&&Zb(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,Eu(this))},e.sc=function(i){this.a&&(this.response=i,Eu(this))},e.Va=function(i){var a=this.i;a&&a.log(Hp,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&Eu(this)};function Eu(i){i.readyState=4,i.g=null,i.c=null,i.m=null,Su(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Hp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Hp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),l=a.next();!l.done;)l=l.value,i.push(l[0]+": "+l[1]),l=a.next();return i.join(`\r
`)};function Su(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function Au(i){Tn.call(this),this.headers=new Ps,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ew,this.u=this.S=!1}$(Au,Tn);var ew="";Au.prototype.b=Wp("goog.net.XhrIo");var Fx=/^https?$/i,Mx=["POST","PUT"];function Vx(i,a,l,m,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);l=l?l.toUpperCase():"GET",i.l=a,i.h="",i.P=l,i.J=!1,i.c=!0,i.a=i.D?i.D.a():jp.a(),i.C=i.D?zb(i.D):zb(jp),i.a.onreadystatechange=M(i.Wb,i);try{hr(i.b,ci(i,"Opening Xhr")),i.N=!0,i.a.open(l,String(a),!0),i.N=!1}catch(S){hr(i.b,ci(i,"Error opening Xhr: "+S.message)),tw(i,S);return}a=m||"";var w=new Ps(i.headers);v&&HO(v,function(S,R){w.set(R,S)}),v=A(w.Y()),m=f.FormData&&a instanceof f.FormData,!O(Mx,l)||v||m||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(S,R){this.a.setRequestHeader(R,S)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{iw(i),0<i.g&&(i.u=Ux(i.a),hr(i.b,ci(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=M(i.Ma,i)):i.s=sp(i.Ma,i.g,i)),hr(i.b,ci(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(S){hr(i.b,ci(i,"Send error: "+S.message)),tw(i,S)}}function Ux(i){return br&&w0(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function jx(i){return i.toLowerCase()=="content-type"}e=Au.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hr(this.b,ci(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function tw(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,nw(i),ql(i)}function nw(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(hr(this.b,ci(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ql(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ql(this,!0)),Au.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?rw(this):this.Jc())},e.Jc=function(){rw(this)};function rw(i){if(i.c&&typeof c<"u"){if(i.C[1]&&ku(i)==4&&Hl(i)==2)hr(i.b,ci(i,"Local request error detected and ignored"));else if(i.i&&ku(i)==4)sp(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),ku(i)==4){hr(i.b,ci(i,"Request complete")),i.c=!1;try{var a=Hl(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var m;if(!(m=l)){var v;if(v=a===0){var w=String(i.l).match(X0)[1]||null;if(!w&&f.self&&f.self.location){var S=f.self.location.protocol;w=S.substr(0,S.length-1)}v=!Fx.test(w?w.toLowerCase():"")}m=v}if(m)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var R=2<ku(i)?i.a.statusText:""}catch(X){hr(i.b,"Can not get status: "+X.message),R=""}i.h=R+" ["+Hl(i)+"]",nw(i)}}finally{ql(i)}}}}function ql(i,a){if(i.a){iw(i);var l=i.a,m=i.C[0]?p:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{l.onreadystatechange=m}catch(v){(i=i.b)&&i.log(Qb,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function iw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ku(i){return i.a?i.a.readyState:0}function Hl(i){try{return 2<ku(i)?i.a.status:-1}catch{return-1}}function Bx(i){try{return i.a?i.a.responseText:""}catch(a){return hr(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ew:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(Qb,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return hr(this.b,"Can not get response: "+a.message),null}};function ci(i,a){return a+" ["+i.P+" "+i.l+" "+Hl(i)+"]"}function Po(i){var a=Hx;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Po.prototype.cancel=function(i){if(this.a)this.c instanceof Po&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new Nu,Kl(this),Cu(this,!1,i))}},Po.prototype.m=function(i,a){this.i=!1,Cu(this,i,a)};function Cu(i,a,l){i.a=!0,i.c=l,i.f=!a,sw(i)}function Kl(i){if(i.a){if(!i.v)throw new Wl;i.v=!1}}function $x(i,a){zp(i,null,a,void 0)}function zp(i,a,l,m){i.g.push([a,l,m]),i.a&&sw(i)}Po.prototype.then=function(i,a,l){var m,v,w=new qe(function(S,R){m=S,v=R});return zp(this,m,function(S){S instanceof Nu?w.cancel():v(S)}),w.then(i,a,l)},Po.prototype.$goog_Thenable=!0;function ow(i){return L(i.g,function(a){return T(a[1])})}function sw(i){if(i.h&&i.a&&ow(i)){var a=i.h,l=Gl[a];l&&(f.clearTimeout(l.a),delete Gl[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var m=l=!1;i.g.length&&!i.i;){var v=i.g.shift(),w=v[0],S=v[1];if(v=v[2],w=i.f?S:w)try{var R=w.call(v||i.s,a);R!==void 0&&(i.f=i.f&&(R==a||R instanceof Error),i.c=a=R),(De(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(m=!0,i.i=!0)}catch(X){a=X,i.f=!0,ow(i)||(l=!0)}}i.c=a,m&&(R=M(i.m,i,!0),m=M(i.m,i,!1),a instanceof Po?(zp(a,R,m),a.C=!0):a.then(R,m)),l&&(a=new aw(a),Gl[a.a]=a,i.h=a.a)}function Wl(){Te.call(this)}$(Wl,Te),Wl.prototype.message="Deferred has already fired",Wl.prototype.name="AlreadyCalledError";function Nu(){Te.call(this)}$(Nu,Te),Nu.prototype.message="Deferred was canceled",Nu.prototype.name="CanceledError";function aw(i){this.a=f.setTimeout(M(this.c,this),0),this.b=i}aw.prototype.c=function(){throw delete Gl[this.a],this.b};var Gl={};function Yp(i){var a={},l=a.document||document,m=c0(i).toString(),v=yl(document,"SCRIPT"),w={Xb:v,Ma:void 0},S=new Po(w),R=null,X=a.timeout!=null?a.timeout:5e3;return 0<X&&(R=window.setTimeout(function(){zl(v,!0);var ee=new Xp(Wx,"Timeout reached for loading script "+m);Kl(S),Cu(S,!1,ee)},X),w.Ma=R),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(zl(v,a.xd||!1,R),Kl(S),Cu(S,!0,null))},v.onerror=function(){zl(v,!0,R);var ee=new Xp(Kx,"Error while loading script "+m);Kl(S),Cu(S,!1,ee)},w=a.attributes||{},vt(w,{type:"text/javascript",charset:"UTF-8"}),T0(v,w),wO(v,i),qx(l).appendChild(v),S}function qx(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function Hx(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&zl(i,!0,this.Ma)}}function zl(i,a,l){l!=null&&f.clearTimeout(l),i.onload=p,i.onerror=p,i.onreadystatechange=p,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var Kx=0,Wx=1;function Xp(i,a){var l="Jsloader error (code #"+i+")";a&&(l+=": "+a),Te.call(this,l),this.code=i}$(Xp,Te);function Yl(i){this.f=i}$(Yl,Iu),Yl.prototype.a=function(){return new this.f},Yl.prototype.b=function(){return{}};function Tr(i,a,l){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||Gx,this.g=_r(i.secureTokenHeaders||zx),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||Yx,this.a=_r(i.firebaseHeaders||Xx),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=Ur()=="Node",l=f.XMLHttpRequest||l&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest,!l&&!wr())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new Bl(self):ub()?this.f=new Yl(l):this.f=new Ul,this.b=null}var Qp,Er="idToken",Gx=new xi(3e4,6e4),zx={"Content-Type":"application/x-www-form-urlencoded"},Yx=new xi(3e4,6e4),Xx={"Content-Type":"application/json"};function uw(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Xl(i,a){a&&(i.l=Jp("https://securetoken.googleapis.com/v1/token",a),i.h=Jp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Jp("https://identitytoolkit.googleapis.com/v2/",a))}function Jp(i,a){return i=jn(i),a=jn(a.url),i.f=i.a+i.f,uu(i,a.c),i.a=a.a,cu(i,a.g),i.toString()}function cw(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Tr.prototype.T=function(){return this.b};function lw(i,a,l,m,v,w,S){ex()||wr()?i=M(i.u,i):(Qp||(Qp=new qe(function(R,X){Jx(R,X)})),i=M(i.s,i)),i(a,l,m,v,w,S)}Tr.prototype.u=function(i,a,l,m,v,w){if(wr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var S=new Au(this.f);if(w){S.g=Math.max(0,w);var R=setTimeout(function(){S.dispatchEvent("timeout")},w)}G0(S,"complete",function(){R&&clearTimeout(R);var X=null;try{X=JSON.parse(Bx(this))||null}catch{X=null}a&&a(X)}),op(S,"ready",function(){R&&clearTimeout(R),j0(this)}),op(S,"timeout",function(){R&&clearTimeout(R),j0(this),a&&a(null)}),Vx(S,i,l,m,v)};var Qx=new Mr(pl,"https://apis.google.com/js/client.js?onload=%{onload}"),fw="__fcb"+Math.floor(1e6*Math.random()).toString();function Jx(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[fw]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var l=Bd(Qx,{onload:fw});$x(Yp(l),function(){a(Error("CORS_UNSUPPORTED"))})}}Tr.prototype.s=function(i,a,l,m,v){var w=this;Qp.then(function(){window.gapi.client.setApiKey(w.c);var S=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:l,body:m,headers:v,authType:"none",callback:function(R){window.gapi.auth.setToken(S),a&&a(R)}})}).o(function(S){a&&a({error:{message:S&&S.message||"CORS_UNSUPPORTED"}})})};function Zx(i,a){return new qe(function(l,m){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?lw(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?m(sm(v)):v.access_token&&v.refresh_token?l(v):m(new P("internal-error")):m(new P("network-request-failed"))},"POST",J0(a).toString(),i.g,i.m.get()):m(new P("internal-error"))})}function hw(i,a,l,m,v,w,S){var R=jn(a+l);Rt(R,"key",i.c),S&&Rt(R,"cb",Date.now().toString());var X=m=="GET";if(X)for(var ee in v)v.hasOwnProperty(ee)&&Rt(R,ee,v[ee]);return new qe(function(Le,ot){lw(i,R.toString(),function(et){et?et.error?ot(sm(et,w||{})):Le(et):ot(new P("network-request-failed"))},m,X?void 0:tb(fb(v)),i.a,i.v.get())})}function Do(i){if(i=i.email,typeof i!="string"||!rx.test(i))throw new P("invalid-email")}function dw(i){"email"in i&&Do(i)}function eR(i,a){return He(i,lR,{identifier:a,continueUri:Cl()?hu():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function tR(i){return He(i,IR,{}).then(function(a){return a.authorizedDomains||[]})}function Bn(i){if(!i[Er])throw i.mfaPendingCredential?new P("multi-factor-auth-required",null,_r(i)):new P("internal-error")}function Zp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new P("internal-error")}else{if(!i.sessionInfo)throw new P("missing-verification-id");if(!i.code)throw new P("missing-verification-code")}}Tr.prototype.Ab=function(){return He(this,AR,{})},Tr.prototype.Cb=function(i,a){return He(this,gw,{idToken:i,email:a})},Tr.prototype.Db=function(i,a){return He(this,vw,{idToken:i,password:a})};var nR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Tr.prototype,e.Eb=function(i,a){var l={idToken:i},m=[];return nu(nR,function(v,w){var S=a[w];S===null?m.push(v):w in a&&(l[w]=S)}),m.length&&(l.deleteAttribute=m),He(this,gw,l)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},vt(i,a),He(this,wR,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},vt(i,a),He(this,yR,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},vt(i,a),He(this,_R,i)},e.Fb=function(i,a,l){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},vt(i,l),He(this,bR,i)};function rR(i,a){return He(i,SR,a)}e.gb=function(i){return He(this,PR,i)};function iR(i,a){return He(i,kR,a).then(function(l){return l.phoneSessionInfo.sessionInfo})}function pw(i){if(!i.phoneVerificationInfo)throw new P("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new P("missing-verification-code")}function oR(i,a){return He(i,CR,a).then(function(l){return l.phoneResponseInfo.sessionInfo})}function sR(i,a,l){return He(i,hR,{idToken:a,deleteProvider:l})}function em(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new P("internal-error")}function tm(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Eo(i.postBody),cp(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function mw(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=Ml(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=Ml(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=Ml(i)):i.errorMessage&&(a=_w(i.errorMessage)),a)throw a;Bn(i)}function nm(i,a){return a.returnIdpCredential=!0,He(i,NR,a)}function rm(i,a){return a.returnIdpCredential=!0,He(i,xR,a)}function im(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,He(i,OR,a)}function om(i){if(!i.oobCode)throw new P("invalid-action-code")}e.ob=function(i,a){return He(this,ER,{oobCode:i,newPassword:a})},e.Sa=function(i){return He(this,uR,{oobCode:i})},e.kb=function(i){return He(this,aR,{oobCode:i})};var aR={endpoint:"setAccountInfo",A:om,Z:"email",B:!0},uR={endpoint:"resetPassword",A:om,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},B:!0},cR={endpoint:"signupNewUser",A:function(i){if(Do(i),!i.password)throw new P("weak-password")},G:Bn,V:!0,B:!0},lR={endpoint:"createAuthUri",B:!0},fR={endpoint:"deleteAccount",O:["idToken"]},hR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new P("internal-error")}},dR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Do,G:Bn,V:!0,B:!0},pR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Do,G:Bn,V:!0},mR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:pw,G:Bn,B:!0,Na:!0},gR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:pw,G:Bn,B:!0,Na:!0},vR={endpoint:"getAccountInfo"},yR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new P("internal-error");Do(i)},Z:"email",B:!0},_R={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new P("internal-error")},Z:"email",B:!0},bR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},Z:"email",B:!0},wR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new P("internal-error");Do(i)},Z:"email",B:!0},IR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},TR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new P("internal-error")}},ER={endpoint:"resetPassword",A:om,Z:"email",B:!0},SR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},gw={endpoint:"setAccountInfo",O:["idToken"],A:dw,V:!0},vw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(dw(i),!i.password)throw new P("weak-password")},G:Bn,V:!0},AR={endpoint:"signupNewUser",G:Bn,V:!0,B:!0},kR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new P("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},CR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},NR={endpoint:"verifyAssertion",A:em,Za:tm,G:mw,V:!0,B:!0},OR={endpoint:"verifyAssertion",A:em,Za:tm,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new P("user-not-found");if(i.errorMessage)throw _w(i.errorMessage);Bn(i)},V:!0,B:!0},xR={endpoint:"verifyAssertion",A:function(i){if(em(i),!i.idToken)throw new P("internal-error")},Za:tm,G:mw,V:!0},RR={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new P("invalid-custom-token")},G:Bn,V:!0,B:!0},yw={endpoint:"verifyPassword",A:function(i){if(Do(i),!i.password)throw new P("wrong-password")},G:Bn,V:!0,B:!0},PR={endpoint:"verifyPhoneNumber",A:Zp,G:Bn,B:!0},DR={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new P("internal-error");Zp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Ml(i);Bn(i)}},LR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Zp,G:Bn,B:!0},FR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Er]^!!i.refreshToken)throw new P("internal-error")},B:!0,Na:!0};function He(i,a,l){if(!lx(l,a.O))return wt(new P("internal-error"));var m=!!a.Na,v=a.Vb||"POST",w;return Ie(l).then(a.A).then(function(){return a.V&&(l.returnSecureToken=!0),a.B&&i.b&&typeof l.tenantId>"u"&&(l.tenantId=i.b),m?hw(i,i.i,a.endpoint,v,l,a.Ib,a.mb||!1):hw(i,i.h,a.endpoint,v,l,a.Ib,a.mb||!1)}).then(function(S){return w=S,a.Za?a.Za(l,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new P("internal-error");return w[a.Z]})}function _w(i){return sm({error:{errors:[{message:i}],code:400,message:i}})}function sm(i,a){var l=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=m[l]?new P(m[l]):null)return l;l=i.error&&i.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},vt(m,a||{}),a=(a=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var v in m)if(l.indexOf(v)===0)return new P(m[v],a);return!a&&i&&(a=pu(i)),new P("internal-error",a)}function MR(i){this.b=i,this.a=null,this.sb=VR(this)}function VR(i){return HR().then(function(){return new qe(function(a,l){It("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function v(){clearTimeout(w),a()}i.a=m,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){l(Error("Network Error"))},qR.get());m.ping(v).then(v,function(){l(Error("Network Error"))})})})})}function UR(i,a){return i.sb.then(function(){return new qe(function(l){i.a.send(a.type,a,l,It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function jR(i,a){i.sb.then(function(){i.a.register("authEvent",a,It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var BR=new Mr(pl,"https://apis.google.com/js/api.js?onload=%{onload}"),$R=new xi(3e4,6e4),qR=new xi(5e3,15e3),Ql=null;function HR(){return Ql||(Ql=new qe(function(i,a){function l(){db(),It("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){db(),a(Error("Network Error"))},timeout:$R.get()})}if(It("gapi.iframes.Iframe"))i();else if(It("gapi.load"))l();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[m]=function(){It("gapi.load")?l():a(Error("Network Error"))},m=Bd(BR,{onload:m}),Ie(Yp(m)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Ql=null,i}))}function bw(i,a,l,m){this.l=i,this.h=a,this.i=l,this.g=m,this.f=null,this.g?(i=jn(this.g.url),i=Al(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Al("https",this.l,null,"/__/auth/iframe"),this.a=i,Rt(this.a,"apiKey",this.h),Rt(this.a,"appName",this.i),this.b=null,this.c=[]}bw.prototype.toString=function(){return this.f?Rt(this.a,"v",this.f):Vr(this.a.b,"v"),this.b?Rt(this.a,"eid",this.b):Vr(this.a.b,"eid"),this.c.length?Rt(this.a,"fw",this.c.join(",")):Vr(this.a.b,"fw"),this.a.toString()};function am(i,a,l,m,v,w){this.u=i,this.s=a,this.c=l,this.m=m,this.v=w,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}am.prototype.zb=function(i){return this.h=i,this},am.prototype.toString=function(){if(this.v){var i=jn(this.v.url);i=Al(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Al("https",this.u,null,"/__/auth/handler");if(Rt(i,"apiKey",this.s),Rt(i,"appName",this.c),Rt(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var l=Ce.app(this.c).auth().la()}catch{l=null}a.pb=l,Rt(i,"providerId",this.a.providerId),l=this.a,a=fb(l.Jb);for(var m in a)a[m]=a[m].toString();m=l.Qc,a=_r(a);for(var v=0;v<m.length;v++){var w=m[v];w in a&&delete a[w]}l.qb&&l.pb&&!a[l.qb]&&(a[l.qb]=l.pb),zn(a)||Rt(i,"customParameters",pu(a))}if(typeof this.a.Rb=="function"&&(l=this.a.Rb(),l.length&&Rt(i,"scopes",l.join(","))),this.l?Rt(i,"redirectUrl",this.l):Vr(i.b,"redirectUrl"),this.g?Rt(i,"eventId",this.g):Vr(i.b,"eventId"),this.i?Rt(i,"v",this.i):Vr(i.b,"v"),this.b)for(var S in this.b)this.b.hasOwnProperty(S)&&!lr(i,S)&&Rt(i,S,this.b[S]);return this.h?Rt(i,"tid",this.h):Vr(i.b,"tid"),this.f?Rt(i,"eid",this.f):Vr(i.b,"eid"),S=um(this.c),S.length&&Rt(i,"fw",S.join(",")),i.toString()};function um(i){try{return Ce.app(i).auth().Ga()}catch{return[]}}function ww(i,a,l,m,v,w){this.s=i,this.g=a,this.b=l,this.f=w,this.c=m||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Iw(i){var a=hu();return tR(i).then(function(l){e:{var m=jn(a),v=m.c;m=m.a;for(var w=0;w<l.length;w++){var S=l[w],R=m,X=v;if(S.indexOf("chrome-extension://")==0?R=jn(S).a==R&&X=="chrome-extension":X!="http"&&X!="https"?R=!1:nx.test(S)?R=R==S:(S=S.split(".").join("\\."),R=new RegExp("^(.+\\."+S+"|"+S+")$","i").test(R)),R){l=!0;break e}}l=!1}if(!l)throw new Up(hu())})}function Tw(i){return i.m||(i.m=kl().then(function(){if(!i.u){var a=i.c,l=i.i,m=um(i.b),v=new bw(i.s,i.g,i.b,i.f);v.f=a,v.b=l,v.c=H(m||[]),i.u=v.toString()}i.v=new MR(i.u),KR(i)})),i.m}e=ww.prototype,e.Pb=function(i,a,l){var m=new P("popup-closed-by-user"),v=new P("web-storage-unsupported"),w=this,S=!1;return this.ma().then(function(){WR(w).then(function(R){R||(i&&So(i),a(v),S=!0)})}).o(function(){}).then(function(){if(!S)return tx(i)}).then(function(){if(!S)return Rs(l).then(function(){a(m)})})},e.Yb=function(){var i=rn();return!du(i)&&!hb(i)},e.Ub=function(){return!1},e.Nb=function(i,a,l,m,v,w,S,R){if(!i)return wt(new P("popup-blocked"));if(S&&!du())return this.ma().o(function(ee){So(i),v(ee)}),m(),Ie();this.a||(this.a=Iw(Ew(this)));var X=this;return this.a.then(function(){var ee=X.ma().o(function(Le){throw So(i),v(Le),Le});return m(),ee}).then(function(){if(Mp(l),!S){var ee=Ou(X.s,X.g,X.b,a,l,null,w,X.c,void 0,X.i,R,X.f);ib(ee,i)}}).o(function(ee){throw ee.code=="auth/network-request-failed"&&(X.a=null),ee})};function Ew(i){return i.l||(i.C=i.c?Fs(i.c,um(i.b)):null,i.l=new Tr(i.g,Pe(i.i),i.C),i.f&&Xl(i.l,i.f)),i.l}e.Ob=function(i,a,l,m){this.a||(this.a=Iw(Ew(this)));var v=this;return this.a.then(function(){Mp(a);var w=Ou(v.s,v.g,v.b,i,a,hu(),l,v.c,void 0,v.i,m,v.f);ib(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(v.a=null),w})},e.ma=function(){var i=this;return Tw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new P("network-request-failed")})},e.ac=function(){return!0};function Ou(i,a,l,m,v,w,S,R,X,ee,Le,ot){return i=new am(i,a,l,m,v,ot),i.l=w,i.g=S,i.i=R,i.b=_r(X||null),i.f=ee,i.zb(Le).toString()}function KR(i){if(!i.v)throw Error("IfcHandler must be initialized!");jR(i.v,function(a){var l={};if(a&&a.authEvent){var m=!1;for(a=Gb(a.authEvent),l=0;l<i.h.length;l++)m=i.h[l](a)||m;return l={},l.status=m?"ACK":"ERROR",Ie(l)}return l.status="ERROR",Ie(l)})}function WR(i){var a={type:"webStorageSupport"};return Tw(i).then(function(){return UR(i.v,a)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport<"u")return l[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){x(this.h,function(a){return a==i})};function Sw(i){if(this.a=i||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Sw.prototype,e.get=function(i){return Ie(this.a.getItem(i)).then(function(a){return a&&Vs(a)})},e.set=function(i,a){return Ie(this.a.setItem(i,pu(a)))},e.U=function(i){return Ie(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Aw(i){this.b=i,this.a={},this.f=M(this.c,this)}var kw=[];function GR(){var i=wr()?self:null;if(ie(kw,function(l){l.b==i&&(a=l)}),!a){var a=new Aw(i);kw.push(a)}return a}Aw.prototype.c=function(i){var a=i.data.eventType,l=i.data.eventId,m=this.a[a];if(m&&0<m.length){i.ports[0].postMessage({status:"ack",eventId:l,eventType:a,response:null});var v=[];ie(m,function(w){v.push(Ie().then(function(){return w(i.origin,i.data.data)}))}),x0(v).then(function(w){var S=[];ie(w,function(R){S.push({fulfilled:R.Qb,value:R.value,reason:R.reason?R.reason.message:void 0})}),ie(S,function(R){for(var X in R)typeof R[X]>"u"&&delete R[X]}),i.ports[0].postMessage({status:"done",eventId:l,eventType:a,response:S})})}};function Cw(i,a,l){zn(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(l)}function Nw(i){this.a=i}Nw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Ow(i){this.c=i,this.b=!1,this.a=[]}function xw(i,a,l,m){var v,w=l||{},S,R,X,ee=null;if(i.b)return wt(Error("connection_unavailable"));var Le=m?800:50,ot=typeof MessageChannel<"u"?new MessageChannel:null;return new qe(function(et,Yt){ot?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),ot.port1.start(),R=setTimeout(function(){Yt(Error("unsupported_event"))},Le),S=function(li){li.data.eventId===v&&(li.data.status==="ack"?(clearTimeout(R),X=setTimeout(function(){Yt(Error("timeout"))},3e3)):li.data.status==="done"?(clearTimeout(X),typeof li.data.response<"u"?et(li.data.response):Yt(Error("unknown_error"))):(clearTimeout(R),clearTimeout(X),Yt(Error("invalid_response"))))},ee={messageChannel:ot,onMessage:S},i.a.push(ee),ot.port1.addEventListener("message",S),i.c.postMessage({eventType:a,eventId:v,data:w},[ot.port2])):Yt(Error("connection_unavailable"))}).then(function(et){return cm(i,ee),et}).o(function(et){throw cm(i,ee),et})}function cm(i,a){if(a){var l=a.messageChannel,m=a.onMessage;l&&(l.port1.removeEventListener("message",m),l.port1.close()),x(i.a,function(v){return v==a})}}Ow.prototype.close=function(){for(;0<this.a.length;)cm(this,this.a[0]);this.b=!0};function Rw(){if(!hm())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;wr()&&self?(this.v=GR(),Cw(this.v,"keyChanged",function(a,l){return Lw(i).then(function(m){return 0<m.length&&ie(i.a,function(v){v(m)}),{keyProcessed:O(m,l.key)}})}),Cw(this.v,"ping",function(){return Ie(["keyChanged"])})):ux().then(function(a){(i.h=a)&&(i.g=new Ow(new Nw(a)),xw(i.g,"ping",null,!0).then(function(l){l[0].fulfilled&&O(l[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var lm;function zR(i){return new qe(function(a,l){var m=i.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){a()},m.onerror=function(v){l(Error(v.target.error))}})}function Pw(i){return new qe(function(a,l){var m=i.m.open("firebaseLocalStorageDb",1);m.onerror=function(v){try{v.preventDefault()}catch{}l(Error(v.target.error))},m.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){l(w)}},m.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?a(v):zR(i).then(function(){return Pw(i)}).then(function(w){a(w)}).o(function(w){l(w)})}})}function fm(i){return i.i||(i.i=Pw(i)),i.i}function Jl(i,a){function l(v,w){fm(i).then(a).then(v).o(function(S){if(3<++m)w(S);else return fm(i).then(function(R){return R.close(),i.i=void 0,l(v,w)}).o(function(R){w(R)})})}var m=0;return new qe(l)}function hm(){try{return!!f.indexedDB}catch{return!1}}function xu(i){return i.objectStore("firebaseLocalStorage")}function Ru(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function $s(i){return new qe(function(a,l){i.onsuccess=function(m){m&&m.target?a(m.target.result):a()},i.onerror=function(m){l(m.target.error)}})}e=Rw.prototype,e.set=function(i,a){var l=this,m=!1;return Jl(this,function(v){return v=xu(Ru(v,!0)),$s(v.get(i))}).then(function(v){return Jl(l,function(w){if(w=xu(Ru(w,!0)),v)return v.value=a,$s(w.put(v));l.b++,m=!0;var S={};return S.fbase_key=i,S.value=a,$s(w.add(S))})}).then(function(){return l.c[i]=a,Dw(l,i)}).oa(function(){m&&l.b--})};function Dw(i,a){return i.g&&i.h&&ax()===i.h?xw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Ie()}e.get=function(i){return Jl(this,function(a){return $s(xu(Ru(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,l=!1;return Jl(this,function(m){return l=!0,a.b++,$s(xu(Ru(m,!0)).delete(i))}).then(function(){return delete a.c[i],Dw(a,i)}).oa(function(){l&&a.b--})};function Lw(i){return fm(i).then(function(a){var l=xu(Ru(a,!1));return l.getAll?$s(l.getAll()):new qe(function(m,v){var w=[],S=l.openCursor();S.onsuccess=function(R){(R=R.target.result)?(w.push(R.value),R.continue()):m(w)},S.onerror=function(R){v(R.target.error)}})}).then(function(a){var l={},m=[];if(i.b==0){for(m=0;m<a.length;m++)l[a[m].fbase_key]=a[m].value;m=ob(i.c,l),i.c=l}return m})}e.ca=function(i){this.a.length==0&&YR(this),this.a.push(i)},e.ia=function(i){x(this.a,function(a){return a==i}),this.a.length==0&&Fw(this)};function YR(i){function a(){i.f=setTimeout(function(){i.l=Lw(i).then(function(l){0<l.length&&ie(i.a,function(m){m(l)})}).then(function(){a()}).o(function(l){l.message!="STOP_EVENT"&&a()})},800)}Fw(i),a()}function Fw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function Mw(i){var a=this,l=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Ie().then(function(){if(hm()){var m=ko(),v="__sak"+m;return lm||(lm=new Rw),l=lm,l.set(v,m).then(function(){return l.get(v)}).then(function(w){if(w!==m)throw Error("indexedDB not supported!");return l.U(v)}).then(function(){return l}).o(function(){return a.c})}return a.c}).then(function(m){return a.type=m.type,m.ca(function(v){ie(a.a,function(w){w(v)})}),m})}e=Mw.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(l){return l.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){x(this.a,function(a){return a==i})};function Pu(){this.a={},this.type="inMemory"}e=Pu.prototype,e.get=function(i){return Ie(this.a[i])},e.set=function(i,a){return this.a[i]=a,Ie()},e.U=function(i){return delete this.a[i],Ie()},e.ca=function(){},e.ia=function(){};function Zl(){if(!XR())throw Ur()=="Node"?new P("internal-error","The LocalStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=Vw()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function Vw(){try{var i=f.localStorage,a=ko();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function XR(){var i=Ur()=="Node";if(i=Vw()||i&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Zl.prototype,e.get=function(i){var a=this;return Ie().then(function(){var l=a.a.getItem(i);return Vs(l)})},e.set=function(i,a){var l=this;return Ie().then(function(){var m=pu(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return Ie().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&cr(f.window,"storage",i)},e.ia=function(i){f.window&&Yn(f.window,"storage",i)};function dm(){this.type="nullStorage"}e=dm.prototype,e.get=function(){return Ie(null)},e.set=function(){return Ie()},e.U=function(){return Ie()},e.ca=function(){},e.ia=function(){};function pm(){if(!QR())throw Ur()=="Node"?new P("internal-error","The SessionStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=Uw()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uw(){try{var i=f.sessionStorage,a=ko();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function QR(){var i=Ur()=="Node";if(i=Uw()||i&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=pm.prototype,e.get=function(i){var a=this;return Ie().then(function(){var l=a.a.getItem(i);return Vs(l)})},e.set=function(i,a){var l=this;return Ie().then(function(){var m=pu(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return Ie().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function JR(){var i={};i.Browser=ZR,i.Node=eP,i.ReactNative=tP,i.Worker=nP,this.a=i[Ur()]}var mm,ZR={F:Zl,cb:pm},eP={F:Zl,cb:pm},tP={F:Sw,cb:dm},nP={F:Zl,cb:dm},qs={rd:"local",NONE:"none",td:"session"};function rP(i){var a=new P("invalid-persistence-type"),l=new P("unsupported-persistence-type");e:{for(m in qs)if(qs[m]==i){var m=!0;break e}m=!1}if(!m||typeof i!="string")throw a;switch(Ur()){case"ReactNative":if(i==="session")throw l;break;case"Node":if(i!=="none")throw l;break;case"Worker":if(i==="session"||!hm()&&i!=="none")throw l;break;default:if(!mp()&&i!=="none")throw l}}function jw(){var i=!!(!hb(rn())&&dp()),a=du(),l=mp();this.m=i,this.h=a,this.l=l,this.a={},mm||(mm=new JR),i=mm;try{this.g=!fp()&&pb()||!f.indexedDB?new i.a.F:new Mw(wr()?new Pu:new i.a.F)}catch{this.g=new Pu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Pu}this.v=new Pu,this.f=M(this.Zb,this),this.b={}}var gm;function Du(){return gm||(gm=new jw),gm}function Lo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function Hs(i,a){return"firebase:"+i.name+(a?":"+a:"")}function iP(i,a,l){var m=Hs(a,l),v=Lo(i,a.F);return i.get(a,l).then(function(w){var S=null;try{S=Vs(f.localStorage.getItem(m))}catch{}if(S&&!w)return f.localStorage.removeItem(m),i.set(a,S,l);S&&w&&v.type!="localStorage"&&f.localStorage.removeItem(m)})}e=jw.prototype,e.get=function(i,a){return Lo(this,i.F).get(Hs(i,a))};function Ks(i,a,l){return l=Hs(a,l),a.F=="local"&&(i.b[l]=null),Lo(i,a.F).U(l)}e.set=function(i,a,l){var m=Hs(i,l),v=this,w=Lo(this,i.F);return w.set(m,a).then(function(){return w.get(m)}).then(function(S){i.F=="local"&&(v.b[m]=S)})},e.addListener=function(i,a,l){i=Hs(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),zn(this.a)&&(Lo(this,"local").ca(this.f),this.h||(fp()||!pb())&&f.indexedDB||!this.l||oP(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(l)},e.removeListener=function(i,a,l){i=Hs(i,a),this.a[i]&&(x(this.a[i],function(m){return m==l}),this.a[i].length==0&&delete this.a[i]),zn(this.a)&&(Lo(this,"local").ia(this.f),vm(this))};function oP(i){vm(i),i.c=setInterval(function(){for(var a in i.a){var l=f.localStorage.getItem(a),m=i.b[a];l!=m&&(i.b[a]=l,l=new Io({type:"storage",key:a,target:window,oldValue:m,newValue:l,a:!0}),i.Zb(l))}},1e3)}function vm(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var l in this.a){var m=this.b[l];typeof m>"u"&&(m=null);var v=f.localStorage.getItem(l);v!==m&&(this.b[l]=v,this.nb(l))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?Lo(this,"local").ia(this.f):vm(this),this.m){if(l=f.localStorage.getItem(a),m=i.a.newValue,m!==l)m!==null?f.localStorage.setItem(a,m):f.localStorage.removeItem(a);else if(this.b[a]===m&&typeof i.a.a>"u")return}var w=this;l=function(){(typeof i.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},br&&Ci&&Ci==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(l,10):l()}}else ie(i,M(this.nb,this))},e.nb=function(i){this.a[i]&&ie(this.a[i],function(a){a()})};function sP(i){this.a=i,this.b=Du()}var ym={name:"authEvent",F:"local"};function aP(i){return i.b.get(ym,i.a).then(function(a){return Gb(a)})}function uP(){this.a=Du()}function cP(){this.b=-1}function ef(i,a){this.b=Bw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),tf===void 0&&(f.Int32Array?tf=new Int32Array(Hw):tf=Hw),this.reset()}var tf;$(ef,cP);for(var Bw=64,lP=Bw-1,$w=[],_m=0;_m<lP;_m++)$w[_m]=0;var qw=F(128,$w);ef.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):H(this.h)};function bm(i){for(var a=i.f,l=i.l,m=0,v=0;v<a.length;)l[m++]=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3],v=4*m;for(a=16;64>a;a++){v=l[a-15]|0,m=l[a-2]|0;var w=(l[a-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,S=(l[a-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;l[a]=w+S|0}m=i.a[0]|0,v=i.a[1]|0;var R=i.a[2]|0,X=i.a[3]|0,ee=i.a[4]|0,Le=i.a[5]|0,ot=i.a[6]|0;for(w=i.a[7]|0,a=0;64>a;a++){var et=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&v^m&R^v&R)|0;S=ee&Le^~ee&ot,w=w+((ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7))|0,S=S+(tf[a]|0)|0,S=w+(S+(l[a]|0)|0)|0,w=ot,ot=Le,Le=ee,ee=X+S|0,X=R,R=v,v=m,m=S+et|0}i.a[0]=i.a[0]+m|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+R|0,i.a[3]=i.a[3]+X|0,i.a[4]=i.a[4]+ee|0,i.a[5]=i.a[5]+Le|0,i.a[6]=i.a[6]+ot|0,i.a[7]=i.a[7]+w|0}function wm(i,a,l){l===void 0&&(l=a.length);var m=0,v=i.c;if(typeof a=="string")for(;m<l;)i.f[v++]=a.charCodeAt(m++),v==i.b&&(bm(i),v=0);else if(b(a))for(;m<l;){var w=a[m++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[v++]=w,v==i.b&&(bm(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=l}var Hw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Kw(){ef.call(this,8,fP)}$(Kw,ef);var fP=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ww(i,a,l,m,v,w){this.v=i,this.i=a,this.l=l,this.m=m||null,this.u=v||null,this.s=w,this.h=a+":"+l,this.C=new uP,this.g=new sP(this.h),this.f=null,this.b=[],this.a=this.c=null}function nf(i){return new P("invalid-cordova-configuration",i)}e=Ww.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=ix().then(function(){if(typeof It("universalLinks.subscribe",f)!="function")throw nf("cordova-universal-links-plugin-fix is not installed");if(typeof It("BuildInfo.packageName",f)>"u")throw nf("cordova-plugin-buildinfo is not installed");if(typeof It("cordova.plugins.browsertab.openUrl",f)!="function")throw nf("cordova-plugin-browsertab is not installed");if(typeof It("cordova.InAppBrowser.open",f)!="function")throw nf("cordova-plugin-inappbrowser is not installed")},function(){throw new P("cordova-not-ready")})};function hP(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function dP(i){var a=new Kw;wm(a,i),i=[];var l=8*a.g;56>a.c?wm(a,qw,56-a.c):wm(a,qw,a.b-(a.c-56));for(var m=63;56<=m;m--)a.f[m]=l&255,l/=256;for(bm(a),m=l=0;m<a.i;m++)for(var v=24;0<=v;v-=8)i[l++]=a.a[m]>>v&255;return Ex(i)}e.Pb=function(i,a){return a(new P("operation-not-supported-in-this-environment")),Ie()},e.Nb=function(){return wt(new P("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,l,m){if(this.c)return wt(new P("redirect-operation-pending"));var v=this,w=f.document,S=null,R=null,X=null,ee=null;return this.c=Ie().then(function(){return Mp(a),zw(v)}).then(function(){return pP(v,i,a,l,m)}).then(function(){return new qe(function(Le,ot){R=function(){var et=It("cordova.plugins.browsertab.close",f);return Le(),typeof et=="function"&&et(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(R),X=function(){S||(S=Rs(2e3).then(function(){ot(new P("redirect-cancelled-by-user"))}))},ee=function(){gp()&&X()},w.addEventListener("resume",X,!1),rn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",ee,!1)}).o(function(Le){return Im(v).then(function(){throw Le})})}).oa(function(){X&&w.removeEventListener("resume",X,!1),ee&&w.removeEventListener("visibilitychange",ee,!1),S&&S.cancel(),R&&v.Ta(R),v.c=null})};function pP(i,a,l,m,v){var w=hP(),S=new Ir(a,m,null,w,new P("no-auth-event"),null,v),R=It("BuildInfo.packageName",f);if(typeof R!="string")throw new P("invalid-cordova-configuration");var X=It("BuildInfo.displayName",f),ee={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))ee.ibi=R;else if(rn().toLowerCase().match(/android/))ee.apn=R;else return wt(new P("operation-not-supported-in-this-environment"));X&&(ee.appDisplayName=X),w=dP(w),ee.sessionId=w;var Le=Ou(i.v,i.i,i.l,a,l,null,m,i.m,ee,i.u,v,i.s);return i.ma().then(function(){var ot=i.h;return i.C.a.set(ym,S.w(),ot)}).then(function(){var ot=It("cordova.plugins.browsertab.isAvailable",f);if(typeof ot!="function")throw new P("invalid-cordova-configuration");var et=null;ot(function(Yt){if(Yt){if(et=It("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new P("invalid-cordova-configuration");et(Le)}else{if(et=It("cordova.InAppBrowser.open",f),typeof et!="function")throw new P("invalid-cordova-configuration");Yt=rn(),i.a=et(Le,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Gw(i,a){for(var l=0;l<i.b.length;l++)try{i.b[l](a)}catch{}}function zw(i){return i.f||(i.f=i.ma().then(function(){return new qe(function(a){function l(m){return a(m),i.Ta(l),!1}i.Ea(l),mP(i)})})),i.f}function Im(i){var a=null;return aP(i.g).then(function(l){return a=l,l=i.g,Ks(l.b,ym,l.a)}).then(function(){return a})}function mP(i){function a(S){m=!0,v&&v.cancel(),Im(i).then(function(R){var X=l;if(R&&S&&S.url){var ee=null;X=Ub(S.url),X.indexOf("/__/auth/callback")!=-1&&(ee=jn(X),ee=Vs(lr(ee,"firebaseError")||null),ee=(ee=typeof ee=="object"?me(ee):null)?new Ir(R.c,R.b,null,null,ee,null,R.T()):new Ir(R.c,R.b,X,R.f,null,null,R.T())),X=ee||l}Gw(i,X)})}var l=new Ir("unknown",null,null,null,new P("no-auth-event")),m=!1,v=Rs(500).then(function(){return Im(i).then(function(){m||Gw(i,l)})}),w=f.handleOpenURL;f.handleOpenURL=function(S){if(S.toLowerCase().indexOf(It("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:S}),typeof w=="function")try{w(S)}catch(R){console.error(R)}},Vp||(Vp=new Rx),Px(a)}e.Ea=function(i){this.b.push(i),zw(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Ir("unknown",null,null,null,new P("no-auth-event")),i(a))})},e.Ta=function(i){x(this.b,function(a){return a==i})};function gP(i){this.a=i,this.b=Du()}var Tm={name:"pendingRedirect",F:"session"};function vP(i){return i.b.set(Tm,"pending",i.a)}function Em(i){return Ks(i.b,Tm,i.a)}function yP(i){return i.b.get(Tm,i.a).then(function(a){return a=="pending"})}function rf(i,a,l,m){this.i={},this.u=0,this.D=i,this.v=a,this.m=l,this.J=m,this.h=[],this.f=!1,this.l=M(this.s,this),this.b=new sf,this.C=new iI,this.g=new gP(tI(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Yw(this.D,this.v,this.m,xe,this.J)}function Yw(i,a,l,m,v){var w=Ce.SDK_VERSION||null;return hp()?new Ww(i,a,l,w,m,v):new ww(i,a,l,w,m,v)}rf.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Yw(this.D,this.v,this.m,null,this.J),this.i={}};function Xw(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(l){throw i.a==a&&i.reset(),l})}function Qw(i){i.a.Yb()&&Xw(i).o(function(a){var l=new Ir("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Am(a)&&i.s(l)}),i.a.Ub()||nI(i.b)}function of(i,a){O(i.h,a)||i.h.push(a),i.f||yP(i.g).then(function(l){l?Em(i.g).then(function(){Xw(i).o(function(m){var v=new Ir("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Am(m)&&i.s(v)})}):Qw(i)}).o(function(){Qw(i)})}function Sm(i,a){x(i.h,function(l){return l==a})}rf.prototype.s=function(i){if(!i)throw new P("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,l=0;l<this.h.length;l++){var m=this.h[l];if(m.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,m),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return nI(this.b),a};var _P=new xi(2e3,1e4),bP=new xi(3e4,6e4);rf.prototype.ra=function(){return this.b.ra()};function Jw(i,a,l,m,v,w,S){return i.a.Nb(a,l,m,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,w,S)}function Am(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Zw(i,a,l,m,v){var w;return vP(i.g).then(function(){return i.a.Ob(a,l,m,v).o(function(S){if(Am(S))throw new P("operation-not-supported-in-this-environment");return w=S,Em(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new qe(function(){}):Em(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function eI(i,a,l,m,v){return i.a.Pb(m,function(w){a.na(l,null,w,v)},_P.get())}var km={};function tI(i,a,l){return i=i+":"+a,l&&(i=i+":"+l.url),i}function Cm(i,a,l,m){var v=tI(a,l,m);return km[v]||(km[v]=new rf(i,a,l,m)),km[v]}function sf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}sf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},sf.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var l=i.c,m=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!w),l!="unknown"||v||w?i.a?(Fo(this,!0,null,i.a),Ie()):a.Fa(l,m)?wP(this,i,a):wt(new P("invalid-auth-event")):(Fo(this,!1,null,null),Ie())}else wt(new P("invalid-auth-event"))};function nI(i){i.g||(i.g=!0,Fo(i,!1,null,null))}function af(i){i.g&&!i.i&&Fo(i,!1,null,null)}function wP(i,a,l){l=l.Fa(a.c,a.b);var m=a.g,v=a.f,w=a.i,S=a.T(),R=!!a.c.match(/Redirect$/);l(m,v,S,w).then(function(X){Fo(i,R,X,null)}).o(function(X){Fo(i,R,null,X)})}function IP(i,a){if(i.b=function(){return wt(a)},i.c.length)for(var l=0;l<i.c.length;l++)i.c[l](a)}function rI(i,a){if(i.b=function(){return Ie(a)},i.f.length)for(var l=0;l<i.f.length;l++)i.f[l](a)}function Fo(i,a,l,m){a?m?IP(i,m):rI(i,l):rI(i,{user:null}),i.f=[],i.c=[]}sf.prototype.ra=function(){var i=this;return new qe(function(a,l){i.b?i.b().then(a,l):(i.f.push(a),i.c.push(l),TP(i))})};function TP(i){var a=new P("timeout");i.a&&i.a.cancel(),i.a=Rs(bP.get()).then(function(){i.b||(i.g=!0,Fo(i,!0,null,a))})}function iI(){}iI.prototype.h=function(i,a){if(i){var l=i.c,m=i.b;i.a?(a.na(i.c,null,i.a,i.b),Ie()):a.Fa(l,m)?EP(i,a):wt(new P("invalid-auth-event"))}else wt(new P("invalid-auth-event"))};function EP(i,a){var l=i.b,m=i.c;a.Fa(m,l)(i.g,i.f,i.T(),i.i).then(function(v){a.na(m,v,null,l)}).o(function(v){a.na(m,null,v,l)})}function oI(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function Nm(i,a){this.a=a,_e(this,"verificationId",i)}Nm.prototype.confirm=function(i){return i=Wb(this.verificationId,i),this.a(i)};function Om(i,a,l,m){return new ui(i).gb(a,l).then(function(v){return new Nm(v,m)})}function SP(i){var a=xb(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");En(this,{token:i,expirationTime:mu(1e3*a.exp),authTime:mu(1e3*a.auth_time),issuedAtTime:mu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function xm(i,a,l){var m=a&&a[aI];if(!m)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=_r(a),this.g=l,this.c=new Ll(null,m),this.b=[];var v=this;ie(a[sI]||[],function(w){(w=Ip(w))&&v.b.push(w)}),_e(this,"auth",this.a),_e(this,"session",this.c),_e(this,"hints",this.b)}var sI="mfaInfo",aI="mfaPendingCredential";xm.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(l){var m=_r(a.f);return delete m[sI],delete m[aI],vt(m,l),a.g(m)})};function Rm(i,a,l,m){P.call(this,"multi-factor-auth-required",m,a),this.b=new xm(i,a,l),_e(this,"resolver",this.b)}$(Rm,P);function uI(i,a,l){if(i&&E(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new Rm(a,i.serverResponse,l,i.message)}catch{}return null}function cI(){}cI.prototype.tb=function(i,a,l){return a.type==_u?AP(this,i,a,l):kP(this,i,a)};function AP(i,a,l,m){return l.Ha().then(function(v){return v={idToken:v},typeof m<"u"&&(v.displayName=m),vt(v,{phoneVerificationInfo:bu(i.a)}),He(a,mR,v)})}function kP(i,a,l){return l.Ha().then(function(m){return m={mfaPendingCredential:m},vt(m,{phoneVerificationInfo:bu(i.a)}),He(a,gR,m)})}function Pm(i){_e(this,"factorId",i.fa),this.a=i}$(Pm,cI);function lI(i){if(Pm.call(this,i),this.a.fa!=ui.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}$(lI,Pm);function Ws(i,a){Un.call(this,i);for(var l in a)this[l]=a[l]}$(Ws,Un);function Dm(i,a){this.a=i,this.b=[],this.c=M(this.yc,this),cr(this.a,"userReloaded",this.c);var l=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&ie(a.multiFactor.enrolledFactors,function(m){var v=null,w={};if(m){m.uid&&(w[Ep]=m.uid),m.displayName&&(w[gb]=m.displayName),m.enrollmentTime&&(w[Tp]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(w[Sp]=m.phoneNumber);try{v=new gu(w)}catch{}m=v}else m=null;m&&l.push(m)}),uf(this,l)}function CP(i){var a=[];return ie(i.mfaInfo||[],function(l){(l=Ip(l))&&a.push(l)}),a}e=Dm.prototype,e.yc=function(i){uf(this,CP(i.hd))};function uf(i,a){i.b=a,_e(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new Ll(i,null)})},e.fc=function(i,a){var l=this,m=this.a.a;return this.Sb().then(function(v){return i.tb(m,v,a)}).then(function(v){return $r(l.a,v),l.a.reload()})},e.bd=function(i){var a=this,l=typeof i=="string"?i:i.uid,m=this.a.a;return this.a.I().then(function(v){return He(m,FR,{idToken:v,mfaEnrollmentId:l})}).then(function(v){var w=Ye(a.b,function(S){return S.uid!=l});return uf(a,w),$r(a.a,v),a.a.reload().o(function(S){if(S.code!="auth/user-token-expired")throw S})})},e.w=function(){return{multiFactor:{enrolledFactors:D(this.b,function(i){return i.w()})}}};function Lm(i,a,l){if(this.h=i,this.i=a,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Lm.prototype.start=function(){this.a=this.c,Fm(this,!0)};function NP(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function Fm(i,a){i.stop(),i.b=Rs(NP(i,a)).then(function(){return sx()}).then(function(){return i.h()}).then(function(){Fm(i,!0)}).o(function(l){i.i(l)&&Fm(i,!1)})}Lm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Mm(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Mm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function fI(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function hI(i,a){i.b=Pl(a[Er]||""),i.a=a.refreshToken,a=a.expiresIn,fI(i,typeof a<"u"?Number(a):void 0)}function OP(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function xP(i,a){return Zx(i.f,a).then(function(l){return i.b=Pl(l.access_token),i.a=l.refresh_token,fI(i,l.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(i.a=null),l})}Mm.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?wt(new P("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?xP(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})};function cf(i,a){this.a=i||null,this.b=a||null,En(this,{lastSignInTime:mu(a||null),creationTime:mu(i||null)})}function RP(i){return new cf(i.a,i.b)}cf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function PP(i,a,l,m,v,w){En(this,{uid:i,displayName:m||null,photoURL:v||null,email:l||null,phoneNumber:w||null,providerId:a})}function Qn(i,a,l){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var m=Ce.SDK_VERSION?Fs(Ce.SDK_VERSION):null;this.a=new Tr(this.l,Pe(xe),m),(this.u=i.emulatorConfig||null)&&Xl(this.a,this.u),this.h=new Mm(this.a),Hm(this,a[Er]),hI(this.h,a),_e(this,"refreshToken",this.h.a),pI(this,l||{}),Tn.call(this),this.P=!1,this.s&&Ao()&&(this.b=Cm(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=DP(this),this.ba=M(this.ib,this);var v=this;this.za=null,this.Pa=function(w){v.xa(w.h)},this.qa=null,this.Ba=function(w){Vm(v,w.c)},this.$=null,this.aa=[],this.Oa=function(w){Lu(v,w.f)},this.ja=null,this.S=new Dm(this,l),_e(this,"multiFactor",this.S)}$(Qn,Tn),Qn.prototype.xa=function(i){this.za=i,uw(this.a,i)};function Vm(i,a){i.u=a,Xl(i.a,a),i.b&&(a=i.b,i.b=Cm(i.s,i.l,i.m,i.u),i.P&&(Sm(a,i),of(i.b,i)))}Qn.prototype.la=function(){return this.za};function Um(i,a){i.qa&&Yn(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&cr(a,"languageCodeChanged",i.Pa)}function jm(i,a){i.$&&Yn(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&cr(a,"emulatorConfigChanged",i.Ba)}function Lu(i,a){i.aa=a,cw(i.a,Ce.SDK_VERSION?Fs(Ce.SDK_VERSION,i.aa):null)}Qn.prototype.Ga=function(){return H(this.aa)};function Bm(i,a){i.ja&&Yn(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&cr(a,"frameworkChanged",i.Oa)}Qn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function $m(i){try{return Ce.app(i.m).auth()}catch{throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function DP(i){return new Lm(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function dI(i){i.J||i.D.b||(i.D.start(),Yn(i,"tokenChanged",i.ba),cr(i,"tokenChanged",i.ba))}function qm(i){Yn(i,"tokenChanged",i.ba),i.D.stop()}function Hm(i,a){i.Aa=a,_e(i,"_lat",a)}function LP(i,a){x(i.W,function(l){return l==a})}function Mo(i){for(var a=[],l=0;l<i.W.length;l++)a.push(i.W[l](i));return x0(a).then(function(){return i})}function Fu(i){i.b&&!i.P&&(i.P=!0,of(i.b,i))}function pI(i,a){En(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new cf(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}_e(Qn.prototype,"providerId","firebase");function mI(){}function Km(i){return Ie().then(function(){if(i.J)throw new P("app-deleted")})}function Wm(i){return D(i.providerData,function(a){return a.providerId})}function Gm(i,a){a&&(gI(i,a.providerId),i.providerData.push(a))}function gI(i,a){x(i.providerData,function(l){return l.providerId==a})}function Di(i,a,l){(a!="uid"||l)&&i.hasOwnProperty(a)&&_e(i,a,l)}function lf(i,a){i!=a&&(En(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?_e(i,"metadata",RP(a.metadata)):_e(i,"metadata",new cf),ie(a.providerData,function(l){Gm(i,l)}),OP(i.h,a.h),_e(i,"refreshToken",i.h.a),uf(i.S,a.S.b))}e=Qn.prototype,e.reload=function(){var i=this;return Wt(this,Km(this).then(function(){return zm(i).then(function(){return Mo(i)}).then(mI)}))};function zm(i){return i.I().then(function(a){var l=i.isAnonymous;return FP(i,a).then(function(){return l||Di(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new SP(a)})},e.I=function(i){var a=this;return Wt(this,Km(this).then(function(){return a.h.getToken(i)}).then(function(l){if(!l)throw new P("internal-error");return l.accessToken!=a.Aa&&(Hm(a,l.accessToken),a.dispatchEvent(new Ws("tokenChanged"))),Di(a,"refreshToken",l.refreshToken),l.accessToken}))};function $r(i,a){a[Er]&&i.Aa!=a[Er]&&(hI(i.h,a),i.dispatchEvent(new Ws("tokenChanged")),Hm(i,a[Er]),Di(i,"refreshToken",i.h.a))}function FP(i,a){return He(i.a,vR,{idToken:a}).then(M(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new P("internal-error");i=i[0],pI(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=MP(i),l=0;l<a.length;l++)Gm(this,a[l]);Di(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ws("userReloaded",{hd:i}))};function MP(i){return(i=i.providerUserInfo)&&i.length?D(i,function(a){return new PP(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return vp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,l=null;return Wt(this,i.c(this.a,this.uid).then(function(m){return $r(a,m),l=Mu(a,m,"reauthenticate"),a.i=null,a.reload()}).then(function(){return l}),!0)};function ff(i,a){return zm(i).then(function(){if(O(Wm(i),a))return Mo(i).then(function(){throw new P("provider-already-linked")})})}e.Cc=function(i){return vp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,l=null;return Wt(this,ff(this,i.providerId).then(function(){return a.I()}).then(function(m){return i.b(a.a,m)}).then(function(m){return l=Mu(a,m,"link"),vI(a,m)}).then(function(){return l}))},e.Dc=function(i,a){var l=this;return Wt(this,ff(this,"phone").then(function(){return Om($m(l),i,a,M(l.rb,l))}))},e.Mc=function(i,a){var l=this;return Wt(this,Ie().then(function(){return Om($m(l),i,a,M(l.ub,l))}),!0)};function Mu(i,a,l){var m=Fp(a);return a=Pb(a),jr({user:i,credential:m,additionalUserInfo:a,operationType:l})}function vI(i,a){return $r(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return Wt(this,this.I().then(function(l){return a.a.Cb(l,i)}).then(function(l){return $r(a,l),a.reload()}))},e.ed=function(i){var a=this;return Wt(this,this.I().then(function(l){return i.b(a.a,l)}).then(function(l){return $r(a,l),a.reload()}))},e.Db=function(i){var a=this;return Wt(this,this.I().then(function(l){return a.a.Db(l,i)}).then(function(l){return $r(a,l),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Km(this);var a=this;return Wt(this,this.I().then(function(l){return a.a.Eb(l,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(l){return $r(a,l),Di(a,"displayName",l.displayName||null),Di(a,"photoURL",l.photoUrl||null),ie(a.providerData,function(m){m.providerId==="password"&&(_e(m,"displayName",a.displayName),_e(m,"photoURL",a.photoURL))}),Mo(a)}).then(mI))},e.cd=function(i){var a=this;return Wt(this,zm(this).then(function(l){return O(Wm(a),i)?sR(a.a,l,[i]).then(function(m){var v={};return ie(m.providerUserInfo||[],function(w){v[w.providerId]=!0}),ie(Wm(a),function(w){v[w]||gI(a,w)}),v[ui.PROVIDER_ID]||_e(a,"phoneNumber",null),Mo(a)}):Mo(a).then(function(){throw new P("no-such-provider")})}))},e.delete=function(){var i=this;return Wt(this,this.I().then(function(a){return He(i.a,fR,{idToken:a})}).then(function(){i.dispatchEvent(new Ws("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");Um(i,null),jm(i,null),Bm(i,null),i.N=[],i.J=!0,qm(i),_e(i,"refreshToken",null),i.b&&Sm(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,l,m){i!="linkViaPopup"&&i!="reauthViaPopup"||m!=(this.g||null)||(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?M(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?M(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?M(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?M(this.Mb,this):null},e.Ec=function(i){var a=this;return yI(this,"linkViaPopup",i,function(){return ff(a,i.providerId).then(function(){return Mo(a)})},!1)},e.Nc=function(i){return yI(this,"reauthViaPopup",i,function(){return Ie()},!0)};function yI(i,a,l,m,v){if(!Ao())return wt(new P("operation-not-supported-in-this-environment"));if(i.i&&!v)return wt(i.i);var w=Op(l.providerId),S=ko(i.uid+":::"),R=null;(!du()||dp())&&i.s&&l.isOAuthProvider&&(R=Ou(i.s,i.l,i.m,a,l,null,S,Ce.SDK_VERSION||null,null,null,i.tenantId,i.u));var X=ab(R,w&&w.va,w&&w.ua);return m=m().then(function(){if(bI(i),!v)return i.I().then(function(){})}).then(function(){return Jw(i.b,X,a,l,S,!!R,i.tenantId)}).then(function(){return new qe(function(ee,Le){i.na(a,null,new P("cancelled-popup-request"),i.g||null),i.f=ee,i.C=Le,i.g=S,i.c=eI(i.b,i,a,X,S)})}).then(function(ee){return X&&So(X),ee?jr(ee):null}).o(function(ee){throw X&&So(X),ee}),Wt(i,m,v)}e.Fc=function(i){var a=this;return _I(this,"linkViaRedirect",i,function(){return ff(a,i.providerId)},!1)},e.Oc=function(i){return _I(this,"reauthViaRedirect",i,function(){return Ie()},!0)};function _I(i,a,l,m,v){if(!Ao())return wt(new P("operation-not-supported-in-this-environment"));if(i.i&&!v)return wt(i.i);var w=null,S=ko(i.uid+":::");return m=m().then(function(){if(bI(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=S,Mo(i)}).then(function(R){return i.ha&&(R=i.ha,R=R.b.set(Ym,i.w(),R.a)),R}).then(function(){return Zw(i.b,a,l,S,i.tenantId)}).o(function(R){if(w=R,i.ha)return II(i.ha);throw w}).then(function(){if(w)throw w}),Wt(i,m,v)}function bI(i){if(!i.b||!i.P)throw i.b&&!i.P?new P("internal-error"):new P("auth-domain-config-required")}e.Lb=function(i,a,l,m){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return l=this.I().then(function(S){return rm(v.a,{requestUri:i,postBody:m,sessionId:a,idToken:S})}).then(function(S){return w=Mu(v,S,"link"),vI(v,S)}).then(function(){return w}),Wt(this,l)},e.Mb=function(i,a,l,m){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null,S=Ie().then(function(){return js(im(v.a,{requestUri:i,sessionId:a,postBody:m,tenantId:l}),v.uid)}).then(function(R){return w=Mu(v,R,"reauthenticate"),$r(v,R),v.i=null,v.reload()}).then(function(){return w});return Wt(this,S,!0)},e.vb=function(i){var a=this,l=null;return Wt(this,this.I().then(function(m){return l=m,typeof i>"u"||zn(i)?{}:xl(new Ol(i))}).then(function(m){return a.a.vb(l,m)}).then(function(m){if(a.email!=m)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var l=this,m=null;return Wt(this,this.I().then(function(v){return m=v,typeof a>"u"||zn(a)?{}:xl(new Ol(a))}).then(function(v){return l.a.Fb(m,i,v)}).then(function(v){if(l.email!=v)return l.reload()}).then(function(){}))};function Wt(i,a,l){var m=VP(i,a,l);return i.N.push(m),m.oa(function(){B(i.N,m)}),m.o(function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=uI(v.w(),$m(i),M(i.jc,i))),w||v})}e.jc=function(i){var a=null,l=this;return i=js(Ie(i),l.uid).then(function(m){return a=Mu(l,m,"reauthenticate"),$r(l,m),l.i=null,l.reload()}).then(function(){return a}),Wt(this,i,!0)};function VP(i,a,l){return i.i&&!l?(a.cancel(),wt(i.i)):a.o(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Ws("userInvalidated")),i.i=m),m})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(i,this.metadata.w()),ie(this.providerData,function(a){i.providerData.push(cx(a))}),vt(i,this.S.w()),i};function wI(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},l={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){l[Er]=i.stsTokenManager.accessToken,l.refreshToken=i.stsTokenManager.refreshToken||null;var m=i.stsTokenManager.expirationTime;m&&(l.expiresIn=(m-Date.now())/1e3)}else return null;var v=new Qn(a,l,i);return i.providerData&&ie(i.providerData,function(w){w&&Gm(v,jr(w))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function UP(i,a,l,m){var v=new Qn(i,a);return l&&(v.ha=l),m&&Lu(v,m),v.reload().then(function(){return v})}function jP(i,a,l,m){var v=i.h,w={};return w[Er]=v.b&&v.b.toString(),w.refreshToken=v.a,a=new Qn(a||{apiKey:i.l,authDomain:i.s,appName:i.m},w),l&&(a.ha=l),m&&Lu(a,m),lf(a,i),a}function BP(i){this.a=i,this.b=Du()}var Ym={name:"redirectUser",F:"session"};function II(i){return Ks(i.b,Ym,i.a)}function $P(i,a){return i.b.get(Ym,i.a).then(function(l){return l&&a&&(l.authDomain=a),wI(l||{})})}function Xm(i){this.a=i,this.b=Du(),this.c=null,this.f=qP(this),this.b.addListener(qr("local"),this.a,M(this.g,this))}Xm.prototype.g=function(){var i=this,a=qr("local");Gs(this,function(){return Ie().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(l){if(l)return Qm(i,"local").then(function(){i.c=a})})})};function Qm(i,a){var l=[],m;for(m in qs)qs[m]!==a&&l.push(Ks(i.b,qr(qs[m]),i.a));return l.push(Ks(i.b,Jm,i.a)),RO(l)}function qP(i){var a=qr("local"),l=qr("session"),m=qr("none");return iP(i.b,a,i.a).then(function(){return i.b.get(l,i.a)}).then(function(v){return v?l:i.b.get(m,i.a).then(function(w){return w?m:i.b.get(a,i.a).then(function(S){return S?a:i.b.get(Jm,i.a).then(function(R){return R?qr(R):a})})})}).then(function(v){return i.c=v,Qm(i,v.F)}).o(function(){i.c||(i.c=a)})}var Jm={name:"persistence",F:"session"};function qr(i){return{name:"authUser",F:i}}Xm.prototype.yb=function(i){var a=null,l=this;return rP(i),Gs(this,function(){return i!=l.c.F?l.b.get(l.c,l.a).then(function(m){return a=m,Qm(l,i)}).then(function(){if(l.c=qr(i),a)return l.b.set(l.c,a,l.a)}):Ie()})};function HP(i){return Gs(i,function(){return i.b.set(Jm,i.c.F,i.a)})}function TI(i,a){return Gs(i,function(){return i.b.set(i.c,a.w(),i.a)})}function EI(i){return Gs(i,function(){return Ks(i.b,i.c,i.a)})}function SI(i,a,l){return Gs(i,function(){return i.b.get(i.c,i.a).then(function(m){return m&&a&&(m.authDomain=a),m&&l&&(m.emulatorConfig=l),wI(m||{})})})}function Gs(i,a){return i.f=i.f.then(a,a),i.f}function Sr(i){if(this.l=!1,_e(this,"settings",new oI),_e(this,"app",i),ut(this).options&&ut(this).options.apiKey)i=Ce.SDK_VERSION?Fs(Ce.SDK_VERSION):null,this.a=new Tr(ut(this).options&&ut(this).options.apiKey,Pe(xe),i);else throw new P("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(M(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(M(this.Ac,this)),zs(this,null),this.i=new Xm(ut(this).options.apiKey+":"+ut(this).name),this.D=new BP(ut(this).options.apiKey+":"+ut(this).name),this.$=Nt(this,XP(this)),this.h=Nt(this,QP(this)),this.ba=!1,this.ja=M(this.Zc,this),this.Ba=M(this.da,this),this.qa=M(this.mc,this),this.za=M(this.wc,this),this.Aa=M(this.xc,this),this.b=null,GP(this),this.INTERNAL={},this.INTERNAL.delete=M(this.delete,this),this.INTERNAL.logFramework=M(this.Gc,this),this.u=0,Tn.call(this),WP(this),this.J=[],this.R=null}$(Sr,Tn);function AI(i){Un.call(this,"languageCodeChanged"),this.h=i}$(AI,Un);function kI(i){Un.call(this,"emulatorConfigChanged"),this.c=i}$(kI,Un);function CI(i){Un.call(this,"frameworkChanged"),this.f=i}$(CI,Un),e=Sr.prototype,e.yb=function(i){return i=this.i.yb(i),Nt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,uw(this.a,this.aa),this.dispatchEvent(new AI(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,KP(a),this.R={url:i,ec:a},this.settings.jb=!0,Xl(this.a,this.R),this.dispatchEvent(new kI(this.R))}};function KP(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&kl().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),cw(this.a,Ce.SDK_VERSION?Fs(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new CI(this.J))},e.Ga=function(){return H(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function WP(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=jn(this.R.url);a=jr({protocol:a.c,host:a.a,port:a.g,options:jr({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:ut(this).options.apiKey,authDomain:ut(this).options.authDomain,appName:ut(this).name,currentUser:Ve(this)&&Ve(this).w()}};function Zm(i){return i.Oa||wt(new P("auth-domain-config-required"))}function GP(i){var a=ut(i).options.authDomain,l=ut(i).options.apiKey;a&&Ao()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Cm(a,l,ut(i).name,i.R),of(i.b,i),Ve(i)&&Fu(Ve(i)),i.m){Fu(i.m);var m=i.m;m.xa(i.la()),Um(m,i),m=i.m,Lu(m,i.J),Bm(m,i),m=i.m,Vm(m,i.R),jm(m,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,l,m){i=="signInViaPopup"&&this.g==m&&(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?M(this.ic,this):null},e.ic=function(i,a,l,m){var v=this,w={requestUri:i,postBody:m,sessionId:a,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Vo(v,nm(v.a,w))})},e.Xc=function(i){if(!Ao())return wt(new P("operation-not-supported-in-this-environment"));var a=this,l=Op(i.providerId),m=ko(),v=null;(!du()||dp())&&ut(this).options.authDomain&&i.isOAuthProvider&&(v=Ou(ut(this).options.authDomain,ut(this).options.apiKey,ut(this).name,"signInViaPopup",i,null,m,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var w=ab(v,l&&l.va,l&&l.ua);return l=Zm(this).then(function(S){return Jw(S,w,"signInViaPopup",i,m,!!v,a.T())}).then(function(){return new qe(function(S,R){a.na("signInViaPopup",null,new P("cancelled-popup-request"),a.g),a.f=S,a.C=R,a.g=m,a.c=eI(a.b,a,"signInViaPopup",w,m)})}).then(function(S){return w&&So(w),S?jr(S):null}).o(function(S){throw w&&So(w),S}),Nt(this,l)},e.Yc=function(i){if(!Ao())return wt(new P("operation-not-supported-in-this-environment"));var a=this,l=Zm(this).then(function(){return HP(a.i)}).then(function(){return Zw(a.b,"signInViaRedirect",i,void 0,a.T())});return Nt(this,l)};function NI(i){if(!Ao())return wt(new P("operation-not-supported-in-this-environment"));var a=Zm(i).then(function(){return i.b.ra()}).then(function(l){return l?jr(l):null});return Nt(i,a)}e.ra=function(){var i=this;return NI(this).then(function(a){return i.b&&af(i.b.b),a}).o(function(a){throw i.b&&af(i.b.b),a})},e.dd=function(i){if(!i)return wt(new P("null-user"));if(this.S!=i.tenantId)return wt(new P("tenant-id-mismatch"));var a=this,l={};l.apiKey=ut(this).options.apiKey,l.authDomain=ut(this).options.authDomain,l.appName=ut(this).name;var m=jP(i,l,a.D,a.Ga());return Nt(this,this.h.then(function(){if(ut(a).options.apiKey!=i.l)return m.reload()}).then(function(){return Ve(a)&&i.uid==Ve(a).uid?(lf(Ve(a),i),a.da(i)):(zs(a,m),Fu(m),a.da(m))}).then(function(){Vu(a)}))};function zP(i,a){var l={};return l.apiKey=ut(i).options.apiKey,l.authDomain=ut(i).options.authDomain,l.appName=ut(i).name,i.R&&(l.emulatorConfig=i.R),i.$.then(function(){return UP(l,a,i.D,i.Ga())}).then(function(m){return Ve(i)&&m.uid==Ve(i).uid?(lf(Ve(i),m),i.da(m)):(zs(i,m),Fu(m),i.da(m))}).then(function(){Vu(i)})}function zs(i,a){Ve(i)&&(LP(Ve(i),i.Ba),Yn(Ve(i),"tokenChanged",i.qa),Yn(Ve(i),"userDeleted",i.za),Yn(Ve(i),"userInvalidated",i.Aa),qm(Ve(i))),a&&(a.W.push(i.Ba),cr(a,"tokenChanged",i.qa),cr(a,"userDeleted",i.za),cr(a,"userInvalidated",i.Aa),0<i.u&&dI(a)),_e(i,"currentUser",a),a&&(a.xa(i.la()),Um(a,i),Lu(a,i.J),Bm(a,i),Vm(a,i.R),jm(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&af(i.b.b),Ve(i)?(zs(i,null),EI(i.i).then(function(){Vu(i)})):Ie()});return Nt(this,a)};function YP(i){var a=$P(i.D,ut(i).options.authDomain).then(function(l){return(i.m=l)&&(l.ha=i.D),II(i.D)});return Nt(i,a)}function XP(i){var a=ut(i).options.authDomain,l=YP(i).then(function(){return SI(i.i,a,i.R)}).then(function(m){return m?(m.ha=i.D,i.m&&(i.m.ga||null)==(m.ga||null)?m:m.reload().then(function(){return TI(i.i,m).then(function(){return m})}).o(function(v){return v.code=="auth/network-request-failed"?m:EI(i.i)})):null}).then(function(m){zs(i,m||null)});return Nt(i,l)}function QP(i){return i.$.then(function(){return NI(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(qr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return SI(this.i,ut(this).options.authDomain).then(function(a){if(!i.l){var l;if(l=Ve(i)&&a){l=Ve(i).uid;var m=a.uid;l=l==null||l===""||m===void 0||m===null||m===""?!1:l==m}if(l)return lf(Ve(i),a),Ve(i).I();(Ve(i)||a)&&(zs(i,a),a&&(Fu(a),a.ha=i.D),i.b&&of(i.b,i),Vu(i))}})},e.da=function(i){return TI(this.i,i)},e.mc=function(){Vu(this),this.da(Ve(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Vo(i,a){var l=null,m=null;return Nt(i,a.then(function(v){return l=Fp(v),m=Pb(v),zP(i,v)},function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=uI(v.w(),i,M(i.kc,i))),w||v}).then(function(){return jr({user:Ve(i),credential:l,additionalUserInfo:m,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Vo(a,Ie(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(Ve(a))})},e.Ac=function(i){var a=this;JP(this,function(){i.next(Ve(a))})},e.Ic=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Ve(m)):typeof i.next=="function"&&i.next(Ve(m))}),this.Pa(i,a,l)},e.Hc=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){m.W=m.getUid(),typeof i=="function"?i(Ve(m)):typeof i.next=="function"&&i.next(Ve(m))}),this.ib(i,a,l)},e.nc=function(i){var a=this,l=this.h.then(function(){return Ve(a)?Ve(a).I(i).then(function(m){return{accessToken:m}}):null});return Nt(this,l)},e.Tc=function(i){var a=this;return this.h.then(function(){return Vo(a,He(a.a,RR,{token:i}))}).then(function(l){var m=l.user;return Di(m,"isAnonymous",!1),a.da(m),l})},e.Uc=function(i,a){var l=this;return this.h.then(function(){return Vo(l,He(l.a,yw,{email:i,password:a}))})},e.dc=function(i,a){var l=this;return this.h.then(function(){return Vo(l,He(l.a,cR,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Vo(a,i.ka(a.a))})},e.Sc=function(i){return vp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=Ve(i);if(a&&a.isAnonymous){var l=jr({providerId:null,isNewUser:!1});return jr({user:a,credential:null,additionalUserInfo:l,operationType:"signIn"})}return Vo(i,i.a.Ab()).then(function(m){var v=m.user;return Di(v,"isAnonymous",!0),i.da(v),m})})};function ut(i){return i.app}function Ve(i){return i.currentUser}e.getUid=function(){return Ve(this)&&Ve(this).uid||null};function hf(i){return Ve(i)&&Ve(i)._lat||null}function Vu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](hf(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](hf(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Ve(this)&&dI(Ve(this))},e.Pc=function(i){var a=this;ie(this.s,function(l){l==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Ve(this)&&qm(Ve(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Nt(this,this.h.then(function(){a.l||O(a.s,i)&&i(hf(a))}))},e.removeAuthTokenListener=function(i){x(this.s,function(a){return a==i})};function JP(i,a){i.N.push(a),Nt(i,i.h.then(function(){!i.l&&O(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(hf(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(qr("local"),i.a,this.ja)),this.b&&(Sm(this.b,this),af(this.b.b)),Promise.resolve()};function Nt(i,a){return i.P.push(a),a.oa(function(){B(i.P,a)}),a}e.hc=function(i){return Nt(this,eR(this.a,i))},e.Bc=function(i){return!!Lp(i)},e.xb=function(i,a){var l=this;return Nt(this,Ie().then(function(){var m=new Ol(a);if(!m.c)throw new P("argument-error",Cp+" must be true when sending sign in link to email");return xl(m)}).then(function(m){return l.a.xb(i,m)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Nt(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Nt(this,this.a.Sa(i).then(function(a){return new fx(a)}))},e.kb=function(i){return Nt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var l=this;return Nt(this,Ie().then(function(){return typeof a>"u"||zn(a)?{}:xl(new Ol(a))}).then(function(m){return l.a.wb(i,m)}).then(function(){}))},e.Wc=function(i,a){return Nt(this,Om(this,i,a,M(this.ab,this)))},e.Vc=function(i,a){var l=this;return Nt(this,Ie().then(function(){var m=a||hu(),v=Kb(i,m);if(m=Lp(m),!m)throw new P("argument-error","Invalid email link!");if(m.tenantId!==l.T())throw new P("tenant-id-mismatch");return l.ab(v)}))};function Uu(){}Uu.prototype.render=function(){},Uu.prototype.reset=function(){},Uu.prototype.getResponse=function(){},Uu.prototype.execute=function(){};function Ys(){this.a={},this.b=1e12}var eg=null;Ys.prototype.render=function(i,a){return this.a[this.b.toString()]=new df(i,a),this.b++},Ys.prototype.reset=function(i){var a=tg(this,i);i=OI(i),a&&i&&(a.delete(),delete this.a[i])},Ys.prototype.getResponse=function(i){return(i=tg(this,i))?i.getResponse():null},Ys.prototype.execute=function(i){(i=tg(this,i))&&i.execute()};function tg(i,a){return(a=OI(a))&&i.a[a]||null}function OI(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function df(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ou(i);var l=this;this.i=function(){l.execute()},this.h?this.execute():cr(this.f,"click",this.i)}df.prototype.getResponse=function(){return ng(this),this.b},df.prototype.execute=function(){ng(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=ox();var a=i.c.callback,l=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,l)try{l()}catch{}i.h&&i.execute()},6e4)},500))},df.prototype.delete=function(){ng(this),this.g=!0,clearTimeout(this.a),this.a=null,Yn(this.f,"click",this.i)};function ng(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function rg(){}_e(rg,"FACTOR_ID","phone");function ig(){}ig.prototype.g=function(){return eg||(eg=new Ys),Ie(eg)},ig.prototype.c=function(){};var og=null;function sg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ZP=new Mr(pl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),eD=new xi(3e4,6e4);sg.prototype.g=function(i){var a=this;return new qe(function(l,m){var v=setTimeout(function(){m(new P("network-request-failed"))},eD.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var S=f.grecaptcha.render;f.grecaptcha.render=function(R,X){return R=S(R,X),a.b++,R},clearTimeout(v),l(f.grecaptcha)}else clearTimeout(v),m(new P("internal-error"));delete f[a.a]};var w=Bd(ZP,{onload:a.a,hl:i||""});Ie(Yp(w)).o(function(){clearTimeout(v),m(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),l(f.grecaptcha)})},sg.prototype.c=function(){this.b--};var ag=null;function ug(i,a,l,m,v,w,S){if(_e(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,S?(og||(og=new ig),S=og):(ag||(ag=new sg),S=ag),this.m=S,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[PI])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[tD]==="invisible",!f.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ou(a)||!this.i&&ou(a).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Tr(i,w||null,v||null),this.u=m||function(){return null};var R=this;this.l=[];var X=this.a[xI];this.a[xI]=function(Le){if(DI(R,Le),typeof X=="function")X(Le);else if(typeof X=="string"){var ot=It(X,f);typeof ot=="function"&&ot(Le)}};var ee=this.a[RI];this.a[RI]=function(){if(DI(R,null),typeof ee=="function")ee();else if(typeof ee=="string"){var Le=It(ee,f);typeof Le=="function"&&Le()}}}var xI="callback",RI="expired-callback",PI="sitekey",tD="size";function DI(i,a){for(var l=0;l<i.l.length;l++)try{i.l[l](a)}catch{}}function nD(i,a){x(i.l,function(l){return l==a})}function cg(i,a){return i.h.push(a),a.oa(function(){B(i.h,a)}),a}e=ug.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=cg(this,Ie().then(function(){if(Cl()&&!wr())return kl();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,He(i.s,TR,{})}).then(function(a){i.a[PI]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){pf(this);var i=this;return cg(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var l=ou(a);a=CO("DIV"),l.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){pf(this);var i=this;return cg(this,this.render().then(function(a){return new qe(function(l){var m=i.g.getResponse(a);if(m)l(m);else{var v=function(w){w&&(nD(i,v),l(w))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){pf(this),this.c!==null&&this.g.reset(this.c)};function pf(i){if(i.J)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){pf(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=ou(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function lg(i,a,l){var m=!1;try{this.b=l||Ce.app()}catch{throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new P("invalid-api-key");var v=this,w=null;try{w=this.b.auth().Ga()}catch{}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Ce.SDK_VERSION?Fs(Ce.SDK_VERSION,w):null,ug.call(this,l,i,a,function(){try{var S=v.b.auth().la()}catch{S=null}return S},w,Pe(xe),m)}$(lg,ug);function LI(i,a,l,m){e:{l=Array.prototype.slice.call(l);for(var v=0,w=!1,S=0;S<a.length;S++)if(a[S].optional)w=!0;else{if(w)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(w=a.length,l.length<v||w<l.length)m="Expected "+(v==w?v==1?"1 argument":v+" arguments":v+"-"+w+" arguments")+" but got "+l.length+".";else{for(v=0;v<l.length;v++)if(w=a[v].optional&&l[v]===void 0,!a[v].M(l[v])&&!w){if(a=a[v],0>v||v>=FI.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");l=FI[v],m=(m?"":l+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}m=null}}if(m)throw new P("argument-error",i+" failed: "+m)}var FI="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ye(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(l){return typeof l=="string"}}}function fg(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(l){return typeof l=="boolean"}}}function Vt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:E}}function Xs(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(l){return typeof l=="function"}}}function Hr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(l){return l===null}}}function rD(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function iD(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof Sr)}}}function oD(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Ce.app.App)}}}function Li(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var l=!i||a.providerId===i;return!(!a.ka||!l)}}}function MI(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Qs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function hg(i,a){return E(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function VI(i){return E(i)&&typeof i.uid=="string"}function mf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Pt(i,a,l,m){return{name:l||"",K:i.K+" or "+a.K,optional:!!m,M:function(v){return i.M(v)||a.M(v)}}}function At(i,a){for(var l in a){var m=a[l].name;i[m]=jI(m,i[l],a[l].j)}}function UI(i,a){for(var l in a){var m=a[l].name;m!==l&&Object.defineProperty(i,m,{get:q(function(v){return this[v]},l),set:q(function(v,w,S,R){LI(v,[S],[R],!0),this[w]=R},m,l,a[l].lb),enumerable:!0})}}function Dt(i,a,l,m){i[a]=jI(a,l,m)}function jI(i,a,l){function m(){var S=Array.prototype.slice.call(arguments);return LI(v,l,S),a.apply(this,S)}if(!l)return a;var v=sD(i),w;for(w in a)m[w]=a[w];for(w in a.prototype)m.prototype[w]=a.prototype[w];return m}function sD(i){return i=i.split("."),i[i.length-1]}At(Sr.prototype,{kb:{name:"applyActionCode",j:[ye("code")]},Sa:{name:"checkActionCode",j:[ye("code")]},ob:{name:"confirmPasswordReset",j:[ye("code"),ye("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ye("email"),ye("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ye("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ye("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Pt(Vt(),Xs(),"nextOrObserver"),Xs("opt_error",!0),Xs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Pt(Vt(),Xs(),"nextOrObserver"),Xs("opt_error",!0),Xs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ye("email"),Pt(Vt("opt_actionCodeSettings",!0),Hr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ye("email"),Vt("actionCodeSettings")]},yb:{name:"setPersistence",j:[ye("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Li()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Li()]},Tc:{name:"signInWithCustomToken",j:[ye("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ye("email"),ye("password")]},Vc:{name:"signInWithEmailLink",j:[ye("email"),ye("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ye("phoneNumber"),mf()]},Xc:{name:"signInWithPopup",j:[Qs()]},Yc:{name:"signInWithRedirect",j:[Qs()]},dd:{name:"updateCurrentUser",j:[Pt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof Qn)}}}(),Hr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ye(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ye("url"),Vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ye("code")]}}),UI(Sr.prototype,{lc:{name:"languageCode",lb:Pt(ye(),Hr(),"languageCode")},ti:{name:"tenantId",lb:Pt(ye(),Hr(),"tenantId")}}),Sr.Persistence=qs,Sr.Persistence.LOCAL="local",Sr.Persistence.SESSION="session",Sr.Persistence.NONE="none",At(Qn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[fg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[fg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Li()]},rb:{name:"linkWithCredential",j:[Li()]},Dc:{name:"linkWithPhoneNumber",j:[ye("phoneNumber"),mf()]},Ec:{name:"linkWithPopup",j:[Qs()]},Fc:{name:"linkWithRedirect",j:[Qs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Li()]},ub:{name:"reauthenticateWithCredential",j:[Li()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ye("phoneNumber"),mf()]},Nc:{name:"reauthenticateWithPopup",j:[Qs()]},Oc:{name:"reauthenticateWithRedirect",j:[Qs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Pt(Vt("opt_actionCodeSettings",!0),Hr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ye(null,!0)]},cd:{name:"unlink",j:[ye("provider")]},Cb:{name:"updateEmail",j:[ye("email")]},Db:{name:"updatePassword",j:[ye("password")]},ed:{name:"updatePhoneNumber",j:[Li("phone")]},Eb:{name:"updateProfile",j:[Vt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ye("email"),Pt(Vt("opt_actionCodeSettings",!0),Hr(null,!0),"opt_actionCodeSettings",!0)]}}),At(Ys.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(Uu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(qe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),UI(oI.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:fg("appVerificationDisabledForTesting")}}),At(Nm.prototype,{confirm:{name:"confirm",j:[ye("verificationCode")]}}),Dt(Us,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,l=[Nx,Ox,xx,Cx],m=0;m<l.length;m++)if(a=l[m](i))return a;return null},[Pt(ye(),Vt(),"json")]),Dt(fr,"credential",function(i,a){return new Ri(i,a)},[ye("email"),ye("password")]),At(Ri.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),At(Oo.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Dt(Oo,"credential",Bb,[Pt(ye(),Vt(),"token")]),Dt(fr,"credentialWithLink",Kb,[ye("email"),ye("emailLink")]),At(xo.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Dt(xo,"credential",$b,[Pt(ye(),Vt(),"token")]),At(Ro.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Dt(Ro,"credential",qb,[Pt(ye(),Pt(Vt(),Hr()),"idToken"),Pt(ye(),Hr(),"accessToken",!0)]),At(Bs.prototype,{Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Dt(Bs,"credential",Hb,[Pt(ye(),Vt(),"token"),ye("secret",!0)]),At(Xn.prototype,{Ca:{name:"addScope",j:[ye("scope")]},credential:{name:"credential",j:[Pt(ye(),Pt(Vt(),Hr()),"optionsOrIdToken"),Pt(ye(),Hr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),At(ai.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),At(Co.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Dt(ui,"credential",Wb,[ye("verificationId"),ye("verificationCode")]),At(ui.prototype,{gb:{name:"verifyPhoneNumber",j:[Pt(ye(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(l){return l?l.session&&l.phoneNumber?hg(l.session,_u)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?hg(l.session,Fl)&&VI(l.multiFactorHint):l.session&&l.multiFactorUid?hg(l.session,Fl)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),mf()]}}),At(Pi.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),At(P.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),At(wu.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),At(Up.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),At(Rm.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),At(xm.prototype,{Rc:{name:"resolveSignIn",j:[MI()]}}),At(Dm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[MI(),ye("displayName",!0)]},bd:{name:"unenroll",j:[Pt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:VI},ye(),"multiFactorInfoIdentifier")]}}),At(lg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Dt(kp,"parseLink",Tb,[ye("link")]),Dt(rg,"assertion",function(i){return new lI(i)},[Li("phone")]),function(){if(typeof Ce<"u"&&Ce.INTERNAL&&Ce.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ap,VERIFY_AND_CHANGE_EMAIL:vu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Sr,AuthCredential:Us,Error:P};Dt(i,"EmailAuthProvider",fr,[]),Dt(i,"FacebookAuthProvider",Oo,[]),Dt(i,"GithubAuthProvider",xo,[]),Dt(i,"GoogleAuthProvider",Ro,[]),Dt(i,"TwitterAuthProvider",Bs,[]),Dt(i,"OAuthProvider",Xn,[ye("providerId")]),Dt(i,"SAMLAuthProvider",jb,[ye("providerId")]),Dt(i,"PhoneAuthProvider",ui,[iD()]),Dt(i,"RecaptchaVerifier",lg,[Pt(ye(),rD(),"recaptchaContainer"),Vt("recaptchaParameters",!0),oD()]),Dt(i,"ActionCodeURL",kp,[]),Dt(i,"PhoneMultiFactorGenerator",rg,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new Sr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:M(a.getUid,a),getToken:M(a.nc,a),addAuthTokenListener:M(a.cc,a),removeAuthTokenListener:M(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:Qn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mv=function(e,t){return mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},mv(e,t)};function WM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function bA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var GM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge,Ry=Ry||{},Fe=GM||self;function rh(){}function gv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Wc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function zM(e){return Object.prototype.hasOwnProperty.call(e,Ig)&&e[Ig]||(e[Ig]=++YM)}var Ig="closure_uid_"+(1e9*Math.random()>>>0),YM=0;function XM(e,t,n){return e.call.apply(e.bind,arguments)}function QM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function cn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cn=XM:cn=QM,cn.apply(null,arguments)}function If(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function hn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),c=2;c<arguments.length;c++)u[c-2]=arguments[c];return t.prototype[o].apply(r,u)}}function fo(){this.s=this.s,this.o=this.o}var JM=0;fo.prototype.s=!1;fo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),JM!=0)&&zM(this)};fo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},IA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function ZM(e){e:{for(var t=HV,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function CT(e){return Array.prototype.concat.apply([],arguments)}function Py(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ih(e){return/^[\s\xa0]*$/.test(e)}var NT=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function On(e,t){return e.indexOf(t)!=-1}function Tg(e,t){return e<t?-1:e>t?1:0}var xn;e:{var OT=Fe.navigator;if(OT){var xT=OT.userAgent;if(xT){xn=xT;break e}}xn=""}function Dy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function TA(e){var t={};for(var n in e)t[n]=e[n];return t}var RT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EA(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<RT.length;s++)n=RT[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ly(e){return Ly[" "](e),e}Ly[" "]=rh;function eV(e){var t=rV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var tV=On(xn,"Opera"),Ia=On(xn,"Trident")||On(xn,"MSIE"),SA=On(xn,"Edge"),vv=SA||Ia,AA=On(xn,"Gecko")&&!(On(xn.toLowerCase(),"webkit")&&!On(xn,"Edge"))&&!(On(xn,"Trident")||On(xn,"MSIE"))&&!On(xn,"Edge"),nV=On(xn.toLowerCase(),"webkit")&&!On(xn,"Edge");function kA(){var e=Fe.document;return e?e.documentMode:void 0}var oh;e:{var Eg="",Sg=function(){var e=xn;if(AA)return/rv:([^\);]+)(\)|;)/.exec(e);if(SA)return/Edge\/([\d\.]+)/.exec(e);if(Ia)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(nV)return/WebKit\/(\S+)/.exec(e);if(tV)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Sg&&(Eg=Sg?Sg[1]:""),Ia){var Ag=kA();if(Ag!=null&&Ag>parseFloat(Eg)){oh=String(Ag);break e}}oh=Eg}var rV={};function iV(){return eV(function(){for(var e=0,t=NT(String(oh)).split("."),n=NT("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Tg(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Tg(s[2].length==0,u[2].length==0)||Tg(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var yv;if(Fe.document&&Ia){var PT=kA();yv=PT||parseInt(oh,10)||void 0}else yv=void 0;var oV=yv,sV=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fe.addEventListener("test",rh,t),Fe.removeEventListener("test",rh,t)}catch{}return e}();function bn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}bn.prototype.h=function(){this.defaultPrevented=!0};function Tc(e,t){if(bn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(AA){e:{try{Ly(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:aV[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tc.Z.h.call(this)}}hn(Tc,bn);var aV={2:"touch",3:"pen",4:"mouse"};Tc.prototype.h=function(){Tc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),uV=0;function cV(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++uV,this.ca=this.fa=!1}function Jh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zh(e){this.src=e,this.g={},this.h=0}Zh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=bv(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new cV(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function _v(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=wA(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Jh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function bv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Fy="closure_lm_"+(1e6*Math.random()|0),kg={};function CA(e,t,n,r,o){if(r&&r.once)return OA(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)CA(e,t[s],n,r,o);return null}return n=Uy(n),e&&e[Gc]?e.N(t,n,Wc(r)?!!r.capture:!!r,o):NA(e,t,n,!1,r,o)}function NA(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=Wc(o)?!!o.capture:!!o,c=Vy(e);if(c||(e[Fy]=c=new Zh(e)),n=c.add(t,n,r,u,s),n.proxy)return n;if(r=lV(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sV||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(RA(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lV(){function e(n){return t.call(e.src,e.listener,n)}var t=fV;return e}function OA(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)OA(e,t[s],n,r,o);return null}return n=Uy(n),e&&e[Gc]?e.O(t,n,Wc(r)?!!r.capture:!!r,o):NA(e,t,n,!0,r,o)}function xA(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)xA(e,t[s],n,r,o);else r=Wc(r)?!!r.capture:!!r,n=Uy(n),e&&e[Gc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=bv(s,n,r,o),-1<n&&(Jh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Vy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bv(t,n,r,o)),(n=-1<e?t[e]:null)&&My(n))}function My(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Gc])_v(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(RA(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vy(t))?(_v(n,e),n.h==0&&(n.src=null,t[Fy]=null)):Jh(e)}}}function RA(e){return e in kg?kg[e]:kg[e]="on"+e}function fV(e,t){if(e.ca)e=!0;else{t=new Tc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&My(e),e=n.call(r,t)}return e}function Vy(e){return e=e[Fy],e instanceof Zh?e:null}var Cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(e){return typeof e=="function"?e:(e[Cg]||(e[Cg]=function(t){return e.handleEvent(t)}),e[Cg])}function nn(){fo.call(this),this.i=new Zh(this),this.P=this,this.I=null}hn(nn,fo);nn.prototype[Gc]=!0;nn.prototype.removeEventListener=function(e,t,n,r){xA(this,e,t,n,r)};function ln(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new bn(t,e);else if(t instanceof bn)t.target=t.target||e;else{var o=t;t=new bn(r,e),EA(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Tf(u,r,!0,t)&&o}if(u=t.g=e,o=Tf(u,r,!0,t)&&o,o=Tf(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Tf(u,r,!1,t)&&o}nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Jh(n[r]);delete e.g[t],e.h--}}this.I=null};nn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};nn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Tf(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var c=u.listener,f=u.ia||u.src;u.fa&&_v(e.i,u),o=c.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var jy=Fe.JSON.stringify;function hV(){var e=DA,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dV=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=PA.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),PA=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new pV},function(e){return e.reset()}),pV=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function mV(e){Fe.setTimeout(function(){throw e},0)}function By(e,t){wv||gV(),Iv||(wv(),Iv=!0),DA.add(e,t)}var wv;function gV(){var e=Fe.Promise.resolve(void 0);wv=function(){e.then(vV)}}var Iv=!1,DA=new dV;function vV(){for(var e;e=hV();){try{e.h.call(e.g)}catch(n){mV(n)}var t=PA;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Iv=!1}function ed(e,t){nn.call(this),this.h=e||1,this.g=t||Fe,this.j=cn(this.kb,this),this.l=Date.now()}hn(ed,nn);ge=ed.prototype;ge.da=!1;ge.S=null;ge.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ln(this,"tick"),this.da&&($y(this),this.start()))}};ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $y(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ge.M=function(){ed.Z.M.call(this),$y(this),delete this.g};function qy(e,t,n){if(typeof e=="function")n&&(e=cn(e,n));else if(e&&typeof e.handleEvent=="function")e=cn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Fe.setTimeout(e,t||0)}function LA(e){e.g=qy(function(){e.g=null,e.i&&(e.i=!1,LA(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var yV=function(e){WM(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:LA(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(fo);function Ec(e){fo.call(this),this.h=e,this.g={}}hn(Ec,fo);var DT=[];function FA(e,t,n,r){Array.isArray(n)||(n&&(DT[0]=n.toString()),n=DT);for(var o=0;o<n.length;o++){var s=CA(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function MA(e){Dy(e.g,function(t,n){this.g.hasOwnProperty(n)&&My(t)},e),e.g={}}Ec.prototype.M=function(){Ec.Z.M.call(this),MA(this)};Ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function td(){this.g=!0}td.prototype.Aa=function(){this.g=!1};function _V(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",c=s.split("&"),f=0;f<c.length;f++){var d=c[f].split("=");if(1<d.length){var g=d[0];d=d[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+d+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function bV(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function ca(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+IV(e,n)+(r?" "+r:"")})}function wV(e,t){e.info(function(){return"TIMEOUT: "+t})}td.prototype.info=function(){};function IV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return jy(n)}catch{return t}}var bs={},LT=null;function nd(){return LT=LT||new nn}bs.Ma="serverreachability";function VA(e){bn.call(this,bs.Ma,e)}hn(VA,bn);function Sc(e){var t=nd();ln(t,new VA(t))}bs.STAT_EVENT="statevent";function UA(e,t){bn.call(this,bs.STAT_EVENT,e),this.stat=t}hn(UA,bn);function Dn(e){var t=nd();ln(t,new UA(t,e))}bs.Na="timingevent";function jA(e,t){bn.call(this,bs.Na,e),this.size=t}hn(jA,bn);function zc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){e()},t)}var rd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},BA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Hy(){}Hy.prototype.h=null;function FT(e){return e.h||(e.h=e.i())}function $A(){}var Yc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ky(){bn.call(this,"d")}hn(Ky,bn);function Wy(){bn.call(this,"c")}hn(Wy,bn);var Tv;function id(){}hn(id,Hy);id.prototype.g=function(){return new XMLHttpRequest};id.prototype.i=function(){return{}};Tv=new id;function Xc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ec(this),this.P=TV,e=vv?125:void 0,this.W=new ed(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qA}function qA(){this.i=null,this.g="",this.h=!1}var TV=45e3,Ev={},sh={};ge=Xc.prototype;ge.setTimeout=function(e){this.P=e};function Sv(e,t,n){e.K=1,e.v=sd(Ii(t)),e.s=n,e.U=!0,HA(e,null)}function HA(e,t){e.F=Date.now(),Qc(e),e.A=Ii(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),QA(n.h,"t",r),e.C=0,n=e.l.H,e.h=new qA,e.g=vk(e.l,n?t:null,!e.s),0<e.O&&(e.L=new yV(cn(e.Ia,e,e.g),e.O)),FA(e.V,e.g,"readystatechange",e.gb),t=e.H?TA(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Sc(),_V(e.j,e.u,e.A,e.m,e.X,e.s)}ge.gb=function(e){e=e.target;var t=this.L;t&&pi(e)==3?t.l():this.Ia(e)};ge.Ia=function(e){try{if(e==this.g)e:{var t=pi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||vv||this.g&&(this.h.h||this.g.ga()||jT(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Sc(3):Sc(2)),od(this);var o=this.g.ba();this.N=o;t:if(KA(this)){var s=jT(this.g);e="";var u=s.length,c=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qo(this),rc(this);var f="";break t}this.h.i=new Fe.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,bV(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ih(d)){var h=d;break t}}h=null}if(o=h)ca(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Av(this,o);else{this.i=!1,this.o=3,Dn(12),Qo(this),rc(this);break e}}this.U?(WA(this,t,f),vv&&this.i&&t==3&&(FA(this.V,this.W,"tick",this.fb),this.W.start())):(ca(this.j,this.m,f,null),Av(this,f)),t==4&&Qo(this),this.i&&!this.I&&(t==4?dk(this.l,this):(this.i=!1,Qc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Dn(12)):(this.o=0,Dn(13)),Qo(this),rc(this)}}}catch{}finally{}};function KA(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function WA(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=EV(e,n),o==sh){t==4&&(e.o=4,Dn(14),r=!1),ca(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Ev){e.o=4,Dn(15),ca(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ca(e.j,e.m,o,null),Av(e,o);KA(e)&&o!=sh&&o!=Ev&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Dn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),t_(t),t.L=!0,Dn(11))):(ca(e.j,e.m,n,"[Invalid Chunked Response]"),Qo(e),rc(e))}ge.fb=function(){if(this.g){var e=pi(this.g),t=this.g.ga();this.C<t.length&&(od(this),WA(this,e,t),this.i&&e!=4&&Qc(this))}};function EV(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?sh:(n=Number(t.substring(n,r)),isNaN(n)?Ev:(r+=1,r+n>t.length?sh:(t=t.substr(r,n),e.C=r+n,t)))}ge.cancel=function(){this.I=!0,Qo(this)};function Qc(e){e.Y=Date.now()+e.P,GA(e,e.P)}function GA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=zc(cn(e.eb,e),t)}function od(e){e.B&&(Fe.clearTimeout(e.B),e.B=null)}ge.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(wV(this.j,this.A),this.K!=2&&(Sc(),Dn(17)),Qo(this),this.o=2,rc(this)):GA(this,this.Y-e)};function rc(e){e.l.G==0||e.I||dk(e.l,e)}function Qo(e){od(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,$y(e.W),MA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Av(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||kv(n.i,e))){if(n.I=e.N,!e.J&&kv(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)lh(n),cd(n);else break e;e_(n),Dn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=zc(cn(n.ab,n),6e3));if(1>=ek(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Jo(n,11)}else if((e.J||n.g==e)&&lh(n),!ih(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(On(g,"spdy")||On(g,"quic")||On(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Yy(h,h.h),h.h=null))}if(r.D){var p=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.sa=p,Et(r.F,r.D,p))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=gk(r,r.H?r.la:null,r.W),y.J){tk(r.i,y);var b=y,T=r.K;T&&b.setTimeout(T),b.B&&(od(b),Qc(b)),r.g=y}else fk(r);0<n.l.length&&ld(n)}else s[0]!="stop"&&s[0]!="close"||Jo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Jo(n,7):Zy(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Sc(4)}catch{}}function SV(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(gv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Gy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(gv(e)||typeof e=="string")IA(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(gv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=SV(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Wa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ge=Wa.prototype;ge.R=function(){zy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ge.T=function(){return zy(this),this.g.concat()};function zy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ls(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],ls(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}ge.get=function(e,t){return ls(this.h,e)?this.h[e]:t};ge.set=function(e,t){ls(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ge.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function ls(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var zA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function AV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function fs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof fs){this.g=t!==void 0?t:e.g,ah(this,e.j),this.s=e.s,uh(this,e.i),ch(this,e.m),this.l=e.l,t=e.h;var n=new Ac;n.i=t.i,t.g&&(n.g=new Wa(t.g),n.h=t.h),MT(this,n),this.o=e.o}else e&&(n=String(e).match(zA))?(this.g=!!t,ah(this,n[1]||"",!0),this.s=ic(n[2]||""),uh(this,n[3]||"",!0),ch(this,n[4]),this.l=ic(n[5]||"",!0),MT(this,n[6]||"",!0),this.o=ic(n[7]||"")):(this.g=!!t,this.h=new Ac(null,this.g))}fs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xu(t,VT,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Xu(t,VT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Xu(n,n.charAt(0)=="/"?xV:OV,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xu(n,PV)),e.join("")};function Ii(e){return new fs(e)}function ah(e,t,n){e.j=n?ic(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uh(e,t,n){e.i=n?ic(t,!0):t}function ch(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function MT(e,t,n){t instanceof Ac?(e.h=t,DV(e.h,e.g)):(n||(t=Xu(t,RV)),e.h=new Ac(t,e.g))}function Et(e,t,n){e.h.set(t,n)}function sd(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kV(e){return e instanceof fs?Ii(e):new fs(e,void 0)}function CV(e,t,n,r){var o=new fs(null,void 0);return e&&ah(o,e),t&&uh(o,t),n&&ch(o,n),r&&(o.l=r),o}function ic(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,NV),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function NV(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var VT=/[#\/\?@]/g,OV=/[#\?:]/g,xV=/[#\?]/g,RV=/[#\?@]/g,PV=/#/g;function Ac(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ho(e){e.g||(e.g=new Wa,e.h=0,e.i&&AV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ge=Ac.prototype;ge.add=function(e,t){ho(this),this.i=null,e=Ga(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function YA(e,t){ho(e),t=Ga(e,t),ls(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ls(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zy(e)))}function XA(e,t){return ho(e),t=Ga(e,t),ls(e.g.h,t)}ge.forEach=function(e,t){ho(this),this.g.forEach(function(n,r){IA(n,function(o){e.call(t,o,r,this)},this)},this)};ge.T=function(){ho(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};ge.R=function(e){ho(this);var t=[];if(typeof e=="string")XA(this,e)&&(t=CT(t,this.g.get(Ga(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=CT(t,e[n])}return t};ge.set=function(e,t){return ho(this),this.i=null,e=Ga(this,e),XA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ge.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function QA(e,t,n){YA(e,t),0<n.length&&(e.i=null,e.g.set(Ga(e,t),Py(n)),e.h+=n.length)}ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function Ga(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function DV(e,t){t&&!e.j&&(ho(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(YA(this,r),QA(this,o,n))},e)),e.j=t}var LV=function(){function e(t,n){this.h=t,this.g=n}return e}();function JA(e){this.l=e||FV,Fe.PerformanceNavigationTiming?(e=Fe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Fe.g&&Fe.g.Ea&&Fe.g.Ea()&&Fe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var FV=10;function ZA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ek(e){return e.h?1:e.g?e.g.size:0}function kv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Yy(e,t){e.g?e.g.add(t):e.h=t}function tk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}JA.prototype.cancel=function(){var e,t;if(this.i=nk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=bA(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function nk(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=bA(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Py(e.i)}function Xy(){}Xy.prototype.stringify=function(e){return Fe.JSON.stringify(e,void 0)};Xy.prototype.parse=function(e){return Fe.JSON.parse(e,void 0)};function MV(){this.g=new Xy}function VV(e,t,n){var r=n||"";try{Gy(e,function(o,s){var u=o;Wc(o)&&(u=jy(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function UV(e,t){var n=new td;if(Fe.Image){var r=new Image;r.onload=If(Ef,n,r,"TestLoadImage: loaded",!0,t),r.onerror=If(Ef,n,r,"TestLoadImage: error",!1,t),r.onabort=If(Ef,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=If(Ef,n,r,"TestLoadImage: timeout",!1,t),Fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ef(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Jc(e){this.l=e.$b||null,this.j=e.ib||!1}hn(Jc,Hy);Jc.prototype.g=function(){return new ad(this.l,this.j)};Jc.prototype.i=function(e){return function(){return e}}({});function ad(e,t){nn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(ad,nn);var Qy=0;ge=ad.prototype;ge.open=function(e,t){if(this.readyState!=Qy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kc(this)};ge.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Fe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zc(this)),this.readyState=Qy};ge.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kc(this)),this.g&&(this.readyState=3,kc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function rk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ge.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zc(this):kc(this),this.readyState==3&&rk(this)}};ge.Ua=function(e){this.g&&(this.response=this.responseText=e,Zc(this))};ge.Ta=function(e){this.g&&(this.response=e,Zc(this))};ge.ha=function(){this.g&&Zc(this)};function Zc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kc(e)}ge.setRequestHeader=function(e,t){this.v.append(e,t)};ge.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function kc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var jV=Fe.JSON.parse;function Ht(e){nn.call(this),this.headers=new Wa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ik,this.K=this.L=!1}hn(Ht,nn);var ik="",BV=/^https?$/i,$V=["POST","PUT"];ge=Ht.prototype;ge.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tv.g(),this.C=this.u?FT(this.u):FT(Tv),this.g.onreadystatechange=cn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){UT(this,s);return}e=n||"";var o=new Wa(this.headers);r&&Gy(r,function(s,u){o.set(u,s)}),r=ZM(o.T()),n=Fe.FormData&&e instanceof Fe.FormData,!(0<=wA($V,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ak(this),0<this.B&&((this.K=qV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.pa,this)):this.A=qy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){UT(this,s)}};function qV(e){return Ia&&iV()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function HV(e){return e.toLowerCase()=="content-type"}ge.pa=function(){typeof Ry<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))};function UT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ok(e),ud(e)}function ok(e){e.D||(e.D=!0,ln(e,"complete"),ln(e,"error"))}ge.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ln(this,"complete"),ln(this,"abort"),ud(this))};ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ud(this,!0)),Ht.Z.M.call(this)};ge.Fa=function(){this.s||(this.F||this.v||this.l?sk(this):this.cb())};ge.cb=function(){sk(this)};function sk(e){if(e.h&&typeof Ry<"u"&&(!e.C[1]||pi(e)!=4||e.ba()!=2)){if(e.v&&pi(e)==4)qy(e.Fa,0,e);else if(ln(e,"readystatechange"),pi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(zA)[1]||null;if(!s&&Fe.self&&Fe.self.location){var u=Fe.self.location.protocol;s=u.substr(0,u.length-1)}o=!BV.test(s?s.toLowerCase():"")}r=o}if(r)ln(e,"complete"),ln(e,"success");else{e.m=6;try{var c=2<pi(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",ok(e)}}finally{ud(e)}}}}function ud(e,t){if(e.g){ak(e);var n=e.g,r=e.C[0]?rh:null;e.g=null,e.C=null,t||ln(e,"ready");try{n.onreadystatechange=r}catch{}}}function ak(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Fe.clearTimeout(e.A),e.A=null)}function pi(e){return e.g?e.g.readyState:0}ge.ba=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}};ge.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ge.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),jV(t)}};function jT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ik:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ge.Da=function(){return this.m};ge.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function KV(e){var t="";return Dy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Jy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=KV(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Et(e,t,n))}function $u(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function uk(e){this.za=0,this.l=[],this.h=new td,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$u("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$u("baseRetryDelayMs",5e3,e),this.$a=$u("retryDelaySeedMs",1e4,e),this.Ya=$u("forwardChannelMaxRetries",2,e),this.ra=$u("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new JA(e&&e.concurrentRequestLimit),this.Ca=new MV,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ge=uk.prototype;ge.ma=8;ge.G=1;function Zy(e){if(ck(e),e.G==3){var t=e.V++,n=Ii(e.F);Et(n,"SID",e.J),Et(n,"RID",t),Et(n,"TYPE","terminate"),el(e,n),t=new Xc(e,e.h,t,void 0),t.K=2,t.v=sd(Ii(n)),n=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(n=Fe.navigator.sendBeacon(t.v.toString(),"")),!n&&Fe.Image&&(new Image().src=t.v,n=!0),n||(t.g=vk(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qc(t)}mk(e)}ge.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function cd(e){e.g&&(t_(e),e.g.cancel(),e.g=null)}function ck(e){cd(e),e.u&&(Fe.clearTimeout(e.u),e.u=null),lh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Fe.clearTimeout(e.m),e.m=null)}function Ng(e,t){e.l.push(new LV(e.Za++,t)),e.G==3&&ld(e)}function ld(e){ZA(e.i)||e.m||(e.m=!0,By(e.Ha,e),e.C=0)}function WV(e,t){return ek(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=zc(cn(e.Ha,e,t),pk(e,e.C)),e.C++,!0)}ge.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=TA(n),EA(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=lk(this,t,r),o=Ii(this.F),Et(o,"RID",e),Et(o,"CVER",22),this.D&&Et(o,"X-HTTP-Session-Id",this.D),el(this,o),this.o&&n&&Jy(o,this.o,n),Yy(this.i,t),this.Ra&&Et(o,"TYPE","init"),this.ja?(Et(o,"$req",r),Et(o,"SID","null"),t.$=!0,Sv(t,o,null)):Sv(t,o,r),this.G=2}}else this.G==3&&(e?BT(this,e):this.l.length==0||ZA(this.i)||BT(this))};function BT(e,t){var n;t?n=t.m:n=e.V++;var r=Ii(e.F);Et(r,"SID",e.J),Et(r,"RID",n),Et(r,"AID",e.U),el(e,r),e.o&&e.s&&Jy(r,e.o,e.s),n=new Xc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=lk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Yy(e.i,n),Sv(n,r,t)}function el(e,t){e.j&&Gy({},function(n,r){Et(t,r,n)})}function lk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?cn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var c=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),c=!1;else try{VV(g,u,"req"+d+"_")}catch{r&&r(g)}}if(c){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function fk(e){e.g||e.u||(e.Y=1,By(e.Ga,e),e.A=0)}function e_(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=zc(cn(e.Ga,e),pk(e,e.A)),e.A++,!0)}ge.Ga=function(){if(this.u=null,hk(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=zc(cn(this.bb,this),e)}};ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Dn(10),cd(this),hk(this))};function t_(e){e.B!=null&&(Fe.clearTimeout(e.B),e.B=null)}function hk(e){e.g=new Xc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Ii(e.oa);Et(t,"RID","rpc"),Et(t,"SID",e.J),Et(t,"CI",e.N?"0":"1"),Et(t,"AID",e.U),el(e,t),Et(t,"TYPE","xmlhttp"),e.o&&e.s&&Jy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=sd(Ii(t)),n.s=null,n.U=!0,HA(n,e)}ge.ab=function(){this.v!=null&&(this.v=null,cd(this),e_(this),Dn(19))};function lh(e){e.v!=null&&(Fe.clearTimeout(e.v),e.v=null)}function dk(e,t){var n=null;if(e.g==t){lh(e),t_(e),e.g=null;var r=2}else if(kv(e.i,t))n=t.D,tk(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=nd(),ln(r,new jA(r,n)),ld(e)}else fk(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&WV(e,t)||r==2&&e_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Jo(e,5);break;case 4:Jo(e,10);break;case 3:Jo(e,6);break;default:Jo(e,2)}}}function pk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Jo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=cn(e.jb,e);n||(n=new fs("//www.google.com/images/cleardot.gif"),Fe.location&&Fe.location.protocol=="http"||ah(n,"https"),sd(n)),UV(n.toString(),r)}else Dn(2);e.G=0,e.j&&e.j.va(t),mk(e),ck(e)}ge.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Dn(2)):(this.h.info("Failed to ping google.com"),Dn(1))};function mk(e){e.G=0,e.I=-1,e.j&&((nk(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Py(e.l),e.l.length=0),e.j.ua())}function gk(e,t,n){var r=kV(n);if(r.i!="")t&&uh(r,t+"."+r.i),ch(r,r.m);else{var o=Fe.location;r=CV(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Dy(e.aa,function(s,u){Et(r,u,s)}),t=e.D,n=e.sa,t&&n&&Et(r,t,n),Et(r,"VER",e.ma),el(e,r),r}function vk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ht(new Jc({ib:!0})):new Ht(e.qa),t.L=e.H,t}function yk(){}ge=yk.prototype;ge.xa=function(){};ge.wa=function(){};ge.va=function(){};ge.ua=function(){};ge.Oa=function(){};function fh(){if(Ia&&!(10<=Number(oV)))throw Error("Environmental error: no available transport.")}fh.prototype.g=function(e,t){return new ar(e,t)};function ar(e,t){nn.call(this),this.g=new uk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ih(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ih(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new za(this)}hn(ar,nn);ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),By(cn(e.hb,e,t))),Dn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gk(e,null,e.W),ld(e)};ar.prototype.close=function(){Zy(this.g)};ar.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Ng(this.g,t)}else this.v?(t={},t.__data__=jy(e),Ng(this.g,t)):Ng(this.g,e)};ar.prototype.M=function(){this.g.j=null,delete this.j,Zy(this.g),delete this.g,ar.Z.M.call(this)};function _k(e){Ky.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}hn(_k,Ky);function bk(){Wy.call(this),this.status=1}hn(bk,Wy);function za(e){this.g=e}hn(za,yk);za.prototype.xa=function(){ln(this.g,"a")};za.prototype.wa=function(e){ln(this.g,new _k(e))};za.prototype.va=function(e){ln(this.g,new bk)};za.prototype.ua=function(){ln(this.g,"b")};fh.prototype.createWebChannel=fh.prototype.g;ar.prototype.send=ar.prototype.u;ar.prototype.open=ar.prototype.m;ar.prototype.close=ar.prototype.close;rd.NO_ERROR=0;rd.TIMEOUT=8;rd.HTTP_ERROR=6;BA.COMPLETE="complete";$A.EventType=Yc;Yc.OPEN="a";Yc.CLOSE="b";Yc.ERROR="c";Yc.MESSAGE="d";nn.prototype.listen=nn.prototype.N;Ht.prototype.listenOnce=Ht.prototype.O;Ht.prototype.getLastError=Ht.prototype.La;Ht.prototype.getLastErrorCode=Ht.prototype.Da;Ht.prototype.getStatus=Ht.prototype.ba;Ht.prototype.getResponseJson=Ht.prototype.Qa;Ht.prototype.getResponseText=Ht.prototype.ga;Ht.prototype.send=Ht.prototype.ea;var GV=function(){return new fh},zV=function(){return nd()},Og=rd,YV=BA,XV=bs,$T={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},QV=Jc,Sf=$A,JV=Ht;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();nr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ae(t,e),t}(Error),Rr=new gA("@firebase/firestore");function Cv(){return Rr.logLevel}function ae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=tt.DEBUG){var r=t.map(n_);Rr.debug.apply(Rr,Tt(["Firestore (8.10.1): "+e],r))}}function $t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=tt.ERROR){var r=t.map(n_);Rr.error.apply(Rr,Tt(["Firestore (8.10.1): "+e],r))}}function hh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=tt.WARN){var r=t.map(n_);Rr.warn.apply(Rr,Tt(["Firestore (8.10.1): "+e],r))}}function n_(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw $t(t),new Error(t)}function Re(e,t){e||be()}function he(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wk=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=ZV(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function Ke(e,t){return e<t?-1:e>t?1:0}function Ta(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function Ik(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new te(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new te(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new te(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ke(this.nanoseconds,t.nanoseconds):Ke(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Be=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Hn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ws(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ek=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&be(),r===void 0?r=t.length-n:r>t.length-n&&be(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),nt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var c=u[s];if(c.indexOf("//")>=0)throw new te(K.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(Ek),e2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return e2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new te(K.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},c=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new te(K.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new te(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(u(),s++)}if(u(),c)throw new te(K.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(Ek),Ea=function(){function e(t){this.fields=t,t.sort(Lr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ta(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Kn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ke(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Kn.EMPTY_BYTE_STRING=new Kn("");var t2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(e){if(Re(!!e),typeof e=="string"){var t=0,n=t2.exec(e);if(Re(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:jt(e.seconds),nanos:jt(e.nanos)}}function jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Sa(e){return typeof e=="string"?Kn.fromBase64String(e):Kn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sk(e){var t=e.mapValue.fields.__previous_value__;return r_(t)?Sk(t):t}function Cc(e){var t=co(e.mapValue.fields.__local_write_time__.timestampValue);return new Hn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(e){return e==null}function dh(e){return e===0&&1/e==-1/0}function Ak(e){return typeof e=="number"&&Number.isInteger(e)&&!dh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(nt.fromString(t))},e.fromName=function(t){return new e(nt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&nt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return nt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new nt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?r_(e)?4:10:be()}function ii(e,t){var n=hs(e);if(n!==hs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cc(e).isEqual(Cc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=co(r.timestampValue),u=co(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Sa(r.bytesValue).isEqual(Sa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return jt(r.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(r.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return jt(r.integerValue)===jt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=jt(r.doubleValue),u=jt(o.doubleValue);return s===u?dh(s)===dh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return Ta(e.arrayValue.values||[],t.arrayValue.values||[],ii);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(qT(s)!==qT(u))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!ii(s[c],u[c])))return!1;return!0}(e,t);default:return be()}}function Nc(e,t){return(e.values||[]).find(function(n){return ii(n,t)})!==void 0}function Aa(e,t){var n=hs(e),r=hs(t);if(n!==r)return Ke(n,r);switch(n){case 0:return 0;case 1:return Ke(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=jt(o.integerValue||o.doubleValue),c=jt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(e,t);case 3:return HT(e.timestampValue,t.timestampValue);case 4:return HT(Cc(e),Cc(t));case 5:return Ke(e.stringValue,t.stringValue);case 6:return function(o,s){var u=Sa(o),c=Sa(s);return u.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),c=s.split("/"),f=0;f<u.length&&f<c.length;f++){var d=Ke(u[f],c[f]);if(d!==0)return d}return Ke(u.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=Ke(jt(o.latitude),jt(s.latitude));return u!==0?u:Ke(jt(o.longitude),jt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],c=s.values||[],f=0;f<u.length&&f<c.length;++f){var d=Aa(u[f],c[f]);if(d)return d}return Ke(u.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},c=Object.keys(u),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(var g=0;g<c.length&&g<d.length;++g){var h=Ke(c[g],d[g]);if(h!==0)return h;var p=Aa(u[c[g]],f[d[g]]);if(p!==0)return p}return Ke(c.length,d.length)}(e.mapValue,t.mapValue);default:throw be()}}function HT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ke(e,t);var n=co(e),r=co(t),o=Ke(n.seconds,r.seconds);return o!==0?o:Ke(n.nanos,r.nanos)}function i_(e){return Nv(e)}function Nv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=co(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,we.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,c=r.values||[];u<c.length;u++)s?s=!1:o+=",",o+=Nv(c[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,c=Object.keys(r.fields||{}).sort();u<c.length;u++){var f=c[u];s?s=!1:o+=",",o+=f+":"+Nv(r.fields[f])}return o+"}"}(e.mapValue):be();var t,n}function ph(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ov(e){return!!e&&"integerValue"in e}function o_(e){return!!e&&"arrayValue"in e}function KT(e){return!!e&&"nullValue"in e}function WT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $f(e){return!!e&&"mapValue"in e}function oc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ws(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=oc(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oc(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!$f(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=oc(n)},e.prototype.setAll=function(t){var n=this,r=Lr.emptyPath(),o={},s=[];t.forEach(function(c,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}c?o[f.lastSegment()]=oc(c):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ii(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];$f(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){ws(n,function(c,f){return t[c]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(oc(this.value))},e}();function kk(e){var t=[];return ws(e.fields,function(n,r){var o=new Lr([n]);if($f(r)){var s=kk(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,c=s;u<c.length;u++){var f=c[u];t.push(o.child(f))}}else t.push(o)}),new Ea(t)}var wn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Be.min(),tr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,tr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,tr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=tr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=tr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),n2=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new n2(e,t,n,r,o,s,u)}function tl(e){var t=he(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+i_(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),Is(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=gh(t.startAt)),t.endAt&&(n+="|ub:",n+=gh(t.endAt)),t.h=n}return t.h}function fd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!l2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!ii(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!YT(e.startAt,t.startAt)&&YT(e.endAt,t.endAt)}function mh(e){return we.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var rr=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Ae(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new r2(n,r,o):r==="array-contains"?new s2(n,o):r==="in"?new a2(n,o):r==="not-in"?new u2(n,o):r==="array-contains-any"?new c2(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new i2(n,o):new o2(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Aa(r,this.value)):r!==null&&hs(this.value)===hs(r)&&this.m(Aa(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return be()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),r2=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=we.fromName(o.referenceValue),s}return Ae(t,e),t.prototype.matches=function(n){var r=we.comparator(n.key,this.key);return this.m(r)},t}(rr),i2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=Ck("in",r),o}return Ae(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr),o2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=Ck("not-in",r),o}return Ae(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr);function Ck(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return we.fromName(r.referenceValue)})}var s2=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Ae(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return o_(r)&&Nc(r.arrayValue,this.value)},t}(rr),a2=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Ae(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Nc(this.value.arrayValue,r)},t}(rr),u2=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Ae(t,e),t.prototype.matches=function(n){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Nc(this.value.arrayValue,r)},t}(rr),c2=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Ae(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!o_(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Nc(r.value.arrayValue,s)})},t}(rr),Oc=function(e,t){this.position=e,this.before=t};function gh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return i_(t)}).join(",")}var ma=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function l2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zT(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?we.comparator(we.fromName(u.referenceValue),n.key):Aa(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function YT(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ii(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(e,t,n,r,o,s,u,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function Nk(e,t,n,r,o,s,u,c){return new Si(e,t,n,r,o,s,u,c)}function nl(e){return new Si(e)}function qf(e){return!Is(e.limit)&&e.limitType==="F"}function vh(e){return!Is(e.limit)&&e.limitType==="L"}function s_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function a_(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function u_(e){return e.collectionGroup!==null}function ka(e){var t=he(e);if(t.p===null){t.p=[];var n=a_(t),r=s_(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new ma(n)),t.p.push(new ma(Lr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var c=u[s];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ma(Lr.keyField(),f))}}}return t.p}function oi(e){var t=he(e);if(!t.T)if(t.limitType==="F")t.T=GT(t.path,t.collectionGroup,ka(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ka(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new ma(s.field,u))}var c=t.endAt?new Oc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Oc(t.startAt.position,!t.startAt.before):null;t.T=GT(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function Ok(e,t,n){return new Si(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rl(e,t){return fd(oi(e),oi(t))&&e.limitType===t.limitType}function xk(e){return tl(oi(e))+"|lt:"+e.limitType}function xv(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+i_(o.value);var o}).join(", ")+"]"),Is(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+gh(t.startAt)),t.endAt&&(n+=", endAt: "+gh(t.endAt)),"Target("+n+")"}(oi(e))+"; limitType="+e.limitType+")"}function il(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):we.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!zT(n.startAt,ka(n),r))&&(!n.endAt||!zT(n.endAt,ka(n),r))}(e,t)}function Rk(e){return function(t,n){for(var r=!1,o=0,s=ka(e);o<s.length;o++){var u=s[o],c=f2(u,t,n);if(c!==0)return c;r=r||u.field.isKeyField()}return 0}}function f2(e,t,n){var r=e.field.isKeyField()?we.comparator(t.key,n.key):function(o,s,u){var c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Aa(c,f):be()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function Dk(e){return{integerValue:""+e}}function Lk(e,t){return Ak(t)?Dk(t):Pk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hd=function(){this._=void 0};function h2(e,t,n){return e instanceof Ca?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof ds?Mk(e,t):e instanceof ps?Vk(e,t):function(r,o){var s=Fk(r,o),u=XT(s)+XT(r.A);return Ov(s)&&Ov(r.A)?Dk(u):Pk(r.R,u)}(e,t)}function d2(e,t,n){return e instanceof ds?Mk(e,t):e instanceof ps?Vk(e,t):n}function Fk(e,t){return e instanceof Na?Ov(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Ca=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t}(hd),ds=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ae(t,e),t}(hd);function Mk(e,t){for(var n=Uk(t),r=function(u){n.some(function(c){return ii(c,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var ps=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ae(t,e),t}(hd);function Vk(e,t){for(var n=Uk(t),r=function(u){n=n.filter(function(c){return!ii(c,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Na=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Ae(t,e),t}(hd);function XT(e){return jt(e.integerValue||e.doubleValue)}function Uk(e){return o_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ol=function(e,t){this.field=e,this.transform=t},p2=function(e,t){this.version=e,this.transformResults=t},yn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Hf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var dd=function(){};function m2(e,t,n){e instanceof sl?function(r,o,s){var u=r.value.clone(),c=ZT(r.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof po?function(r,o,s){if(Hf(r.precondition,o)){var u=ZT(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(jk(r)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Rv(e,t,n){e instanceof sl?function(r,o,s){if(Hf(r.precondition,o)){var u=r.value.clone(),c=eE(r.fieldTransforms,s,o);u.setAll(c),o.convertToFoundDocument(JT(o),u).setHasLocalMutations()}}(e,t,n):e instanceof po?function(r,o,s){if(Hf(r.precondition,o)){var u=eE(r.fieldTransforms,s,o),c=o.data;c.setAll(jk(r)),c.setAll(u),o.convertToFoundDocument(JT(o),c).setHasLocalMutations()}}(e,t,n):function(r,o){Hf(r.precondition,o)&&o.convertToNoDocument(Be.min())}(e,t)}function g2(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),c=Fk(s.transform,u||null);c!=null&&(n==null&&(n=tr.empty()),n.set(s.field,c))}return n||null}function QT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ta(n,r,function(o,s){return function(u,c){return u.field.isEqual(c.field)&&function(f,d){return f instanceof ds&&d instanceof ds||f instanceof ps&&d instanceof ps?Ta(f.elements,d.elements,ii):f instanceof Na&&d instanceof Na?ii(f.A,d.A):f instanceof Ca&&d instanceof Ca}(u.transform,c.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function JT(e){return e.isFoundDocument()?e.version:Be.min()}var sl=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Ae(t,e),t}(dd),po=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=o,c.precondition=s,c.fieldTransforms=u,c.type=1,c}return Ae(t,e),t}(dd);function jk(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function ZT(e,t,n){var r=new Map;Re(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,c=t.data.field(s.field);r.set(s.field,d2(u,c,n[o]))}return r}function eE(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],c=u.transform,f=n.data.field(u.field);r.set(u.field,h2(c,f,t))}return r}var Ut,Xe,al=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Ae(t,e),t}(dd),c_=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Ae(t,e),t}(dd),v2=function(e){this.count=e};function Bk(e){switch(e){case K.OK:return be();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return be()}}function $k(e){if(e===void 0)return $t("GRPC error has no .code"),K.UNKNOWN;switch(e){case Ut.OK:return K.OK;case Ut.CANCELLED:return K.CANCELLED;case Ut.UNKNOWN:return K.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return K.INTERNAL;case Ut.UNAVAILABLE:return K.UNAVAILABLE;case Ut.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ut.NOT_FOUND:return K.NOT_FOUND;case Ut.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ut.ABORTED:return K.ABORTED;case Ut.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ut.DATA_LOSS:return K.DATA_LOSS;default:return be()}}(Xe=Ut||(Ut={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In=function(){function e(t,n){this.comparator=t,this.root=n||Xi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Af(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Af(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Af(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Af(this.root,t,this.comparator,!0)},e}(),Af=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Xi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();var t=this.left.check();if(t!==this.right.check())throw be();return t+(this.isRed()?0:1)},e}();Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw be()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Xi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt=function(){function e(t){this.comparator=t,this.data=new In(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new tE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new tE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),tE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),y2=new In(we.comparator);function Pr(){return y2}var _2=new In(we.comparator);function Pv(){return _2}var b2=new In(we.comparator);function w2(){return b2}var I2=new zt(we.comparator);function gt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=I2,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var T2=new zt(Ke);function pd(){return T2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l_=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,f_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Be.min(),r,pd(),Pr(),gt())},e}(),f_=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Kn.EMPTY_BYTE_STRING,n,gt(),gt(),gt())},e}(),Kf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},qk=function(e,t){this.targetId=e,this.V=t},Hk=function(e,t,n,r){n===void 0&&(n=Kn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},nE=function(){function e(){this.S=0,this.D=iE(),this.C=Kn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=gt(),n=gt(),r=gt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:be()}}),new f_(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=iE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),E2=function(){function e(t){this.W=t,this.G=new Map,this.H=Pr(),this.J=rE(),this.Y=new zt(Ke)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:be()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(mh(s))if(r===0){var u=new we(s.path);this.tt(n,u,wn.newNoDocument(u,Be.min()))}else Re(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,c){var f=n.ot(c);if(f){if(u.current&&mh(f.target)){var d=new we(f.target.path);n.H.get(d)!==null||n.at(c,d)||n.tt(c,d,wn.newNoDocument(d,t))}u.$&&(r.set(c,u.M()),u.L())}});var o=gt();this.J.forEach(function(u,c){var f=!0;c.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new l_(t,r,this.Y,this.H,o);return this.H=Pr(),this.J=rE(),this.Y=new zt(Ke),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new nE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new zt(Ke),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new nE),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function rE(){return new In(we.comparator)}function iE(){return new In(we.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2=function(e,t){this.databaseId=e,this.I=t};function xc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kk(e,t){return e.I?t.toBase64():t.toUint8Array()}function C2(e,t){return xc(e,t.toTimestamp())}function Ln(e){return Re(!!e),Be.fromTimestamp(function(t){var n=co(t);return new Hn(n.seconds,n.nanos)}(e))}function h_(e,t){return function(n){return new nt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Wk(e){var t=nt.fromString(e);return Re(Zk(t)),t}function Rc(e,t){return h_(e.databaseId,t.path)}function vi(e,t){var n=Wk(t);if(n.get(1)!==e.databaseId.projectId)throw new te(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new te(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new we(zk(n))}function Dv(e,t){return h_(e.databaseId,t)}function Gk(e){var t=Wk(e);return t.length===4?nt.emptyPath():zk(t)}function Pc(e){return new nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zk(e){return Re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function oE(e,t,n){return{name:Rc(e,t),fields:n.value.mapValue.fields}}function N2(e,t,n){var r=vi(e,t.name),o=Ln(t.updateTime),s=new tr({mapValue:{fields:t.fields}}),u=wn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function yh(e,t){var n;if(t instanceof sl)n={update:oE(e,t.key,t.value)};else if(t instanceof al)n={delete:Rc(e,t.key)};else if(t instanceof po)n={update:oE(e,t.key,t.data),updateMask:D2(t.fieldMask)};else{if(!(t instanceof c_))return be();n={verify:Rc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof Ca)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ds)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ps)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Na)return{fieldPath:s.field.canonicalString(),increment:u.A};throw be()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:C2(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(e,t.precondition)),n}function sE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?yn.updateTime(Ln(d.updateTime)):d.exists!==void 0?yn.exists(d.exists):yn.none()}(t.currentDocument):yn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(g,h){var p=null;if("setToServerValue"in h)Re(h.setToServerValue==="REQUEST_TIME"),p=new Ca;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];p=new ds(y)}else if("removeAllFromArray"in h){var b=h.removeAllFromArray.values||[];p=new ps(b)}else"increment"in h?p=new Na(g,h.increment):be();var T=Lr.fromServerFormat(h.fieldPath);return new ol(T,p)}(e,d)}):[];if(t.update){t.update.name;var o=vi(e,t.update.name),s=new tr({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var g=d.fieldPaths||[];return new Ea(g.map(function(h){return Lr.fromServerFormat(h)}))}(t.updateMask);return new po(o,s,u,n,r)}return new sl(o,s,n,r)}if(t.delete){var c=vi(e,t.delete);return new al(c,n)}if(t.verify){var f=vi(e,t.verify);return new c_(f,n)}return be()}function Yk(e,t){return{documents:[Dv(e,t.path)]}}function Xk(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Dv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Dv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(d){return function(g){if(g.op==="=="){if(WT(g.value))return{unaryFilter:{field:Zs(g.field),op:"IS_NAN"}};if(KT(g.value))return{unaryFilter:{field:Zs(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(WT(g.value))return{unaryFilter:{field:Zs(g.field),op:"IS_NOT_NAN"}};if(KT(g.value))return{unaryFilter:{field:Zs(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(g.field),op:x2(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(c){if(c.length!==0)return c.map(function(f){return function(d){return{field:Zs(d.field),direction:O2(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(c,f){return c.I||Is(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=aE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=aE(t.endAt)),n}function Qk(e){var t=Gk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Re(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=Jk(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(h){return function(p){return new ma(la(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h)}));var f=null;n.limit&&(f=function(h){var p;return Is(p=typeof h=="object"?h.value:h)?null:p}(n.limit));var d=null;n.startAt&&(d=uE(n.startAt));var g=null;return n.endAt&&(g=uE(n.endAt)),Nk(t,o,c,u,f,"F",d,g)}function Jk(e){return e?e.unaryFilter!==void 0?[P2(e)]:e.fieldFilter!==void 0?[R2(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Jk(t)}).reduce(function(t,n){return t.concat(n)}):be():[]}function aE(e){return{before:e.before,values:e.position}}function uE(e){var t=!!e.before,n=e.values||[];return new Oc(n,t)}function O2(e){return S2[e]}function x2(e){return A2[e]}function Zs(e){return{fieldPath:e.canonicalString()}}function la(e){return Lr.fromServerFormat(e.fieldPath)}function R2(e){return rr.create(la(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return be()}}(e.fieldFilter.op),e.fieldFilter.value)}function P2(e){switch(e.unaryFilter.op){case"IS_NAN":var t=la(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=la(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=la(e.unaryFilter.field);return rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=la(e.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return be()}}function D2(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Zk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=cE(t)),t=L2(e.get(n),t);return cE(t)}function L2(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function cE(e){return e+""}function mi(e){var t=e.length;if(Re(t>=2),t===2)return Re(e.charAt(0)===""&&e.charAt(1)===""),nt.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&be(),e.charAt(u+1)){case"":var c=e.substring(s,u),f=void 0;o.length===0?f=c:(f=o+=c,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:be()}s=u+2}return new nt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F2=function(e,t){this.seconds=e,this.nanoseconds=t},Jn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Jn.store="owner",Jn.key="owner";var ro=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ro.store="mutationQueues",ro.keyPath="userId";var yt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};yt.store="mutations",yt.keyPath="batchId",yt.userMutationsIndex="userMutationsIndex",yt.userMutationsKeyPath=["userId","batchId"];var gn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Dr(n)]},e.key=function(t,n,r){return[t,Dr(n),r]},e}();gn.store="documentMutations",gn.PLACEHOLDER=new gn;var M2=function(e,t){this.path=e,this.readTime=t},V2=function(e,t){this.path=e,this.version=t},Ot=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Ot.store="remoteDocuments",Ot.readTimeIndex="readTimeIndex",Ot.readTimeIndexPath="readTime",Ot.collectionReadTimeIndex="collectionReadTimeIndex",Ot.collectionReadTimeIndexPath=["parentPath","readTime"];var Jr=function(e){this.byteSize=e};Jr.store="remoteDocumentGlobal",Jr.key="remoteDocumentGlobalKey";var qn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var an=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};an.store="targetDocuments",an.keyPath=["targetId","path"],an.documentTargetsIndex="documentTargetsIndex",an.documentTargetsKeyPath=["path","targetId"];var Zn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zn.key="targetGlobalKey",Zn.store="targetGlobal";var rs=function(e,t){this.collectionId=e,this.parent=t};rs.store="collectionParents",rs.keyPath=["collectionId","parent"];var yi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};yi.store="clientMetadata",yi.keyPath="clientId";var Oa=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Oa.store="bundles",Oa.keyPath="bundleId";var xa=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};xa.store="namedQueries",xa.keyPath="name";var U2=Tt(Tt([],Tt(Tt([],Tt(Tt([],Tt(Tt([],[ro.store,yt.store,gn.store,Ot.store,qn.store,Jn.store,Zn.store,an.store]),[yi.store])),[Jr.store])),[rs.store])),[Oa.store,xa.store]),eC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tC=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Wn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},oe=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(c){++o,c.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(c){return c?e.resolve(c):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),nC=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Wn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new sc(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=d_(o.target.error);r.ft.reject(new sc(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new sc(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ae("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new B2(n)},e}(),Ra=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(cs())===12.2&&$t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ae("SimpleDb","Removing database:",t),Yo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=cs(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return J(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ae("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(f){var d=f.target.result;s(d)},c.onblocked=function(){u(new sc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var d=f.target.error;d.name==="VersionError"?u(new te(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new sc(t,d))},c.onupgradeneeded=function(f){ae("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,c.transaction,f.oldVersion,r.version).next(function(){ae("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return Z(this,void 0,void 0,function(){var s,u,c,f,d;return J(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,c=function(){var h,p,y,b,T;return J(this,function(E){switch(E.label){case 0:++u,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),h=nC.open(f.db,t,s?"readonly":"readwrite",r),p=o(h).catch(function(I){return h.abort(I),oe.reject(I)}).toPromise(),y={},p.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(E.sent(),p),y)];case 4:return b=E.sent(),T=b.name!=="FirebaseError"&&u<3,ae("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,c()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),j2=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Yo(this.Pt.delete())},e}(),sc=function(e){function t(n,r){var o=this;return(o=e.call(this,K.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Ae(t,e),t}(te);function Ts(e){return e.name==="IndexedDbTransactionError"}var B2=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ae("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ae("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Yo(r)},e.prototype.add=function(t){return ae("SimpleDb","ADD",this.store.name,t,t),Yo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Yo(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ae("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ae("SimpleDb","DELETE",this.store.name,t),Yo(this.store.delete(t))},e.prototype.count=function(){return ae("SimpleDb","COUNT",this.store.name),Yo(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){ae("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new oe(function(r,o){n.onerror=function(s){var u=d_(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(c){c?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new oe(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var c=u.target.result;if(c){var f=new j2(c),d=n(c.primaryKey,c.value,f);if(d instanceof oe){var g=d.catch(function(h){return f.done(),oe.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return oe.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Yo(e){return new oe(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=d_(r.target.error);n(o)}})}var lE=!1;function d_(e){var t=Ra._t(cs());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new te("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lE||(lE=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fE=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Ae(t,e),t}(tC);function Gn(e,t){var n=he(e);return Ra.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p_=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&m2(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&Rv(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Rv(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Be.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},gt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ta(this.mutations,t.mutations,function(n,r){return QT(n,r)})&&Ta(this.baseMutations,t.baseMutations,function(n,r){return QT(n,r)})},e}(),$2=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Re(t.mutations.length===r.length);for(var o=w2(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),md=function(){function e(t,n,r,o,s,u,c){s===void 0&&(s=Be.min()),u===void 0&&(u=Be.min()),c===void 0&&(c=Kn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),rC=function(e){this.Lt=e};function Lv(e,t){if(t.document)return N2(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=we.fromSegments(t.noDocument.path),r=Da(t.noDocument.readTime),o=wn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=we.fromSegments(t.unknownDocument.path);return r=Da(t.unknownDocument.version),wn.newUnknownDocument(s,r)}return be()}function hE(e,t,n){var r=m_(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,p){return{name:Rc(h,p.key),fields:p.data.value.mapValue.fields,updateTime:xc(h,p.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Ot(null,null,s,u,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=Pa(t.version);return u=t.hasCommittedMutations,new Ot(null,new M2(c,f),null,u,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),g=Pa(t.version);return new Ot(new V2(d,g),null,null,!0,r,o)}return be()}function m_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function iC(e){var t=new Hn(e[0],e[1]);return Be.fromTimestamp(t)}function Pa(e){var t=e.toTimestamp();return new F2(t.seconds,t.nanoseconds)}function Da(e){var t=new Hn(e.seconds,e.nanoseconds);return Be.fromTimestamp(t)}function sa(e,t){for(var n=(t.baseMutations||[]).map(function(f){return sE(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return sE(e.Lt,f)}),c=Hn.fromMillis(t.localWriteTimeMs);return new p_(t.batchId,c,n,u)}function Qu(e){var t,n,r=Da(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Da(e.lastLimboFreeSnapshotVersion):Be.min();return e.query.documents!==void 0?(Re((n=e.query).documents.length===1),t=oi(nl(Gk(n.documents[0])))):t=function(s){return oi(Qk(s))}(e.query),new md(t,e.targetId,0,e.lastListenSequenceNumber,r,o,Kn.fromBase64String(e.resumeToken))}function oC(e,t){var n,r=Pa(t.snapshotVersion),o=Pa(t.lastLimboFreeSnapshotVersion);n=mh(t.target)?Yk(e.Lt,t.target):Xk(e.Lt,t.target);var s=t.resumeToken.toBase64();return new qn(t.targetId,tl(t.target),r,s,t.sequenceNumber,o,n)}function sC(e){var t=Qk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ok(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q2=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return dE(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Da(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return dE(t).put({bundleId:(r=n).id,createTime:Pa(Ln(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return pE(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:sC(o.bundledQuery),readTime:Da(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return pE(t).put(function(r){return{name:r.name,readTime:Pa(Ln(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function dE(e){return Gn(e,Oa.store)}function pE(e){return Gn(e,xa.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H2=function(){function e(){this.Bt=new g_}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),oe.resolve()},e.prototype.getCollectionParents=function(t,n){return oe.resolve(this.Bt.getEntries(n))},e}(),g_=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new zt(nt.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new zt(nt.comparator)).toArray()},e}(),K2=function(){function e(){this.qt=new g_}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:Dr(s)};return mE(t).put(u)}return oe.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[Ik(n),""],!1,!0);return mE(t).Nt(o).next(function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(f.collectionId!==n)break;r.push(mi(f.parent))}return r})},e}();function mE(e){return Gn(e,rs.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(e,t,n){var r=e.store(yt.store),o=e.store(gn.store),s=[],u=IDBKeyRange.only(n.batchId),c=0,f=r.$t({range:u},function(b,T,E){return c++,E.delete()});s.push(f.next(function(){Re(c===1)}));for(var d=[],g=0,h=n.mutations;g<h.length;g++){var p=h[g],y=gn.key(t,p.key.path,n.batchId);s.push(o.delete(y)),d.push(p.key)}return oe.waitFor(s).next(function(){return d})}function _h(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw be();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);var W2=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ji(t).$t({index:yt.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=aa(t),c=ji(t);return c.add({}).next(function(f){Re(typeof f=="number");for(var d=new p_(f,n,r,o),g=function(I,C,N){var k=N.baseMutations.map(function(M){return yh(I.Lt,M)}),j=N.mutations.map(function(M){return yh(I.Lt,M)});return new yt(C,N.batchId,N.localWriteTime.toMillis(),k,j)}(s.R,s.userId,d),h=[],p=new zt(function(I,C){return Ke(I.canonicalString(),C.canonicalString())}),y=0,b=o;y<b.length;y++){var T=b[y],E=gn.key(s.userId,T.key.path,f);p=p.add(T.key.path.popLast()),h.push(c.put(g)),h.push(u.put(E,gn.PLACEHOLDER))}return p.forEach(function(I){h.push(s.Ut.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),oe.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return ji(t).get(n).next(function(o){return o?(Re(o.userId===r.userId),sa(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?oe.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return ji(t).$t({index:yt.userMutationsIndex,range:s},function(c,f,d){f.userId===r.userId&&(Re(f.batchId>=o),u=sa(r.R,f)),d.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ji(t).$t({index:yt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ji(t).Nt(yt.userMutationsIndex,r).next(function(o){return o.map(function(s){return sa(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=gn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return aa(t).$t({range:s},function(c,f,d){var g=c[0],h=c[1],p=c[2],y=mi(h);if(g===r.userId&&n.path.isEqual(y))return ji(t).get(p).next(function(b){if(!b)throw be();Re(b.userId===r.userId),u.push(sa(r.R,b))});d.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new zt(Ke),s=[];return n.forEach(function(u){var c=gn.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(c),d=aa(t).$t({range:f},function(g,h,p){var y=g[0],b=g[1],T=g[2],E=mi(b);y===r.userId&&u.path.isEqual(E)?o=o.add(T):p.done()});s.push(d)}),oe.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=gn.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(u),f=new zt(Ke);return aa(t).$t({range:c},function(d,g,h){var p=d[0],y=d[1],b=d[2],T=mi(y);p===r.userId&&o.isPrefixOf(T)?T.length===s&&(f=f.add(b)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(ji(t).get(u).next(function(c){if(c===null)throw be();Re(c.userId===r.userId),o.push(sa(r.R,c))}))}),oe.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return aC(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),oe.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return oe.resolve();var o=IDBKeyRange.lowerBound(gn.prefixForUser(n.userId)),s=[];return aa(t).$t({range:o},function(u,c,f){if(u[0]===n.userId){var d=mi(u[1]);s.push(d)}else f.done()}).next(function(){Re(s.length===0)})})},e.prototype.containsKey=function(t,n){return uC(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return cC(t).get(this.userId).next(function(r){return r||new ro(n.userId,-1,"")})},e}();function uC(e,t,n){var r=gn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return aa(e).$t({range:s,Ft:!0},function(c,f,d){var g=c[0],h=c[1];c[2],g===t&&h===o&&(u=!0),d.done()}).next(function(){return u})}function ji(e){return Gn(e,yt.store)}function aa(e){return Gn(e,gn.store)}function cC(e){return Gn(e,ro.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),G2=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new bh(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Be.fromTimestamp(new Hn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ea(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Re(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return ea(t).$t(function(c,f){var d=Qu(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(o.removeTargetData(t,d)))}).next(function(){return oe.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return ea(t).$t(function(r,o){var s=Qu(o);n(s)})},e.prototype.Xt=function(t){return vE(t).get(Zn.key).next(function(n){return Re(n!==null),n})},e.prototype.Zt=function(t,n){return vE(t).put(Zn.key,n)},e.prototype.te=function(t,n){return ea(t).put(oC(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=tl(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ea(t).$t({range:o,index:qn.queryTargetsIndexName},function(u,c,f){var d=Qu(c);fd(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=Qi(t);return n.forEach(function(c){var f=Dr(c.path);s.push(u.put(new an(r,f))),s.push(o.referenceDelegate.addReference(t,r,c))}),oe.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Qi(t);return oe.forEach(n,function(u){var c=Dr(u.path);return oe.waitFor([s.delete([r,c]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Qi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Qi(t),s=gt();return o.$t({range:r,Ft:!0},function(u,c,f){var d=mi(u[1]),g=new we(d);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Dr(n.path),o=IDBKeyRange.bound([r],[Ik(r)],!1,!0),s=0;return Qi(t).$t({index:an.documentTargetsIndex,Ft:!0,range:o},function(u,c,f){var d=u[0];u[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return ea(t).get(n).next(function(r){return r?Qu(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(e){return Gn(e,qn.store)}function vE(e){return Gn(e,Zn.store)}function Qi(e){return Gn(e,an.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(e){return Z(this,void 0,void 0,function(){return J(this,function(t){if(e.code!==K.FAILED_PRECONDITION||e.message!==eC)throw e;return ae("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=Ke(n,o);return u===0?Ke(r,s):u}var z2=function(){function e(t){this.ne=t,this.buffer=new zt(yE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();yE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Y2=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ae("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return Z(n,void 0,void 0,function(){var o;return J(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ts(o=s.sent())?(ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Es(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),X2=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return oe.resolve(nr.o);var o=new z2(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(gE)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),gE):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,c,f,d,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(p){return p>g.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+p),o=g.params.maximumSequenceNumbersToCollect):o=p,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(p){return r=p,c=Date.now(),g.removeTargets(t,r,n)}).next(function(p){return s=p,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(p){return d=Date.now(),Cv()<=tt.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(c-u)+`ms
	Removed `+s+" targets in "+(f-c)+`ms
	Removed `+p+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:p})})},e}(),Q2=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new X2(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return kf(t,r)},e.prototype.removeReference=function(t,n,r){return kf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return kf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return cC(r).Ot(function(u){return uC(r,u,o).next(function(c){return c&&(s=!0),oe.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(c,f){if(f<=n){var d=r._e(t,c).next(function(g){if(!g)return u++,o.getEntry(t,c).next(function(){return o.removeEntry(c),Qi(t).delete([0,Dr(c.path)])})});s.push(d)}}).next(function(){return oe.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return kf(t,n)},e.prototype.we=function(t,n){var r,o=Qi(t),s=nr.o;return o.$t({index:an.documentTargetsIndex},function(u,c){var f=u[0];u[1];var d=c.path,g=c.sequenceNumber;f===0?(s!==nr.o&&n(new we(mi(r)),s),s=g,r=d):s=nr.o}).next(function(){s!==nr.o&&n(new we(mi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function kf(e,t){return Qi(e).put(function(n,r){return new an(0,Dr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ya=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){ws(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];t(c,f)}})},e.prototype.isEmpty=function(){return Tk(this.inner)},e}(),lC=function(){function e(){this.changes=new Ya(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Be.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:wn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?oe.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),J2=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return zi(t).put(Cf(n),r)},e.prototype.removeEntry=function(t,n){var r=zi(t),o=Cf(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return zi(t).get(Cf(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return zi(t).get(Cf(n)).next(function(o){return{document:r.ye(n,o),size:_h(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Pr();return this.pe(t,n,function(s,u){var c=r.ye(s,u);o=o.insert(s,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Pr(),s=new In(we.comparator);return this.pe(t,n,function(u,c){var f=r.ye(u,c);o=o.insert(u,f),s=s.insert(u,_h(c))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return oe.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return zi(t).$t({range:o},function(c,f,d){for(var g=we.fromSegments(c);u&&we.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?d.Ct(u.path.toArray()):d.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Pr(),u=n.path.length+1,c={};if(r.isEqual(Be.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=m_(r);c.range=IDBKeyRange.lowerBound([d,g],!0),c.index=Ot.collectionReadTimeIndex}return zi(t).$t(c,function(h,p,y){if(h.length===u){var b=Lv(o.R,p);n.path.isPrefixOf(b.key.path)?il(n,b)&&(s=s.insert(b.key,b)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new Z2(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return _E(t).get(Jr.key).next(function(n){return Re(!!n),n})},e.prototype.me=function(t,n){return _E(t).put(Jr.key,n)},e.prototype.ye=function(t,n){if(n){var r=Lv(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Be.min()))return r}return wn.newInvalidDocument(t)},e}(),Z2=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Ya(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Ae(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new zt(function(c,f){return Ke(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var d=r.Ae.get(c);if(f.document.isValidDocument()){var g=hE(r.Ie.R,f.document,r.getReadTime(c));u=u.add(c.path.popLast());var h=_h(g);s+=h-d,o.push(r.Ie.addEntry(n,c,g))}else if(s-=d,r.trackRemovals){var p=hE(r.Ie.R,wn.newNoDocument(c,Be.min()),r.getReadTime(c));o.push(r.Ie.addEntry(n,c,p))}else o.push(r.Ie.removeEntry(n,c))}),u.forEach(function(c){o.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,s)),oe.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(c,f){o.Ae.set(c,f)}),u})},t}(lC);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e){return Gn(e,Jr.store)}function zi(e){return Gn(e,Ot.store)}function Cf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eU=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Re(r<o&&r>=0&&o<=11);var u=new nC("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Jn.store)}(t),function(f){f.createObjectStore(ro.store,{keyPath:ro.keyPath}),f.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(gn.store)}(t),bE(t),function(f){f.createObjectStore(Ot.store)}(t));var c=oe.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(an.store),f.deleteObjectStore(qn.store),f.deleteObjectStore(Zn.store)}(t),bE(t)),c=c.next(function(){return function(f){var d=f.store(Zn.store),g=new Zn(0,0,Be.min().toTimestamp(),0);return d.put(Zn.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(c=c.next(function(){return function(f,d){return d.store(yt.store).Nt().next(function(g){f.deleteObjectStore(yt.store),f.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0});var h=d.store(yt.store),p=g.map(function(y){return h.put(y)});return oe.waitFor(p)})}(t,u)})),c=c.next(function(){(function(f){f.createObjectStore(yi.store,{keyPath:yi.keyPath})})(t)})),r<5&&o>=5&&(c=c.next(function(){return s.Re(u)})),r<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(Jr.store)}(t),s.be(u)})),r<7&&o>=7&&(c=c.next(function(){return s.ve(u)})),r<8&&o>=8&&(c=c.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Ot.store);d.createIndex(Ot.readTimeIndex,Ot.readTimeIndexPath,{unique:!1}),d.createIndex(Ot.collectionReadTimeIndex,Ot.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(c=c.next(function(){return s.Ve(u)})),r<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore(Oa.store,{keyPath:Oa.keyPath})})(t),function(f){f.createObjectStore(xa.store,{keyPath:xa.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(Ot.store).$t(function(r,o){n+=_h(o)}).next(function(){var r=new Jr(n);return t.store(Jr.store).put(Jr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(ro.store),o=t.store(yt.store);return r.Nt().next(function(s){return oe.forEach(s,function(u){var c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(yt.userMutationsIndex,c).next(function(f){return oe.forEach(f,function(d){Re(d.userId===u.userId);var g=sa(n.R,d);return aC(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(an.store),r=t.store(Ot.store);return t.store(Zn.store).get(Zn.key).next(function(o){var s=[];return r.$t(function(u,c){var f=new nt(u),d=function(g){return[0,Dr(g)]}(f);s.push(n.get(d).next(function(g){return g?oe.resolve():function(h){return n.put(new an(0,Dr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return oe.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(rs.store,{keyPath:rs.keyPath});var r=n.store(rs.store),o=new g_,s=function(u){if(o.add(u)){var c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:Dr(f)})}};return n.store(Ot.store).$t({Ft:!0},function(u,c){var f=new nt(u);return s(f.popLast())}).next(function(){return n.store(gn.store).$t({Ft:!0},function(u,c){u[0];var f=u[1];u[2];var d=mi(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(qn.store);return r.$t(function(o,s){var u=Qu(s),c=oC(n.R,u);return r.put(c)})},e}();function bE(e){e.createObjectStore(an.store,{keyPath:an.keyPath}).createIndex(an.documentTargetsIndex,an.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Zn.store)}var xg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tU=function(){function e(t,n,r,o,s,u,c,f,d,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=c,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new te(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Q2(this,o),this.Le=n+"main",this.R=new rC(f),this.Be=new Ra(this.Le,11,new eU(this.R)),this.qe=new G2(this.referenceDelegate,this.R),this.Ut=new K2,this.Ue=function(h,p){return new J2(h,p)}(this.R,this.Ut),this.Ke=new q2,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&$t("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new te(K.FAILED_PRECONDITION,xg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new nr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return Z(n,void 0,void 0,function(){return J(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return Z(n,void 0,void 0,function(){return J(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Nf(n).put(new yi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ts(n))return ae("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return qu(t).get(Jn.key).next(function(r){return oe.resolve(n.tn(r))})},e.prototype.en=function(t){return Nf(t).delete(this.clientId)},e.prototype.nn=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s=this;return J(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=Gn(c,yi.store);return f.Nt().next(function(d){var g=s.rn(d,18e5),h=d.filter(function(p){return g.indexOf(p)===-1});return oe.forEach(h,function(p){return f.delete(p.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?oe.resolve(!0):qu(t).get(Jn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new te(K.FAILED_PRECONDITION,xg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Nf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||c&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ae("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return Z(this,void 0,void 0,function(){var t=this;return J(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jn.store,yi.store],function(r){var o=new fE(r,nr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Nf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return W2.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ae("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,U2,function(c){return s=new fE(c,o.Ne?o.Ne.next():nr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw $t("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new te(K.FAILED_PRECONDITION,eC);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return qu(t).get(Jn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new te(K.FAILED_PRECONDITION,xg)})},e.prototype.Ze=function(t){var n=new Jn(this.clientId,this.allowTabSynchronization,Date.now());return qu(t).put(Jn.key,n)},e.yt=function(){return Ra.yt()},e.prototype.Xe=function(t){var n=this,r=qu(t);return r.get(Jn.key).next(function(o){return n.tn(o)?(ae("IndexedDbPersistence","Releasing primary lease."),r.delete(Jn.key)):oe.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&($t("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),uM()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ae("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return $t("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){$t("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function qu(e){return Gn(e,Jn.store)}function Nf(e){return Gn(e,yi.store)}function v_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fC=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):u_(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new we(n)).next(function(r){var o=Pv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Pv();return this.Ut.getCollectionParents(t,s).next(function(c){return oe.forEach(c,function(f){var d=function(g,h){return new Si(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(g){g.forEach(function(h,p){u=u.insert(h,p)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return o=c,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,u.Rn(t,s,o).next(function(f){o=f;for(var d=0,g=s;d<g.length;d++)for(var h=g[d],p=0,y=h.mutations;p<y.length;p++){var b=y[p],T=b.key,E=o.get(T);E==null&&(E=wn.newInvalidDocument(T),o=o.insert(T,E)),Rv(b,E,h.localWriteTime),E.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(c,f){il(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,r){for(var o=gt(),s=0,u=n;s<u.length;s++)for(var c=0,f=u[s].mutations;c<f.length;c++){var d=f[c];d instanceof po&&r.get(d.key)===null&&(o=o.add(d.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(p,y){y.isFoundDocument()&&(g=g.insert(p,y))}),g})},e}(),nU=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=gt(),o=gt(),s=0,u=n.docChanges;s<u.length;s++){var c=u[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),hC=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Be.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var c=s.Cn(n,u);return(qf(n)||vh(n))&&s.Nn(n.limitType,c,o,r)?s.Dn(t,n):(Cv()<=tt.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xv(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return c.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new zt(Rk(t));return n.forEach(function(o,s){il(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Cv()<=tt.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",xv(n)),this.Sn.getDocumentsMatchingQuery(t,n,Be.min())},e}(),rU=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new In(Ke),this.Fn=new Ya(function(s){return tl(s)},fd),this.$n=Be.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new fC(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(e,t,n,r){return new rU(e,t,n,r)}function pC(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s;return J(this,function(u){switch(u.label){case 0:return n=he(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new fC(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(d){for(var g=[],h=[],p=gt(),y=0,b=f;y<b.length;y++){var T=b[y];g.push(T.batchId);for(var E=0,I=T.mutations;E<I.length;E++){var C=I[E];p=p.add(C.key)}}for(var N=0,k=d;N<k.length;N++){var j=k[N];h.push(j.batchId);for(var M=0,q=j.mutations;M<q.length;M++){var $=q[M];p=p.add($.key)}}return o.pn(c,p).next(function(z){return{Ln:z,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function iU(e,t){var n=he(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,c,f,d){var g=f.batch,h=g.keys(),p=oe.resolve();return h.forEach(function(y){p=p.next(function(){return d.getEntry(c,y)}).next(function(b){var T=f.docVersions.get(y);Re(T!==null),b.version.compareTo(T)<0&&(g.applyToRemoteDocument(b,f),b.isValidDocument()&&d.addEntry(b,f.commitVersion))})}),p.next(function(){return u._n.removeMutationBatch(c,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function mC(e){var t=he(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function oU(e,t){var n=he(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var c=[];t.targetChanges.forEach(function(g,h){var p=o.get(h);if(p){c.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var y=g.resumeToken;if(y.approximateByteSize()>0){var b=p.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,b),function(T,E,I){return Re(E.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,b,g)&&c.push(n.qe.updateTargetData(s,b))}}});var f=Pr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(sU(s,u,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual(Be.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(d)}return oe.waitFor(c).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function sU(e,t,n,r,o){var s=gt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var c=Pr();return n.forEach(function(f,d){var g=u.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(Be.min())?(t.removeEntry(f,h),c=c.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d,h),c=c.insert(f,d)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),c})}function aU(e,t){var n=he(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function wh(e,t){var n=he(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,oe.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new md(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function La(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return J(this,function(c){switch(c.label){case 0:r=he(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Ts(u=c.sent()))throw u;return ae("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Ih(e,t,n){var r=he(e),o=Be.min(),s=gt();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(c,f,d){var g=he(c),h=g.Fn.get(d);return h!==void 0?oe.resolve(g.kn.get(h)):g.qe.getTargetData(f,d)}(r,u,oi(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,c.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:Be.min(),n?s:gt())}).next(function(c){return{documents:c,Bn:s}})})}function gC(e,t){var n=he(e),r=he(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function vC(e){var t=he(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=he(r),c=Pr(),f=m_(s),d=zi(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Ot.readTimeIndex,range:g},function(h,p){var y=Lv(u.R,p);c=c.insert(y.key,y),f=p.readTime}).next(function(){return{wn:c,readTime:iC(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function uU(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){return[2,(t=he(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=zi(o),u=Be.min();return s.$t({index:Ot.readTimeIndex,reverse:!0},function(c,f,d){f.readTime&&(u=iC(f.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cU=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return oe.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ln(r.createTime)}),oe.resolve()},e.prototype.getNamedQuery=function(t,n){return oe.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:sC(r.bundledQuery),readTime:Ln(r.readTime)}}(n)),oe.resolve()},e}(),y_=function(){function e(){this.Wn=new zt(Xt.Gn),this.zn=new zt(Xt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Xt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Xt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new we(new nt([])),o=new Xt(r,t),s=new Xt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(c){n.Yn(c),u.push(c.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new we(new nt([])),r=new Xt(n,t),o=new Xt(n,t+1),s=gt();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new Xt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Xt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return we.comparator(t.key,n.key)||Ke(t.ns,n.ns)},e.Hn=function(t,n){return Ke(t.ns,n.ns)||we.comparator(t.key,n.key)},e}(),lU=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new zt(Xt.Gn)}return e.prototype.checkEmpty=function(t){return oe.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new p_(s,n,r,o);this._n.push(u);for(var c=0,f=o;c<f.length;c++){var d=f[c];this.rs=this.rs.add(new Xt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return oe.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return oe.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return oe.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return oe.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return oe.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(c){var f=r.os(c.ns);u.push(f)}),oe.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new zt(Ke);return n.forEach(function(s){var u=new Xt(s,0),c=new Xt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,c],function(f){o=o.add(f.ns)})}),oe.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;we.isDocumentKey(s)||(s=s.child(""));var u=new Xt(new we(s),0),c=new zt(Ke);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(c=c.add(f.ns)),!0)},u),oe.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Re(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return oe.forEach(n.mutations,function(s){var u=new Xt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Xt(n,0),o=this.rs.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,oe.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),fU=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new In(we.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:r}),this.size+=c-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return oe.resolve(r?r.document.clone():wn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Pr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():wn.newInvalidDocument(s))}),oe.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Pr(),s=new we(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),f=c.key,d=c.value,g=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||il(n,g)&&(o=o.insert(g.key,g.clone()))}return oe.resolve(o)},e.prototype.fs=function(t,n){return oe.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new hU(this)},e.prototype.getSize=function(t){return oe.resolve(this.size)},e}(),hU=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Ae(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),oe.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(lC),dU=function(){function e(t){this.persistence=t,this.ds=new Ya(function(n){return tl(n)},fd),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ws=0,this._s=new y_,this.targetCount=0,this.ys=bh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),oe.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return oe.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return oe.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),oe.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),oe.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new bh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,oe.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),oe.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,oe.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(c),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),oe.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return oe.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return oe.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),oe.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),oe.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),oe.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return oe.resolve(r)},e.prototype.containsKey=function(t,n){return oe.resolve(this._s.containsKey(n))},e}(),pU=function(){function e(t,n){var r=this;this.gs={},this.Ne=new nr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new dU(this),this.Ut=new H2,this.Ue=function(o,s){return new fU(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new rC(n),this.Ke=new cU(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new lU(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ae("MemoryPersistence","Starting transaction:",t);var s=new mU(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return oe.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),mU=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Ae(t,e),t}(tC),gU=function(){function e(t){this.persistence=t,this.As=new y_,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw be()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),oe.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),oe.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),oe.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.vs,function(o){var s=we.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return oe.or([function(){return oe.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),on=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e,t){return"firestore_clients_"+e+"_"+t}function IE(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Rg(e,t){return"firestore_targets_"+e+"_"+t}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var TE=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new te(s.error.code,s.error.message)),u?new e(t,n,s.state,o):($t("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Pg=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new te(o.error.code,o.error.message)),s?new e(t,o.state,r):($t("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),EE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=pd(),u=0;o&&u<r.activeTargetIds.length;++u)o=Ak(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):($t("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),vU=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):($t("SharedClientState","Failed to parse online state: "+t),null)},e}(),Fv=function(){function e(){this.activeTargetIds=pd()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Dg=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new In(Ke),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=wE(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Fv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s,u,c,f,d,g,h,p=this;return J(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(wE(this.persistenceKey,o)))&&(u=EE.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)h=g[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return p.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Rg(this.persistenceKey,t));if(r){var o=Pg.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Rg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ae("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ae("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ae("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ae("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void $t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Z(n,void 0,void 0,function(){var o,s,u,c,f,d;return J(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var p=nr.o;if(h!=null)try{var y=JSON.parse(h);Re(typeof y=="number"),p=y}catch(b){$t("SharedClientState","Failed to read sequence number from WebStorage",b)}return p}(r.newValue))!==nr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new TE(this.currentUser,t,n,r),s=IE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=IE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=Rg(this.persistenceKey,t),s=new Pg(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return EE.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return TE.Vs(new on(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return Pg.Vs(o,n)},e.prototype.js=function(t){return vU.Vs(t)},e.prototype.ii=function(t){return Z(this,void 0,void 0,function(){return J(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ae("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),c=[],f=[];return u.forEach(function(d){s.has(d)||c.push(d)}),s.forEach(function(d){u.has(d)||f.push(d)}),this.syncEngine.hi(c,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=pd();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),yC=function(){function e(){this.li=new Fv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Fv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),yU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),SE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),_U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),wU=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Ae(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,c){var f=new JV;f.listenOnce(YV.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Og.NO_ERROR:var g=f.getResponseJson();ae("Connection","XHR received:",JSON.stringify(g)),u(g);break;case Og.TIMEOUT:ae("Connection",'RPC "'+n+'" timed out'),c(new te(K.DEADLINE_EXCEEDED,"Request time out"));break;case Og.HTTP_ERROR:var h=f.getStatus();if(ae("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var p=f.getResponseJson().error;if(p&&p.status&&p.message){var y=function(b){var T=b.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(T)>=0?T:K.UNKNOWN}(p.status);c(new te(y,p.message))}else c(new te(K.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new te(K.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ae("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=GV(),u=zV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new QV({})),this.ki(c.initMessageHeaders,r),tM()||iM()||oM()||sM()||aM()||rM()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ae("Connection","Creating WebChannel: "+f,c);var d=s.createWebChannel(f,c),g=!1,h=!1,p=new bU({Ei:function(b){h?ae("Connection","Not sending because WebChannel is closed:",b):(g||(ae("Connection","Opening WebChannel transport."),d.open(),g=!0),ae("Connection","WebChannel sending:",b),d.send(b))},Ti:function(){return d.close()}}),y=function(b,T,E){b.listen(T,function(I){try{E(I)}catch(C){setTimeout(function(){throw C},0)}})};return y(d,Sf.EventType.OPEN,function(){h||ae("Connection","WebChannel transport opened.")}),y(d,Sf.EventType.CLOSE,function(){h||(h=!0,ae("Connection","WebChannel transport closed"),p.Vi())}),y(d,Sf.EventType.ERROR,function(b){h||(h=!0,hh("Connection","WebChannel transport errored:",b),p.Vi(new te(K.UNAVAILABLE,"The operation could not be completed")))}),y(d,Sf.EventType.MESSAGE,function(b){var T;if(!h){var E=b.data[0];Re(!!E);var I=E,C=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(C){ae("Connection","WebChannel received error:",C);var N=C.status,k=function(M){var q=Ut[M];if(q!==void 0)return $k(q)}(N),j=C.message;k===void 0&&(k=K.INTERNAL,j="Unknown error status: "+N+" with message "+C.message),h=!0,p.Vi(new te(k,j)),d.close()}else ae("Connection","WebChannel received:",E),p.Si(E)}}),y(u,XV.STAT_EVENT,function(b){b.stat===$T.PROXY?ae("Connection","Detected buffering proxy"):b.stat===$T.NOPROXY&&ae("Connection","Detected no buffering proxy")}),setTimeout(function(){p.Pi()},0),p},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ae("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(c){return ae("RestConnection","Received: ",c),c},function(c){throw hh("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=_U[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof window<"u"?window:null}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(e){return new k2(e,!0)}var __=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ae("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),bC=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new __(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return Z(this,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===K.RESOURCE_EXHAUSTED?($t(n.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===K.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new te(K.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Z(t,void 0,void 0,function(){return J(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ae("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),IU=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,c}return Ae(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var c;if("targetChange"in u){u.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:be()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],g=function(E,I){return E.I?(Re(I===void 0||typeof I=="string"),Kn.fromBase64String(I||"")):(Re(I===void 0||I instanceof Uint8Array),Kn.fromUint8Array(I||new Uint8Array))}(s,u.targetChange.resumeToken),h=(p=u.targetChange.cause)&&function(E){var I=E.code===void 0?K.UNKNOWN:$k(E.code);return new te(I,E.message||"")}(p);c=new Hk(f,d,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,d=vi(s,f.document.name),g=Ln(f.document.updateTime);var p=new tr({mapValue:{fields:f.document.fields}}),y=(h=wn.newFoundDocument(d,g,p),f.targetIds||[]),b=f.removedTargetIds||[];c=new Kf(y,b,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,d=vi(s,f.document),g=f.readTime?Ln(f.readTime):Be.min(),p=wn.newNoDocument(d,g),h=f.removedTargetIds||[],c=new Kf([],h,p.key,p);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,d=vi(s,f.document),g=f.removedTargetIds||[],c=new Kf([],g,d,null);else{if(!("filter"in u))return be();u.filter;var T=u.filter;T.targetId,f=T.count||0,d=new v2(f),g=T.targetId,c=new qk(g,d)}return c}(this.R,n),o=function(s){if(!("targetChange"in s))return Be.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?Ln(u.readTime):Be.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=Pc(this.R),r.addTarget=function(s,u){var c,f=u.target;return(c=mh(f)?{documents:Yk(s,f)}:{query:Xk(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=Kk(s,u.resumeToken):u.snapshotVersion.compareTo(Be.min())>0&&(c.readTime=xc(s,u.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(s,u){var c=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,u.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Pc(this.R),r.removeTarget=n,this.cr(r)},t}(bC),TU=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,c.gr=!1,c}return Ae(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Re(u!==void 0),s.map(function(c){return function(f,d){var g=f.updateTime?Ln(f.updateTime):Ln(d);return g.isEqual(Be.min())&&(g=Ln(d)),new p2(g,f.transformResults||[])}(c,u)})):[]}(n.writeResults,n.commitTime),o=Ln(n.commitTime);return this.listener.Tr(o,r)}return Re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Pc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return yh(r.R,s)})};this.cr(o)},t}(bC),EU=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Ae(t,e),t.prototype.br=function(){if(this.Rr)throw new te(K.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new te(K.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new te(K.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),SU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?($t(n),this.Vr=!1):ae("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),AU=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return Z(s,void 0,void 0,function(){return J(this,function(c){switch(c.label){case 0:return mo(this)?(ae("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return Z(this,void 0,void 0,function(){var d;return J(this,function(g){switch(g.label){case 0:return(d=he(f)).Or.add(4),[4,Xa(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,ul(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new SU(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:if(!mo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Xa(e){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function vd(e,t){var n=he(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),I_(n)?w_(n):Ja(n).er()&&b_(n,t))}function Dc(e,t){var n=he(e),r=Ja(n);n.$r.delete(t),r.er()&&wC(n,t),n.$r.size===0&&(r.er()?r.ir():mo(n)&&n.Br.set("Unknown"))}function b_(e,t){e.qr.U(t.targetId),Ja(e).mr(t)}function wC(e,t){e.qr.U(t),Ja(e).yr(t)}function w_(e){e.qr=new E2({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ja(e).start(),e.Br.Sr()}function I_(e){return mo(e)&&!Ja(e).tr()&&e.$r.size>0}function mo(e){return he(e).Or.size===0}function IC(e){e.qr=void 0}function kU(e){return Z(this,void 0,void 0,function(){return J(this,function(t){return e.$r.forEach(function(n,r){b_(e,n)}),[2]})})}function CU(e,t){return Z(this,void 0,void 0,function(){return J(this,function(n){return IC(e),I_(e)?(e.Br.Nr(t),w_(e)):e.Br.set("Unknown"),[2]})})}function NU(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s;return J(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof Hk&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(c,f){return Z(this,void 0,void 0,function(){var d,g,h,p;return J(this,function(y){switch(y.label){case 0:d=f.cause,g=0,h=f.targetIds,y.label=1;case 1:return g<h.length?(p=h[g],c.$r.has(p)?[4,c.remoteSyncer.rejectListen(p,d)]:[3,3]):[3,5];case 2:y.sent(),c.$r.delete(p),c.qr.removeTarget(p),y.label=3;case 3:y.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),ae("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Th(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Kf?e.qr.X(t):t instanceof qk?e.qr.rt(t):e.qr.et(t),n.isEqual(Be.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,mC(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(c,f){var d=c.qr.ut(f);return d.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var p=c.$r.get(h);p&&c.$r.set(h,p.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var h=c.$r.get(g);if(h){c.$r.set(g,h.withResumeToken(Kn.EMPTY_BYTE_STRING,h.snapshotVersion)),wC(c,g);var p=new md(h.target,g,1,h.sequenceNumber);b_(c,p)}}),c.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ae("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Th(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Th(e,t,n){return Z(this,void 0,void 0,function(){var r=this;return J(this,function(o){switch(o.label){case 0:if(!Ts(t))throw t;return e.Or.add(1),[4,Xa(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return mC(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return J(this,function(s){switch(s.label){case 0:return ae("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,ul(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function TC(e,t){return t().catch(function(n){return Th(e,n,t)})}function Qa(e){return Z(this,void 0,void 0,function(){var t,n,r,o,s;return J(this,function(u){switch(u.label){case 0:t=he(e),n=lo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(c){return mo(c)&&c.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,aU(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(c,f){c.Fr.push(f);var d=lo(c);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Th(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return EC(t)&&SC(t),[2]}})})}function EC(e){return mo(e)&&!lo(e).tr()&&e.Fr.length>0}function SC(e){lo(e).start()}function OU(e){return Z(this,void 0,void 0,function(){return J(this,function(t){return lo(e).Ar(),[2]})})}function xU(e){return Z(this,void 0,void 0,function(){var t,n,r,o;return J(this,function(s){for(t=lo(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function RU(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=$2.from(r,t,n),[4,TC(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Qa(e)];case 2:return s.sent(),[2]}})})}function PU(e,t){return Z(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return t&&lo(e).pr?[4,function(r,o){return Z(this,void 0,void 0,function(){var s,u;return J(this,function(c){switch(c.label){case 0:return Bk(u=o.code)&&u!==K.ABORTED?(s=r.Fr.shift(),lo(r).sr(),[4,TC(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return c.sent(),[4,Qa(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return EC(e)&&SC(e),[2]}})})}function Mv(e,t){return Z(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return n=he(e),t?(n.Or.delete(2),[4,ul(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Xa(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ja(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=he(n);return s.br(),new IU(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:kU.bind(null,e),Ri:CU.bind(null,e),_r:NU.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),I_(e)?w_(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),IC(e),r.label=3;case 3:return[2]}})})})),e.Ur}function lo(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=he(n);return s.br(),new TU(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:OU.bind(null,e),Ri:PU.bind(null,e),Ir:xU.bind(null,e),Tr:RU.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Qa(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ae("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var DU=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Za(e,t){if($t("AsyncQueue",t+": "+e),Ts(e))return new te(K.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AC=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||we.comparator(n.key,r.key)}:function(n,r){return we.comparator(n.key,r.key)},this.keyedMap=Pv(),this.sortedSet=new In(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),AE=function(){function e(){this.Qr=new In(we.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):be():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Eh=function(){function e(t,n,r,o,s,u,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,AC.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),LU=function(){this.Wr=void 0,this.listeners=[]},FU=function(){this.queries=new Ya(function(e){return xk(e)},rl),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,c,f;return J(this,function(d){switch(d.label){case 0:if(n=he(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new LU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=d.sent(),[3,4];case 3:return c=d.sent(),f=Za(c,"Initialization of query '"+xv(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&S_(n),[2]}})})}function E_(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u;return J(this,function(c){return n=he(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function MU(e,t){for(var n=he(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],c=u.query,f=n.queries.get(c);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(u)&&(r=!0);f.Wr=u}}r&&S_(n)}function VU(e,t,n){var r=he(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function S_(e){e.Gr.forEach(function(t){t.next()})}var A_=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Eh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Eh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kC=function(e){this.key=e},CC=function(e){this.key=e},NC=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=gt(),this.mutatedKeys=gt(),this.lo=Rk(t),this.fo=new AC(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new AE,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1,d=qf(this.query)&&s.size===this.query.limit?s.last():null,g=vh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(p,y){var b=s.get(p),T=il(r.query,y)?y:null,E=!!b&&r.mutatedKeys.has(b.key),I=!!T&&(T.hasLocalMutations||r.mutatedKeys.has(T.key)&&T.hasCommittedMutations),C=!1;b&&T?b.data.isEqual(T.data)?E!==I&&(o.track({type:3,doc:T}),C=!0):r.yo(b,T)||(o.track({type:2,doc:T}),C=!0,(d&&r.lo(T,d)>0||g&&r.lo(T,g)<0)&&(f=!0)):!b&&T?(o.track({type:0,doc:T}),C=!0):b&&!T&&(o.track({type:1,doc:b}),C=!0,(d||g)&&(f=!0)),C&&(T?(c=c.add(T),u=I?u.add(p):u.delete(p)):(c=c.delete(p),u=u.delete(p)))}),qf(this.query)||vh(this.query))for(;c.size>this.query.limit;){var h=qf(this.query)?c.last():c.first();c=c.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:c,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(p,y){var b=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return b(p)-b(y)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,u.length!==0||d?{snapshot:new Eh(this.query,t.fo,s,u,t.mutatedKeys,f===0,d,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new AE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=gt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new CC(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new kC(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=gt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Eh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),UU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},jU=function(e){this.key=e,this.bo=!1},BU=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ya(function(c){return xk(c)},rl),this.Vo=new Map,this.So=new Set,this.Do=new In(we.comparator),this.Co=new Map,this.No=new y_,this.xo={},this.ko=new Map,this.Fo=bh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function $U(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,c;return J(this,function(f){switch(f.label){case 0:return n=x_(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,wh(n.localStore,oi(t))];case 2:return u=f.sent(),c=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,k_(n,t,r,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&vd(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function k_(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,u,c,f,d;return J(this,function(g){switch(g.label){case 0:return e.Oo=function(h,p,y){return function(b,T,E,I){return Z(this,void 0,void 0,function(){var C,N,k;return J(this,function(j){switch(j.label){case 0:return C=T.view._o(E),C.Nn?[4,Ih(b.localStore,T.query,!1).then(function(M){var q=M.documents;return T.view._o(q,C)})]:[3,2];case 1:C=j.sent(),j.label=2;case 2:return N=I&&I.targetChanges.get(T.targetId),k=T.view.applyChanges(C,b.isPrimaryClient,N),[2,(Vv(b,T.targetId,k.To),k.snapshot)]}})})}(e,h,p,y)},[4,Ih(e.localStore,t,!0)];case 1:return o=g.sent(),s=new NC(t,o.Bn),u=s._o(o.documents),c=f_.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,c),Vv(e,n,f.To),d=new UU(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function qU(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:return n=he(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!rl(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,La(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Dc(n.remoteStore,r.targetId),Fa(n,r.targetId)}).catch(Es)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Fa(n,r.targetId),[4,La(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function HU(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return J(this,function(c){switch(c.label){case 0:r=R_(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,d){var g,h=he(f),p=Hn.now(),y=d.reduce(function(b,T){return b.add(T.key)},gt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(b){return h.Mn.pn(b,y).next(function(T){g=T;for(var E=[],I=0,C=d;I<C.length;I++){var N=C[I],k=g2(N,g.get(N.key));k!=null&&E.push(new po(N.key,k,kk(k.value.mapValue),yn.exists(!0)))}return h._n.addMutationBatch(b,p,E,d)})}).then(function(b){return b.applyToLocalDocumentSet(g),{batchId:b.batchId,changes:g}})}(r.localStore,t)];case 2:return o=c.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var h=f.xo[f.currentUser.toKey()];h||(h=new In(Ke)),h=h.insert(d,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,go(r,o.changes)];case 3:return c.sent(),[4,Qa(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),u=Za(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function OC(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:n=he(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,oU(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var c=n.Co.get(u);c&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?Re(c.bo):s.removedDocuments.size>0&&(Re(c.bo),c.bo=!1))}),[4,go(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,Es(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function kE(e,t,n){var r=he(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var c=u.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(s,u){var c=he(s);c.onlineState=u;var f=!1;c.queries.forEach(function(d,g){for(var h=0,p=g.listeners;h<p.length;h++)p[h].zr(u)&&(f=!0)}),f&&S_(c)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function KU(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,c,f;return J(this,function(d){switch(d.label){case 0:return(r=he(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new In(we.comparator)).insert(s,wn.newNoDocument(s,Be.min())),c=gt().add(s),f=new l_(Be.min(),new Map,new zt(Ke),u,c),[4,OC(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),O_(r),[3,4];case 2:return[4,La(r.localStore,t,!1).then(function(){return Fa(r,t,n)}).catch(Es)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function WU(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:n=he(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,iU(n.localStore,t)];case 2:return o=s.sent(),N_(n,r,null),C_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,go(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Es(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function GU(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:r=he(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,c){var f=he(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,c).next(function(h){return Re(h!==null),g=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(r.localStore,t)];case 2:return o=s.sent(),N_(r,t,n),C_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,go(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,Es(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function zU(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u;return J(this,function(c){switch(c.label){case 0:mo((n=he(e)).remoteStore)||ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var d=he(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=c.sent(),u=Za(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function C_(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function N_(e,t,n){var r=he(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function Fa(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||xC(e,u)})}function xC(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Dc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),O_(e))}function Vv(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof kC?(e.No.addReference(s.key,t),YU(e,s)):s instanceof CC?(ae("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||xC(e,s.key)):be()}}function YU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ae("SyncEngine","New document in limbo: "+n),e.So.add(r),O_(e))}function O_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new we(nt.fromString(t)),r=e.Fo.next();e.Co.set(r,new jU(n)),e.Do=e.Do.insert(n,r),vd(e.remoteStore,new md(oi(nl(n.path)),r,2,nr.o))}}function go(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return J(this,function(c){switch(c.label){case 0:return r=he(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){u.push(r.Oo(d,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=nU.Pn(d.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(o),[4,function(f,d){return Z(this,void 0,void 0,function(){var g,h,p,y,b,T,E,I,C;return J(this,function(N){switch(N.label){case 0:g=he(f),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return oe.forEach(d,function(j){return oe.forEach(j.bn,function(M){return g.persistence.referenceDelegate.addReference(k,j.targetId,M)}).next(function(){return oe.forEach(j.vn,function(M){return g.persistence.referenceDelegate.removeReference(k,j.targetId,M)})})})})];case 2:return N.sent(),[3,4];case 3:if(!Ts(h=N.sent()))throw h;return ae("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(p=0,y=d;p<y.length;p++)b=y[p],T=b.targetId,b.fromCache||(E=g.kn.get(T),I=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(I),g.kn=g.kn.insert(T,C));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function XU(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:return(n=he(e)).currentUser.isEqual(t)?[3,3]:(ae("SyncEngine","User change. New user:",t.toKey()),[4,pC(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(c){c.forEach(function(f){f.reject(new te(K.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,go(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function QU(e,t){var n=he(e),r=n.Co.get(t);if(r&&r.bo)return gt().add(r.key);var o=gt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,c=s;u<c.length;u++){var f=c[u],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function JU(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:return[4,Ih((n=he(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&Vv(n,t.targetId,o.To),o)]}})})}function ZU(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){return[2,vC((t=he(e)).localStore).then(function(r){return go(t,r)})]})})}function ej(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s;return J(this,function(u){switch(u.label){case 0:return[4,function(c,f){var d=he(c),g=he(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(p){return p?d.Mn.pn(h,p):oe.resolve(null)})})}((o=he(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Qa(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(N_(o,t,r||null),C_(o,t),function(c,f){he(he(c)._n).Gt(f)}(o.localStore,t)):be(),u.label=4;case 4:return[4,go(o,s)];case 5:return u.sent(),[3,7];case 6:ae("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function tj(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,c,f,d;return J(this,function(g){switch(g.label){case 0:return x_(n=he(e)),R_(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,CE(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Mv(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)c=u[s],vd(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,p){n.sharedClientState.isLocalQueryTarget(p)?f.push(p):d=d.then(function(){return Fa(n,p),La(n.localStore,p,!0)}),Dc(n.remoteStore,p)}),[4,d]);case 4:return g.sent(),[4,CE(n,f)];case 5:return g.sent(),function(h){var p=he(h);p.Co.forEach(function(y,b){Dc(p.remoteStore,b)}),p.No.ts(),p.Co=new Map,p.Do=new In(we.comparator)}(n),n.$o=!1,[4,Mv(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function CE(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p,y,b,T,E;return J(this,function(I){switch(I.label){case 0:r=he(e),o=[],s=[],u=0,c=t,I.label=1;case 1:return u<c.length?(f=c[u],d=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,wh(r.localStore,oi(g[0]))]:[3,7]):[3,13];case 2:d=I.sent(),h=0,p=g,I.label=3;case 3:return h<p.length?(y=p[h],b=r.Po.get(y),[4,JU(r,b)]):[3,6];case 4:(T=I.sent()).snapshot&&s.push(T.snapshot),I.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,gC(r.localStore,f)];case 8:return E=I.sent(),[4,wh(r.localStore,E)];case 9:return d=I.sent(),[4,k_(r,RC(E),f,!1)];case 10:I.sent(),I.label=11;case 11:o.push(d),I.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function RC(e){return Nk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nj(e){var t=he(e);return he(he(t.localStore).persistence).fn()}function rj(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,u;return J(this,function(c){switch(c.label){case 0:return(o=he(e)).$o?(ae("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vC(o.localStore)];case 3:return s=c.sent(),u=l_.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,go(o,s,u)];case 4:return c.sent(),[3,8];case 5:return[4,La(o.localStore,t,!0)];case 6:return c.sent(),Fa(o,t,r),[3,8];case 7:be(),c.label=8;case 8:return[2]}})})}function ij(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p;return J(this,function(y){switch(y.label){case 0:if(!(r=x_(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(ae("SyncEngine","Adding an already active target "+u),[3,5]):[4,gC(r.localStore,u)]):[3,6];case 2:return c=y.sent(),[4,wh(r.localStore,c)];case 3:return f=y.sent(),[4,k_(r,RC(c),f.targetId,!1)];case 4:y.sent(),vd(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:d=function(b){return J(this,function(T){switch(T.label){case 0:return r.Vo.has(b)?[4,La(r.localStore,b,!1).then(function(){Dc(r.remoteStore,b),Fa(r,b)}).catch(Es)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},g=0,h=n,y.label=7;case 7:return g<h.length?(p=h[g],[5,d(p)]):[3,10];case 8:y.sent(),y.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function x_(e){var t=he(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=OC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KU.bind(null,t),t.vo._r=MU.bind(null,t.eventManager),t.vo.Mo=VU.bind(null,t.eventManager),t}function R_(e){var t=he(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GU.bind(null,t),t}var PC=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return Z(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return this.R=gd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return dC(this.persistence,new hC,t.initialUser,this.R)},e.prototype.qo=function(t){return new pU(gU.bs,this.R)},e.prototype.Bo=function(t){return new yC},e.prototype.terminate=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),DC=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Ae(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r=this;return J(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,uU(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,R_(this.Qo.syncEngine)];case 4:return o.sent(),[4,Qa(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return dC(this.persistence,new hC,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new Y2(r,n.asyncQueue)},t.prototype.qo=function(n){var r=v_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new tU(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,_C(),Wf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new yC},t}(PC),oj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Ae(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r,o=this;return J(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Dg?(this.sharedClientState.syncEngine={ui:ej.bind(null,r),ai:rj.bind(null,r),hi:ij.bind(null,r),fn:nj.bind(null,r),ci:ZU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return Z(o,void 0,void 0,function(){return J(this,function(c){switch(c.label){case 0:return[4,tj(this.Qo.syncEngine,u)];case 1:return c.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=_C();if(!Dg.yt(r))throw new te(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=v_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Dg(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(DC),Uv=function(){function e(){}return e.prototype.initialize=function(t,n){return Z(this,void 0,void 0,function(){var r=this;return J(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return kE(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=XU.bind(null,this.syncEngine),[4,Mv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new FU},e.prototype.createDatastore=function(t){var n,r=gd(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new wU(n));return function(s,u,c){return new EU(s,u,c)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,c=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return kE(c.syncEngine,f,0)},u=SE.yt()?new SE:new yU,new AU(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,c,f,d){var g=new BU(r,o,s,u,c,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return Z(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return n=he(t),ae("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Xa(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),sj=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return J(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new te(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return Z(this,void 0,void 0,function(){var c,f,d,g,h,p;return J(this,function(y){switch(y.label){case 0:return c=he(s),f=Pc(c.R)+"/documents",d={documents:u.map(function(b){return Rc(c.R,b)})},[4,c.$i("BatchGetDocuments",f,d)];case 1:return g=y.sent(),h=new Map,g.forEach(function(b){var T=function(E,I){return"found"in I?function(C,N){Re(!!N.found),N.found.name,N.found.updateTime;var k=vi(C,N.found.name),j=Ln(N.found.updateTime),M=new tr({mapValue:{fields:N.found.fields}});return wn.newFoundDocument(k,j,M)}(E,I):"missing"in I?function(C,N){Re(!!N.missing),Re(!!N.readTime);var k=vi(C,N.missing),j=Ln(N.readTime);return wn.newNoDocument(k,j)}(E,I):be()}(c.R,b);h.set(T.key.toString(),T)}),p=[],[2,(u.forEach(function(b){var T=h.get(b.toString());Re(!!T),p.push(T)}),p)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new al(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return Z(this,void 0,void 0,function(){var t,n=this;return J(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=we.fromPath(s);n.mutations.push(new c_(u,n.precondition(u)))}),[4,function(o,s){return Z(this,void 0,void 0,function(){var u,c,f;return J(this,function(d){switch(d.label){case 0:return u=he(o),c=Pc(u.R)+"/documents",f={writes:s.map(function(g){return yh(u.R,g)})},[4,u.Ni("Commit",c,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw be();n=Be.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new te(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?yn.updateTime(n):yn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Be.min()))throw new te(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(n)}return yn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),aj=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new __(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Z(t,void 0,void 0,function(){var n,r,o=this;return J(this,function(s){return n=new sj(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(c){o.ic(c)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Is(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!Bk(n)}return!1},e}(),uj=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=wk.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return Z(o,void 0,void 0,function(){return J(this,function(u){switch(u.label){case 0:return ae("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new te(K.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Z(t,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Za(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(e,t){return Z(this,void 0,void 0,function(){var n,r,o=this;return J(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return Z(o,void 0,void 0,function(){return J(this,function(c){switch(c.label){case 0:return r.isEqual(u)?[3,2]:[4,pC(t.localStore,u)];case 1:c.sent(),r=u,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function FC(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,P_(e)];case 1:return n=o.sent(),ae("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,c){return Z(this,void 0,void 0,function(){var f,d;return J(this,function(g){switch(g.label){case 0:return(f=he(u)).asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials"),d=mo(f),f.Or.add(3),[4,Xa(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return g.sent(),f.Or.delete(3),[4,ul(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function P_(e){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ae("FirestoreClient","Using default OfflineComponentProvider"),[4,LC(e,new PC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function _d(e){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ae("FirestoreClient","Using default OnlineComponentProvider"),[4,FC(e,new Uv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function NE(e){return P_(e).then(function(t){return t.persistence})}function MC(e){return P_(e).then(function(t){return t.localStore})}function OE(e){return _d(e).then(function(t){return t.remoteStore})}function VC(e){return _d(e).then(function(t){return t.syncEngine})}function Ma(e){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:return[4,_d(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=$U.bind(null,t.syncEngine),n.onUnlisten=qU.bind(null,t.syncEngine),n)]}})})}function xE(e,t,n){var r=this;n===void 0&&(n={});var o=new Wn;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new yd({next:function(b){f.enqueueAndForget(function(){return E_(c,y)});var T=b.docs.has(d);!T&&b.fromCache?h.reject(new te(K.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&g&&g.source==="server"?h.reject(new te(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:function(b){return h.reject(b)}}),y=new A_(nl(d.path),p,{includeMetadataChanges:!0,so:!0});return T_(c,y)},[4,Ma(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function RE(e,t,n){var r=this;n===void 0&&(n={});var o=new Wn;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new yd({next:function(b){f.enqueueAndForget(function(){return E_(c,y)}),b.fromCache&&g.source==="server"?h.reject(new te(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:function(b){return h.reject(b)}}),y=new A_(d,p,{includeMetadataChanges:!0,so:!0});return T_(c,y)},[4,Ma(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var cj=function(e,t,n,r,o,s,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=c},Sh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),PE=new Map,UC=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},DE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(on.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),lj=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fj=function(){function e(t){var n=this;this.currentUser=on.UNAUTHENTICATED,this.oc=new Wn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ae("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ae("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ae("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Re(typeof o.accessToken=="string"),new UC(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return J(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string"),new on(t)},e}(),hj=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=on.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),dj=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new hj(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(on.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e,t,n){if(!n)throw new te(K.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function L_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new te(K.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function jC(e,t,n,r){if(t===!0&&r===!0)throw new te(K.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function LE(e){if(!we.isDocumentKey(e))throw new te(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function FE(e){if(we.isDocumentKey(e))throw new te(K.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function bd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":be()}function it(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new te(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bd(e);throw new te(K.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function ME(e,t){if(t<=0)throw new te(K.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new te(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new te(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Lc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,t instanceof Sh?(this._databaseId=t,this._credentials=new DE):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new te(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(r.options.projectId)}(t),this._credentials=new fj(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new te(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new te(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new DE;switch(n.type){case"gapi":var r=n.client;return Re(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new dj(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new te(K.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=PE.get(t))&&(ae("ComponentProvider","Removing Datastore"),PE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),kt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new io(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),or=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),io=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,nl(o))||this)._path=o,s.type="collection",s}return Ae(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new kt(this.firestore,null,new we(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=lt(e),D_("collection","path",t),e instanceof Lc)return FE(n=nt.fromString.apply(nt,Tt([t],r))),new io(e,null,n);if(!(e instanceof kt||e instanceof io))throw new te(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return FE(n=nt.fromString.apply(nt,Tt([e.path],r)).child(nt.fromString(t))),new io(e.firestore,null,n)}function Gf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=lt(e),arguments.length===1&&(t=wk.u()),D_("doc","path",t),e instanceof Lc)return LE(n=nt.fromString.apply(nt,Tt([t],r))),new kt(e,null,new we(n));if(!(e instanceof kt||e instanceof io))throw new te(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return LE(n=e._path.child(nt.fromString.apply(nt,Tt([t],r)))),new kt(e.firestore,e instanceof io?e.converter:null,new we(n))}function $C(e,t){return e=lt(e),t=lt(t),(e instanceof kt||e instanceof io)&&(t instanceof kt||t instanceof io)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function qC(e,t){return e=lt(e),t=lt(t),e instanceof or&&t instanceof or&&e.firestore===t.firestore&&rl(e._query,t._query)&&e.converter===t.converter}var pj=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new __(this,"async_queue_retry"),this.Ic=function(){var r=Wf();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Wn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return Z(this,void 0,void 0,function(){var t,n=this;return J(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ts(t=r.sent()))throw t;return ae("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,$t("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=DU.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&be()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,c){return u.targetTimeMs-c.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Va(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var mj=-1,Gt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new pj,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ae(t,e),t.prototype._terminate=function(){return this._firestoreClient||HC(this),this._firestoreClient.terminate()},t}(Lc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e){return e._firestoreClient||HC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HC(e){var t,n=e._freezeSettings(),r=function(o,s,u,c){return new cj(o,s,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uj(e._credentials,e._queue,r)}function UE(e,t,n){var r=this,o=new Wn;return e.asyncQueue.enqueue(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,LC(e,n)];case 1:return u.sent(),[4,FC(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===K.FAILED_PRECONDITION||c.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function jE(e){if(e._initialized||e._terminated)throw new te(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new te(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ms=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Kn.fromBase64String(t))}catch(n){throw new te(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Kn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ss=function(e){this._methodName=e},wd=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new te(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new te(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ke(this._lat,t._lat)||Ke(this._long,t._long)},e}(),gj=/^__.*__$/,vj=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new po(t,this.data,this.fieldMask,n,this.fieldTransforms):new sl(t,this.data,n,this.fieldTransforms)},e}(),KC=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new po(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}var GC=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Ah(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(WC(this.Nc)&&gj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),yj=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||gd(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new GC({Nc:t,methodName:n,qc:r,path:Lr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function As(e){var t=e._freezeSettings(),n=gd(e._databaseId);return new yj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Id(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);U_("Data must be an object, but it was:",u,r);var c,f,d=XC(r,u);if(s.merge)c=new Ea(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,p=s.mergeFields;h<p.length;h++){var y=jv(t,p[h],n);if(!u.contains(y))throw new te(K.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");JC(g,y)||g.push(y)}c=new Ea(g),f=u.fieldTransforms.filter(function(b){return c.covers(b.field)})}else c=null,f=u.fieldTransforms;return new vj(new tr(d),c,f)}var F_=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ss);function zC(e,t,n){return new GC({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var _j=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype._toFieldTransform=function(n){return new ol(n.path,new Ca)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ss),bj=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ae(t,e),t.prototype._toFieldTransform=function(n){var r=zC(this,n,!0),o=this.Kc.map(function(u){return ks(u,r)}),s=new ds(o);return new ol(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ss),wj=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ae(t,e),t.prototype._toFieldTransform=function(n){var r=zC(this,n,!0),o=this.Kc.map(function(u){return ks(u,r)}),s=new ps(o);return new ol(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ss),Ij=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Ae(t,e),t.prototype._toFieldTransform=function(n){var r=new Na(n.R,Lk(n.R,this.Qc));return new ol(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ss);function M_(e,t,n,r){var o=e.Uc(1,t,n);U_("Data must be an object, but it was:",o,r);var s=[],u=tr.empty();ws(r,function(f,d){var g=j_(t,f,n);d=lt(d);var h=o.Oc(g);if(d instanceof F_)s.push(g);else{var p=ks(d,h);p!=null&&(s.push(g),u.set(g,p))}});var c=new Ea(s);return new KC(u,c,o.fieldTransforms)}function V_(e,t,n,r,o,s){var u=e.Uc(1,t,n),c=[jv(t,r,n)],f=[o];if(s.length%2!=0)throw new te(K.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)c.push(jv(t,s[d])),f.push(s[d+1]);for(var g=[],h=tr.empty(),p=c.length-1;p>=0;--p)if(!JC(g,c[p])){var y=c[p],b=f[p];b=lt(b);var T=u.Oc(y);if(b instanceof F_)g.push(y);else{var E=ks(b,T);E!=null&&(g.push(y),h.set(y,E))}}var I=new Ea(g);return new KC(h,I,u.fieldTransforms)}function YC(e,t,n,r){return r===void 0&&(r=!1),ks(n,e.Uc(r?4:3,t))}function ks(e,t){if(QC(e=lt(e)))return U_("Unsupported field value:",t,e),XC(e,t);if(e instanceof Ss)return function(n,r){if(!WC(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,c=n;u<c.length;u++){var f=ks(c[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Lk(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Hn.fromDate(n);return{timestampValue:xc(r.R,o)}}if(n instanceof Hn)return o=new Hn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:xc(r.R,o)};if(n instanceof wd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ms)return{bytesValue:Kk(r.R,n._byteString)};if(n instanceof kt){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:h_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+bd(n))}(e,t)}function XC(e,t){var n={};return Tk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(e,function(r,o){var s=ks(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Hn||e instanceof wd||e instanceof ms||e instanceof kt||e instanceof Ss)}function U_(e,t,n){if(!QC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=bd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function jv(e,t,n){if((t=lt(t))instanceof Zr)return t._internalPath;if(typeof t=="string")return j_(e,t);throw Ah("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Tj=new RegExp("[~\\*/\\[\\]]");function j_(e,t,n){if(t.search(Tj)>=0)throw Ah("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Zr.bind.apply(Zr,Tt([void 0],t.split("."))))()._internalPath}catch{throw Ah("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ah(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new te(K.INVALID_ARGUMENT,(c+=". ")+e+f)}function JC(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new kt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(kh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Ej=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Fc);function kh(e,t){return typeof t=="string"?j_(e,t):t instanceof Zr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),_i=function(e){function t(n,r,o,s,u,c){var f=this;return(f=e.call(this,n,r,o,s,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Ae(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(kh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(Fc),ac=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(_i),Ji=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new ac(r._firestore,r._userDataWriter,o.key,o,new Zo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new ac(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zo(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new ac(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zo(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(g=(u=u.add(c.doc)).indexOf(c.doc.key)),{type:Sj(c.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function Sj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function ZC(e,t){return e instanceof _i&&t instanceof _i?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ji&&t instanceof Ji&&e._firestore===t._firestore&&qC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e){if(vh(e)&&e.explicitOrderBy.length===0)throw new te(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cl=function(){};function Bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var Aj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Ae(t,e),t.prototype._apply=function(n){var r=As(n.firestore),o=function(s,u,c,f,d,g,h){var p;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new te(K.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){KE(h,g);for(var y=[],b=0,T=h;b<T.length;b++){var E=T[b];y.push(HE(f,s,E))}p={arrayValue:{values:y}}}else p=HE(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||KE(h,g),p=YC(c,"where",h,g==="in"||g==="not-in");var I=rr.create(d,g,p);return function(C,N){if(N.g()){var k=a_(C);if(k!==null&&!k.isEqual(N.field))throw new te(K.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+N.field.toString()+"'");var j=s_(C);j!==null&&nN(C,N.field,j)}var M=function(q,$){for(var z=0,P=q.filters;z<P.length;z++){var me=P[z];if($.indexOf(me.op)>=0)return me.op}return null}(C,function(q){switch(q){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(M!==null)throw M===N.op?new te(K.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+N.op.toString()+"' filter."):new te(K.INVALID_ARGUMENT,"Invalid query. You cannot use '"+N.op.toString()+"' filters with '"+M.toString()+"' filters.")}(s,I),I}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new or(n.firestore,n.converter,function(s,u){var c=s.filters.concat([u]);return new Si(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(cl),kj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Ae(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new te(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new te(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new ma(s,u);return function(f,d){if(s_(f)===null){var g=a_(f);g!==null&&nN(f,g,d.field)}}(o,c),c}(n._query,this.jc,this.zc);return new or(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new Si(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(cl),BE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Ae(t,e),t.prototype._apply=function(n){return new or(n.firestore,n.converter,Ok(n._query,this.Hc,this.Jc))},t}(cl),$E=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ae(t,e),t.prototype._apply=function(n){var r=tN(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(o,s){return new Si(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(cl),qE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ae(t,e),t.prototype._apply=function(n){var r=tN(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(o,s){return new Si(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(cl);function tN(e,t,n,r){if(n[0]=lt(n[0]),n[0]instanceof Fc)return function(s,u,c,f,d){if(!f)throw new te(K.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var g=[],h=0,p=ka(s);h<p.length;h++){var y=p[h];if(y.field.isKeyField())g.push(ph(u,f.key));else{var b=f.data.field(y.field);if(r_(b))throw new te(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var T=y.field.canonicalString();throw new te(K.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}g.push(b)}}return new Oc(g,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=As(e.firestore);return function(s,u,c,f,d,g){var h=s.explicitOrderBy;if(d.length>h.length)throw new te(K.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var p=[],y=0;y<d.length;y++){var b=d[y];if(h[y].field.isKeyField()){if(typeof b!="string")throw new te(K.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof b);if(!u_(s)&&b.indexOf("/")!==-1)throw new te(K.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+b+"' contains a slash.");var T=s.path.child(nt.fromString(b));if(!we.isDocumentKey(T))throw new te(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var E=new we(T);p.push(ph(u,E))}else{var I=YC(c,f,b);p.push(I)}}return new Oc(p,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function HE(e,t,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new te(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!u_(t)&&n.indexOf("/")!==-1)throw new te(K.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(nt.fromString(n));if(!we.isDocumentKey(r))throw new te(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ph(e,new we(r))}if(n instanceof kt)return ph(e,n._key);throw new te(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bd(n)+".")}function KE(e,t){if(!Array.isArray(e)||e.length===0)throw new te(K.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new te(K.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function nN(e,t,n){if(!n.isEqual(t))throw new te(K.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B_=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Sa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw be()}},e.prototype.convertObject=function(t,n){var r=this,o={};return ws(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new wd(jt(t.latitude),jt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=Sk(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=co(t);return new Hn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=nt.fromString(t);Re(Zk(r));var o=new Sh(r.get(1),r.get(3)),s=new we(r.popFirst(5));return o.isEqual(n)||$t("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Cj=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ae(t,e),t.prototype.convertBytes=function(n){return new ms(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,r)},t}(B_),Nj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=As(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Zi(t,this._firestore),s=Td(o.converter,n,r),u=Id(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,yn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,c=Zi(t,this._firestore);return u=typeof(n=lt(n))=="string"||n instanceof Zr?V_(this._dataReader,"WriteBatch.update",c._key,n,r,o):M_(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,yn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Zi(t,this._firestore);return this._mutations=this._mutations.concat(new al(n._key,yn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new te(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e,t){if((e=lt(e)).firestore!==t)throw new te(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ae(t,e),t.prototype.convertBytes=function(n){return new ms(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,r)},t}(B_);function WE(e,t,n){e=it(e,kt);var r=it(e.firestore,Gt),o=Td(e.converter,t,n);return ll(r,[Id(As(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,yn.none())])}function GE(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=it(e,kt);var s=it(e.firestore,Gt),u=As(s);return ll(s,[(typeof(t=lt(t))=="string"||t instanceof Zr?V_(u,"updateDoc",e._key,t,n,r):M_(u,"updateDoc",e._key,t)).toMutation(e._key,yn.exists(!0))])}function rN(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=lt(e);var u={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||Va(o[c])||(u=o[c],c++);var f,d,g,h={includeMetadataChanges:u.includeMetadataChanges};if(Va(o[c])){var p=o[c];o[c]=(t=p.next)===null||t===void 0?void 0:t.bind(p),o[c+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),o[c+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}if(e instanceof kt)d=it(e.firestore,Gt),g=nl(e._key.path),f={next:function(T){o[c]&&o[c](Bv(d,e,T))},error:o[c+1],complete:o[c+2]};else{var y=it(e,or);d=it(y.firestore,Gt),g=y._query;var b=new is(d);f={next:function(T){o[c]&&o[c](new Ji(d,b,y,T))},error:o[c+1],complete:o[c+2]},eN(e._query)}return function(T,E,I,C){var N=this,k=new yd(C),j=new A_(E,k,I);return T.asyncQueue.enqueueAndForget(function(){return Z(N,void 0,void 0,function(){var M;return J(this,function(q){switch(q.label){case 0:return M=T_,[4,Ma(T)];case 1:return[2,M.apply(void 0,[q.sent(),j])]}})})}),function(){k.Wo(),T.asyncQueue.enqueueAndForget(function(){return Z(N,void 0,void 0,function(){var M;return J(this,function(q){switch(q.label){case 0:return M=E_,[4,Ma(T)];case 1:return[2,M.apply(void 0,[q.sent(),j])]}})})})}}(vn(d),g,h,f)}function ll(e,t){return function(n,r){var o=this,s=new Wn;return n.asyncQueue.enqueueAndForget(function(){return Z(o,void 0,void 0,function(){var u;return J(this,function(c){switch(c.label){case 0:return u=HU,[4,VC(n)];case 1:return[2,u.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(vn(e),t)}function Bv(e,t,n){var r=n.docs.get(t._key),o=new is(e);return new _i(e,o,t._key,r,new Zo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Ae(t,e),t.prototype.get=function(n){var r=this,o=Zi(n,this._firestore),s=new is(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new _i(r._firestore,s,o._key,u._document,new Zo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=As(t)}return e.prototype.get=function(t){var n=this,r=Zi(t,this._firestore),o=new Cj(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return be();var u=s[0];if(u.isFoundDocument())return new Fc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new Fc(n._firestore,o,r._key,null,r.converter);throw be()})},e.prototype.set=function(t,n,r){var o=Zi(t,this._firestore),s=Td(o.converter,n,r),u=Id(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,c=Zi(t,this._firestore);return u=typeof(n=lt(n))=="string"||n instanceof Zr?V_(this._dataReader,"Transaction.update",c._key,n,r,o):M_(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this},e.prototype.delete=function(t){var n=Zi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){if(typeof Uint8Array>"u")throw new te(K.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function YE(){if(typeof atob>"u")throw new te(K.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var iN=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return YE(),new e(ms.fromBase64String(t))},e.fromUint8Array=function(t){return zE(),new e(ms.fromUint8Array(t))},e.prototype.toBase64=function(){return YE(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return zE(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),xj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){jE(r=it(r,Gt));var s=vn(r),u=r._freezeSettings(),c=new Uv;return UE(s,c,new DC(c,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){jE(n=it(n,Gt));var r=vn(n),o=n._freezeSettings(),s=new Uv;return UE(r,s,new oj(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new te(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Wn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(c){return Z(this,void 0,void 0,function(){var f;return J(this,function(d){switch(d.label){case 0:return Ra.yt()?(f=c+"main",[4,Ra.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(v_(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),oN=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Sh||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||hh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,c){var f;c===void 0&&(c={});var d=(o=it(o,Lc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&hh("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+u,ssl:!1})),c.mockUserToken){var g,h;if(typeof c.mockUserToken=="string")g=c.mockUserToken,h=on.MOCK_USER;else{g=hA(c.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var p=c.mockUserToken.sub||c.mockUserToken.user_id;if(!p)throw new te(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new on(p)}o._credentials=new lj(new UC(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return[4,NE(t)];case 1:return r=s.sent(),[4,OE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var c=he(u);return c.Or.delete(0),ul(c)}(o))]}})})})}(vn(it(this._delegate,Gt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return[4,NE(t)];case 1:return r=s.sent(),[4,OE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return Z(this,void 0,void 0,function(){var c;return J(this,function(f){switch(f.label){case 0:return(c=he(u)).Or.add(0),[4,Xa(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(vn(it(this._delegate,Gt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&jC("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Wn;return t.asyncQueue.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){var o;return J(this,function(s){switch(s.label){case 0:return o=zU,[4,VC(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(vn(it(this._delegate,Gt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,c=new yd(s);return o.asyncQueue.enqueueAndForget(function(){return Z(u,void 0,void 0,function(){var f;return J(this,function(d){switch(d.label){case 0:return f=function(g,h){he(g).Gr.add(h),h.next()},[4,Ma(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return Z(u,void 0,void 0,function(){var f;return J(this,function(d){switch(d.label){case 0:return f=function(g,h){he(g).Gr.delete(h)},[4,Ma(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})})}}(vn(n=it(n,Gt)),Va(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new te(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ch(this,BC(this._delegate,t))}catch(n){throw Cn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new os(this,Gf(this._delegate,t))}catch(n){throw Cn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ad(this,function(n,r){if(n=it(n,Lc),D_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new te(K.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new or(n,null,function(o){return new Si(nt.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Cn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var c=this,f=new Wn;return s.asyncQueue.enqueueAndForget(function(){return Z(c,void 0,void 0,function(){var d;return J(this,function(g){switch(g.label){case 0:return[4,function(h){return _d(h).then(function(p){return p.datastore})}(s)];case 1:return d=g.sent(),new aj(s.asyncQueue,d,u,f).run(),[2]}})})}),f.promise}(vn(r),function(s){return o(new Oj(r,s))})}(this._delegate,function(r){return t(new sN(n,r))})},e.prototype.batch=function(){var t=this;return vn(this._delegate),new aN(new Nj(this._delegate,function(n){return ll(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new te(K.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new te(K.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ed=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ae(t,e),t.prototype.convertBytes=function(n){return new iN(new ms(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return os.eu(r,this.firestore,null)},t}(B_);function Rj(e){var t;t=e,Rr.setLogLevel(t)}var sN=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ed(t)}return e.prototype.get=function(t){var n=this,r=es(t);return this._delegate.get(r).then(function(o){return new Mc(n._firestore,new _i(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=es(t);return r?(L_("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=es(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Tt([c,n,r],s)),this},e.prototype.delete=function(t){var n=es(t);return this._delegate.delete(n),this},e}(),aN=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=es(t);return r?(L_("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=es(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Tt([c,n,r],s)),this},e.prototype.delete=function(t){var n=es(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Sd=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new ac(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Vc(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Ed(t),n),o.set(n,s)),s},e}();Sd.su=new WeakMap;var os=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ed(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new te(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new kt(n._delegate,r,new we(t)))},e.eu=function(t,n,r){return new e(n,new kt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ch(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ch(this.firestore,BC(this._delegate,t))}catch(n){throw Cn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=lt(t))instanceof kt&&$C(this._delegate,t)},e.prototype.set=function(t,n){n=L_("DocumentReference.set",n);try{return n?WE(this._delegate,t,n):WE(this._delegate,t)}catch(r){throw Cn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?GE(this._delegate,t):GE.apply(void 0,Tt([this._delegate,t,n],r))}catch(s){throw Cn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ll(it((t=this._delegate).firestore,Gt),[new al(t._key,yn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=uN(n),s=cN(n,function(u){return new Mc(t.firestore,new _i(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return rN(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=it(r,kt);var o=it(r.firestore,Gt),s=vn(o),u=new is(o);return function(c,f){var d=this,g=new Wn;return c.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return J(this,function(p){switch(p.label){case 0:return h=function(y,b,T){return Z(this,void 0,void 0,function(){var E,I;return J(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(N,k){var j=he(N);return j.persistence.runTransaction("read document","readonly",function(M){return j.Mn.mn(M,k)})}(y,b)];case 1:return(I=C.sent()).isFoundDocument()?T.resolve(I):I.isNoDocument()?T.resolve(null):T.reject(new te(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=C.sent(),I=Za(E,"Failed to get document '"+b+" from cache"),T.reject(I),[3,3];case 3:return[2]}})})},[4,MC(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(c){return new _i(o,u,r._key,c,new Zo(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=it(r,kt);var o=it(r.firestore,Gt);return xE(vn(o),r._key,{source:"server"}).then(function(s){return Bv(o,r,s)})}(this._delegate):function(r){r=it(r,kt);var o=it(r.firestore,Gt);return xE(vn(o),r._key).then(function(s){return Bv(o,r,s)})}(this._delegate)).then(function(r){return new Mc(n.firestore,new _i(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Cn(e,t,n){return e.message=e.message.replace(t,n),e}function uN(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Va(r))return r}return{}}function cN(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Va(e[0])?e[0]:Va(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Mc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new os(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return ZC(this._delegate,t._delegate)},e}(),Vc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Mc),Ad=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ed(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Bi(this._delegate,function(o,s,u){var c=s,f=kh("where",o);return new Aj(f,c,u)}(t,n,r)))}catch(o){throw Cn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Bi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=kh("orderBy",r);return new kj(u,s)}(t,n)))}catch(r){throw Cn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Bi(this._delegate,function(n){return ME("limit",n),new BE("limit",n,"F")}(t)))}catch(n){throw Cn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Bi(this._delegate,function(n){return ME("limitToLast",n),new BE("limitToLast",n,"L")}(t)))}catch(n){throw Cn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new $E("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Cn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new $E("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Cn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new qE("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Cn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new qE("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Cn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return qC(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=it(r,or);var o=it(r.firestore,Gt),s=vn(o),u=new is(o);return function(c,f){var d=this,g=new Wn;return c.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return J(this,function(p){switch(p.label){case 0:return h=function(y,b,T){return Z(this,void 0,void 0,function(){var E,I,C,N,k;return J(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,Ih(y,b,!0)];case 1:return k=j.sent(),E=new NC(b,k.Bn),I=E._o(k.documents),C=E.applyChanges(I,!1),T.resolve(C.snapshot),[3,3];case 2:return N=j.sent(),k=Za(N,"Failed to execute query '"+b+" against cache"),T.reject(k),[3,3];case 3:return[2]}})})},[4,MC(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(c){return new Ji(o,u,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=it(r,or);var o=it(r.firestore,Gt),s=vn(o),u=new is(o);return RE(s,r._query,{source:"server"}).then(function(c){return new Ji(o,u,r,c)})}(this._delegate):function(r){r=it(r,or);var o=it(r.firestore,Gt),s=vn(o),u=new is(o);return eN(r._query),RE(s,r._query).then(function(c){return new Ji(o,u,r,c)})}(this._delegate)).then(function(r){return new $v(n.firestore,new Ji(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=uN(n),s=cN(n,function(u){return new $v(t.firestore,new Ji(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return rN(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Pj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Vc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),$v=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ad(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Vc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Pj(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Vc(r._firestore,o))})},e.prototype.isEqual=function(t){return ZC(this._delegate,t._delegate)},e}(),Ch=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Ae(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new os(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new os(this.firestore,n===void 0?Gf(this._delegate):Gf(this._delegate,n))}catch(r){throw Cn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=it(o.firestore,Gt),c=Gf(o),f=Td(o.converter,s);return ll(u,[Id(As(o.firestore),"addDoc",c._key,f,o.converter!==null,{}).toMutation(c._key,yn.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new os(r.firestore,o)})},t.prototype.isEqual=function(n){return $C(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Sd.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Ad);function es(e){return it(e,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Zr.bind.apply(Zr,Tt([void 0],t)))}return e.documentId=function(){return new e(Lr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=lt(t))instanceof Zr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),Lj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new _j("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new F_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new bj("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new wj("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new Ij("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Fj={Firestore:oN,GeoPoint:wd,Timestamp:Hn,Blob:iN,Transaction:sN,WriteBatch:aN,DocumentReference:os,DocumentSnapshot:Mc,Query:Ad,QueryDocumentSnapshot:Vc,QuerySnapshot:$v,CollectionReference:Ch,FieldPath:Dj,FieldValue:Lj,setLogLevel:Rj,CACHE_SIZE_UNLIMITED:mj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(e){(function(t,n){t.INTERNAL.registerComponent(new Kc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Fj)))})(e,function(t,n){return new oN(t,new Gt(t,n),new xj)}),e.registerVersion("@firebase/firestore","2.4.1")}Mj(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lN="firebasestorage.googleapis.com",fN="storageBucket",Vj=2*60*1e3,Uj=10*60*1e3,Kt=function(e){Ae(t,e);function t(n,r){var o=e.call(this,Lg(n),"Firebase Storage: "+r+" ("+Lg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Lg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(pA);function Lg(e){return"storage/"+e}function $_(){var e="An unknown error occurred, please check the error payload for server response.";return new Kt("unknown",e)}function jj(e){return new Kt("object-not-found","Object '"+e+"' does not exist.")}function Bj(e){return new Kt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $j(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt("unauthenticated",e)}function qj(){return new Kt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Hj(e){return new Kt("unauthorized","User does not have permission to access '"+e+"'.")}function Kj(){return new Kt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function hN(){return new Kt("canceled","User canceled the upload/download.")}function Wj(e){return new Kt("invalid-url","Invalid URL '"+e+"'.")}function Gj(e){return new Kt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function zj(){return new Kt("no-default-bucket","No default bucket found. Did you set the '"+fN+"' property when initializing the app?")}function dN(){return new Kt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Yj(){return new Kt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Xj(){return new Kt("no-download-url","The given file does not have any download URLs.")}function ga(e){return new Kt("invalid-argument",e)}function pN(){return new Kt("app-deleted","The Firebase app was deleted.")}function mN(e){return new Kt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uc(e,t){return new Kt("invalid-format","String does not match format '"+e+"': "+t)}function Of(e){throw new Kt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function gN(e,t){switch(e){case mr.RAW:return new Fg(vN(t));case mr.BASE64:case mr.BASE64URL:return new Fg(yN(e,t));case mr.DATA_URL:return new Fg(Zj(t),eB(t))}throw $_()}function vN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Jj(e){var t;try{t=decodeURIComponent(e)}catch{throw uc(mr.DATA_URL,"Malformed data URL.")}return vN(t)}function yN(e,t){switch(e){case mr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw uc(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case mr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw uc(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=Qj(t)}catch{throw uc(e,"Invalid character found")}for(var f=new Uint8Array(c.length),d=0;d<c.length;d++)f[d]=c.charCodeAt(d);return f}var _N=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw uc(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=tB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Zj(e){var t=new _N(e);return t.base64?yN(mr.BASE64,t.rest):Jj(t.rest)}function eB(e){var t=new _N(e);return t.contentType}function tB(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nB={STATE_CHANGED:"state_changed"},Nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mg(e){switch(e){case"running":case"pausing":case"canceling":return Nn.RUNNING;case"paused":return Nn.PAUSED;case"success":return Nn.SUCCESS;case"canceled":return Nn.CANCELED;case"error":return Nn.ERROR;default:return Nn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ss||(ss={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rB=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ss.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ss.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ss.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw Of("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Of("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Of("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Of("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function iB(){return new rB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oB=function(){function e(){}return e.prototype.createConnection=function(){return iB()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw Gj(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}var u="(/(.*))?$",c=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+p,"i"),b={bucket:1,path:3},T=n===lN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",I=new RegExp("^https?://"+T+"/"+o+"/"+E,"i"),C={bucket:1,path:2},N=[{regex:c,indices:f,postModify:s},{regex:y,indices:b,postModify:d},{regex:I,indices:C,postModify:d}],k=0;k<N.length;k++){var j=N[k],M=j.regex.exec(t);if(M){var q=M[j.indices.bucket],$=M[j.indices.path];$||($=""),r=new e(q,$),j.postModify(r);break}}if(r==null)throw Wj(t);return r},e}(),sB=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(e,t,n){var r=1,o=null,s=!1,u=0;function c(){return u===2}var f=!1;function d(){for(var b=[],T=0;T<arguments.length;T++)b[T]=arguments[T];f||(f=!0,t.apply(null,b))}function g(b){o=setTimeout(function(){o=null,e(h,c())},b)}function h(b){for(var T=[],E=1;E<arguments.length;E++)T[E-1]=arguments[E];if(!f){if(b){d.call.apply(d,Tt([null,b],T));return}var I=c()||s;if(I){d.call.apply(d,Tt([null,b],T));return}r<64&&(r*=2);var C;u===1?(u=2,C=0):C=(r+Math.random())*1e3,g(C)}}var p=!1;function y(b){p||(p=!0,!f&&(o!==null?(b||(u=2),clearTimeout(o),g(0)):b||(u=1)))}return g(0),setTimeout(function(){s=!0,y(!0)},n),y}function uB(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(e){return e!==void 0}function lB(e){return typeof e=="function"}function fB(e){return typeof e=="object"&&!Array.isArray(e)}function kd(e){return typeof e=="string"||e instanceof String}function XE(e){return q_()&&e instanceof Blob}function q_(){return typeof Blob<"u"}function qv(e,t,n,r){if(r<t)throw ga("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ga("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function bN(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hB=function(){function e(t,n,r,o,s,u,c,f,d,g,h){var p=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=c,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(y,b){p.resolve_=y,p.reject_=b,p.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new xf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function c(f){var d=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,g)}t.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(c),t.pendingConnection_=null;var f=u.getErrorCode()===ss.NO_ERROR,d=u.getStatus();if(!f||t.isRetryStatusCode_(d)){var g=u.getErrorCode()===ss.ABORT;o(!1,new xf(!1,null,g));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new xf(h,u))})}function r(o,s){var u=t.resolve_,c=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());cB(d)?u(d):u()}catch(h){c(h)}else if(f!==null){var g=$_();g.serverResponse=f.getResponseText(),t.errorCallback_?c(t.errorCallback_(f,g)):c(g)}else if(s.canceled){var g=t.appDelete_?pN():hN();c(g)}else{var g=Kj();c(g)}}this.canceled_?r(!1,new xf(!1,null,!0)):this.backoffId_=aB(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&uB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),xf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function dB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function pB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function mB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function gB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function vB(e,t,n,r,o,s){var u=bN(e.urlParams),c=e.url+u,f=Object.assign({},e.headers);return mB(f,t),dB(f,n),pB(f,s),gB(f,r),new hB(c,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _B(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yB();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(q_())return new Blob(e);throw new Kt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function bB(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H_=function(){function e(t,n){var r=0,o="";XE(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(XE(this.data_)){var r=this.data_,o=bB(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(q_()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(_B.apply(null,r))}else{var o=t.map(function(f){return kd(f)?gN(mr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),c=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)u[c++]=f[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(e){var t;try{t=JSON.parse(e)}catch{return null}return fB(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function IB(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function wN(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(e,t){return t}var Sn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||TB}return e}(),Rf=null;function EB(e){return!kd(e)||e.length<2?e:wN(e)}function Cd(){if(Rf)return Rf;var e=[];e.push(new Sn("bucket")),e.push(new Sn("generation")),e.push(new Sn("metageneration")),e.push(new Sn("name","fullPath",!0));function t(s,u){return EB(u)}var n=new Sn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new Sn("size");return o.xform=r,e.push(o),e.push(new Sn("timeCreated")),e.push(new Sn("updated")),e.push(new Sn("md5Hash",null,!0)),e.push(new Sn("cacheControl",null,!0)),e.push(new Sn("contentDisposition",null,!0)),e.push(new Sn("contentEncoding",null,!0)),e.push(new Sn("contentLanguage",null,!0)),e.push(new Sn("contentType",null,!0)),e.push(new Sn("metadata","customMetadata",!0)),Rf=e,Rf}function SB(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new gr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function AB(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return SB(r,e),r}function IN(e,t,n){var r=K_(t);if(r===null)return null;var o=r;return AB(e,o,n)}function kB(e,t,n){var r=K_(t);if(r===null||!kd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),c=u.map(function(f){var d=e.bucket,g=e.fullPath,h="/b/"+s(d)+"/o/"+s(g),p=vo(h,n),y=bN({alt:"media",token:f});return p+y});return c[0]}function W_(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QE="prefixes",JE="items";function CB(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[QE])for(var o=0,s=n[QE];o<s.length;o++){var u=s[o],c=u.replace(/\/$/,""),f=e._makeStorageReference(new gr(t,c));r.prefixes.push(f)}if(n[JE])for(var d=0,g=n[JE];d<g.length;d++){var h=g[d],f=e._makeStorageReference(new gr(t,h.name));r.items.push(f)}return r}function NB(e,t,n){var r=K_(n);if(r===null)return null;var o=r;return CB(e,t,o)}var Ai=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e){if(!e)throw $_()}function Nd(e,t){function n(r,o){var s=IN(e,o,t);return ei(s!==null),s}return n}function OB(e,t){function n(r,o){var s=NB(e,t,o);return ei(s!==null),s}return n}function xB(e,t){function n(r,o){var s=IN(e,o,t);return ei(s!==null),kB(s,o,e.host)}return n}function eu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=qj():o=$j():n.getStatus()===402?o=Bj(e.bucket):n.getStatus()===403?o=Hj(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function Od(e){var t=eu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=jj(e.path)),s.serverResponse=o.serverResponse,s}return n}function TN(e,t,n){var r=t.fullServerUrl(),o=vo(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new Ai(o,s,Nd(e,n),u);return c.errorHandler=Od(t),c}function RB(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),c=vo(u,e.host),f="GET",d=e.maxOperationRetryTime,g=new Ai(c,f,OB(e,t.bucket),d);return g.urlParams=s,g.errorHandler=eu(t),g}function PB(e,t,n){var r=t.fullServerUrl(),o=vo(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new Ai(o,s,xB(e,n),u);return c.errorHandler=Od(t),c}function DB(e,t,n,r){var o=t.fullServerUrl(),s=vo(o,e.host),u="PATCH",c=W_(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,g=new Ai(s,u,Nd(e,r),d);return g.headers=f,g.body=c,g.errorHandler=Od(t),g}function LB(e,t){var n=t.fullServerUrl(),r=vo(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,d){}var c=new Ai(r,o,u,s);return c.successCodes=[200,204],c.errorHandler=Od(t),c}function FB(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function EN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=FB(null,t)),r}function MB(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var N="",k=0;k<2;k++)N=N+Math.random().toString().slice(2);return N}var f=c();u["Content-Type"]="multipart/related; boundary="+f;var d=EN(t,r,o),g=W_(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+f+"--",y=H_.getBlob(h,r,p);if(y===null)throw dN();var b={name:d.fullPath},T=vo(s,e.host),E="POST",I=e.maxUploadRetryTime,C=new Ai(T,E,Nd(e,n),I);return C.urlParams=b,C.headers=u,C.body=y.uploadData(),C.errorHandler=eu(t),C}var Nh=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function G_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{ei(!1)}var r=t||["active"];return ei(!!n&&r.indexOf(n)!==-1),n}function VB(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=EN(t,r,o),c={name:u.fullPath},f=vo(s,e.host),d="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=W_(u,n),p=e.maxUploadRetryTime;function y(T){G_(T);var E;try{E=T.getResponseHeader("X-Goog-Upload-URL")}catch{ei(!1)}return ei(kd(E)),E}var b=new Ai(f,d,y,p);return b.urlParams=c,b.headers=g,b.body=h,b.errorHandler=eu(t),b}function UB(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var g=G_(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ei(!1)}h||ei(!1);var p=Number(h);return ei(!isNaN(p)),new Nh(p,r.size(),g==="final")}var u="POST",c=e.maxUploadRetryTime,f=new Ai(n,u,s,c);return f.headers=o,f.errorHandler=eu(t),f}var ZE=256*1024;function jB(e,t,n,r,o,s,u,c){var f=new Nh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw Yj();var d=f.total-f.current,g=d;o>0&&(g=Math.min(g,o));var h=f.current,p=h+g,y=g===d?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},T=r.slice(h,p);if(T===null)throw dN();function E(k,j){var M=G_(k,["active","final"]),q=f.current+g,$=r.size(),z;return M==="final"?z=Nd(t,s)(k,j):z=null,new Nh(q,$,M==="final",z)}var I="POST",C=t.maxUploadRetryTime,N=new Ai(n,I,E,C);return N.headers=b,N.body=T.uploadData(),N.progressCallback=c||null,N.errorHandler=eu(e),N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BB=function(){function e(t,n,r){var o=lB(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SN=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Cd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=VB(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=UB(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=ZE*this._chunkMultiplier,r=new Nh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var c;try{c=jB(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(c,s,u);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=ZE*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=TN(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=MB(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=hN(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Mg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new BB(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Mg(this._state)){case Nn.SUCCESS:ta(this._resolve.bind(null,this.snapshot))();break;case Nn.CANCELED:case Nn.ERROR:var n=this._reject;ta(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Mg(this._state);switch(n){case Nn.RUNNING:case Nn.PAUSED:t.next&&ta(t.next.bind(t,this.snapshot))();break;case Nn.SUCCESS:t.complete&&ta(t.complete.bind(t))();break;case Nn.CANCELED:case Nn.ERROR:t.error&&ta(t.error.bind(t,this._error))();break;default:t.error&&ta(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xd=function(){function e(t,n){this._service=t,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new gr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return wN(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=wB(this._location.path);if(t===null)return null;var n=new gr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw mN(t)},e}();function $B(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new SN(e,new H_(t),n)}function qB(e){var t={prefixes:[],items:[]};return AN(e,t).then(function(){return t})}function AN(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return J(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,kN(e,r)];case 1:return o=c.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,AN(e,t,o.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function kN(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&qv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=RB(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function HB(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=TN(e.storage,e._location,Cd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function KB(e,t){return Z(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=DB(e.storage,e._location,t,Cd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function WB(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=PB(e.storage,e._location,Cd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Xj();return r})]}})})}function GB(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=LB(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function CN(e,t){var n=IB(e._location.path,t),r=new gr(e._location.bucket,n);return new xd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(e){return/^[A-Za-z]+:\/\//.test(e)}function zB(e,t){return new xd(e,t)}function NN(e,t){if(e instanceof Rd){var n=e;if(n._bucket==null)throw zj();var r=new xd(n,n._bucket);return t!=null?NN(r,t):r}else return t!==void 0?CN(e,t):e}function YB(e,t){if(t&&Hv(t)){if(e instanceof Rd)return zB(e,t);throw ga("To use ref(service, url), the first argument must be a Storage instance.")}else return NN(e,t)}function e1(e,t){var n=t==null?void 0:t[fN];return n==null?null:gr.makeFromBucketSpec(n,e)}function XB(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:hA(o,e.app.options.projectId))}var Rd=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=lN,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vj,this._maxUploadRetryTime=Uj,this._requests=new Set,s!=null?this._bucket=gr.makeFromBucketSpec(s,this._host):this._bucket=e1(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,t):this._bucket=e1(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){qv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){qv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new xd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new sB(pN());var s=vB(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(e,t,n){return e=lt(e),$B(e,t,n)}function JB(e){return e=lt(e),HB(e)}function ZB(e,t){return e=lt(e),KB(e,t)}function e$(e,t){return e=lt(e),kN(e,t)}function t$(e){return e=lt(e),qB(e)}function n$(e){return e=lt(e),WB(e)}function r$(e){return e=lt(e),GB(e)}function t1(e,t){return e=lt(e),YB(e,t)}function i$(e,t){return CN(e,t)}function o$(e,t,n,r){r===void 0&&(r={}),XB(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n1=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Pf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new Pf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(c){return n(new Pf(c,s,s._ref))}:u={next:n.next?function(c){return n.next(new Pf(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),r1=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=i$(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new n1(QB(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=mr.RAW),this._throwIfRoot("putString");var o=gN(n,t),s=ba({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new n1(new SN(this._delegate,new H_(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return t$(this._delegate).then(function(n){return new r1(n,t.storage)})},e.prototype.list=function(t){var n=this;return e$(this._delegate,t||void 0).then(function(r){return new r1(r,n.storage)})},e.prototype.getMetadata=function(){return JB(this._delegate)},e.prototype.updateMetadata=function(t){return ZB(this._delegate,t)},e.prototype.getDownloadURL=function(){return n$(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),r$(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw mN(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s$=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Hv(t))throw ga("ref() expected a child path but got a URL, use refFromURL instead.");return new Uc(t1(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Hv(t))throw ga("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gr.makeFromUrl(t,this._delegate.host)}catch{throw ga("refFromUrl() expected a valid full URL but got an invalid one.")}return new Uc(t1(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),o$(this._delegate,t,n,r)},e}(),a$="@firebase/storage",u$="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c$="storage";function l$(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new s$(r,new Rd(r,o,s,new oB,n,Ce.SDK_VERSION));return u}function f$(e){var t={TaskState:Nn,TaskEvent:nB,StringFormat:mr,Storage:Rd,Reference:Uc};e.INTERNAL.registerComponent(new Kc(c$,l$,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(a$,u$)}f$(Ce);const h$={apiKey:"AIzaSyDvF17Y5ApfuVBSm_bemsZYoPrNVUT1r2s",authDomain:"music-temp-2a2ab.firebaseapp.com",projectId:"music-temp-2a2ab",storageBucket:"music-temp-2a2ab.appspot.com",appId:"1:513389509498:web:f976453109bb87de1034c3"};Ce.initializeApp(h$);const ti=Ce.auth(),Pd=Ce.firestore(),ON=Ce.storage();Pd.enablePersistence().catch(e=>{console.log(`Firebase persistence error ${e.code}`)});const d$=Pd.collection("users"),bi=Pd.collection("songs"),i1=Pd.collection("comments"),tu=ky("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await ti.createUserWithEmailAndPassword(e.email,e.password);await d$.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await ti.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await ti.signOut(),this.userLoggedIn=!1}}}),ur=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},p$={name:"AppHeader",computed:{...zF(dv,tu),currentLocale(){return this.$i18n.locale==="fr"?"French":"English"}},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})},changeLocale(){this.$i18n.locale=this.$i18n.locale==="fr"?"en":"fr"}}},m$={id:"header",class:"bg-gray-700"},g$={class:"container mx-auto flex justify-start items-center py-5 px-4"},v$=uo(" Music "),y$={class:"flex flex-grow items-center"},_$={class:"flex flex-row mt-1"},b$=uo("About"),w$={key:0},I$=uo(" Manage"),T$={class:"ml-auto"};function E$(e,t,n,r,o,s){const u=St("router-link");return We(),st("header",m$,[G("nav",g$,[Se(u,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:Pn(()=>[v$]),_:1}),G("div",y$,[G("ul",_$,[G("li",null,[Se(u,{class:"px-2 text-white",to:{name:"about"}},{default:Pn(()=>[b$]),_:1})]),e.userStore.userLoggedIn?(We(),st(Ft,{key:1},[G("li",null,[Se(u,{class:"px-2 text-white",to:{name:"manage"}},{default:Pn(()=>[I$]),_:1})]),G("li",null,[G("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Qt((...c)=>s.signOut&&s.signOut(...c),["prevent"]))},"Logout")])],64)):(We(),st("li",w$,[G("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Qt((...c)=>s.toggleAuthModal&&s.toggleAuthModal(...c),["prevent"]))},"Login / Register")]))]),G("ul",T$,[G("li",null,[G("a",{class:"px-2 text-white",href:"#",onClick:t[2]||(t[2]=Qt((...c)=>s.changeLocale&&s.changeLocale(...c),["prevent"]))},_t(s.currentLocale),1)])])])])])}const S$=ur(p$,[["render",E$]]),A$={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are logging you in."}},methods:{...Qh(tu,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details.";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},k$={class:"mb-3"},C$=G("label",{class:"inline-block mb-2"},"Email",-1),N$={class:"mb-3"},O$=G("label",{class:"inline-block mb-2"},"Password",-1),x$=["disabled"];function R$(e,t,n,r,o,s){const u=St("vee-field"),c=St("ErrorMessage"),f=St("vee-form");return We(),st(Ft,null,[o.login_show_alert?(We(),st("div",{key:0,class:Rn(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},_t(o.login_alert_msg),3)):ya("",!0),Se(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Pn(()=>[G("div",k$,[C$,Se(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Se(c,{class:"text-red-600",name:"email"})]),G("div",N$,[O$,Se(u,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Se(c,{class:"text-red-600",name:"password"})]),G("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,x$)]),_:1},8,["validation-schema","onSubmit"])],64)}const P$=ur(A$,[["render",R$]]),D$={name:"RegisterForm",data(){return{tab:"login",schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...Qh(tu,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occurred. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},L$={class:"mb-3"},F$=G("label",{class:"inline-block mb-2"},"Name",-1),M$={class:"mb-3"},V$=G("label",{class:"inline-block mb-2"},"Email",-1),U$={class:"mb-3"},j$=G("label",{class:"inline-block mb-2"},"Age",-1),B$={class:"mb-3"},$$=G("label",{class:"inline-block mb-2"},"Password",-1),q$={class:"mb-3"},H$=G("label",{class:"inline-block mb-2"},"Confirm Password",-1),K$={class:"mb-3"},W$=G("label",{class:"inline-block mb-2"},"Country",-1),G$=G("option",{value:"USA"},"USA",-1),z$=G("option",{value:"Mexico"},"Mexico",-1),Y$=G("option",{value:"Germany"},"Germany",-1),X$=G("option",{value:"Antarctica"},"Antarctica",-1),Q$={class:"mb-3 pl-6"},J$={href:"#"},Z$=["disabled"];function eq(e,t,n,r,o,s){const u=St("vee-field"),c=St("ErrorMessage"),f=St("i18n-t"),d=St("vee-form");return We(),st(Ft,null,[o.reg_show_alert?(We(),st("div",{key:0,class:Rn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},_t(o.reg_alert_msg),3)):ya("",!0),Se(d,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:Pn(()=>[G("div",L$,[F$,Se(u,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Se(c,{class:"text-red-600",name:"name"})]),G("div",M$,[V$,Se(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Se(c,{class:"text-red-600",name:"email"})]),G("div",U$,[j$,Se(u,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Se(c,{class:"text-red-600",name:"age"})]),G("div",B$,[$$,Se(u,{name:"password",bails:!1},{default:Pn(({field:g,errors:h})=>[G("input",JS({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",placeholder:"Password"},g),null,16),(We(!0),st(Ft,null,Hc(h,p=>(We(),st("div",{class:"text-red-600",key:p},_t(p),1))),128))]),_:1})]),G("div",q$,[H$,Se(u,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Se(c,{class:"text-red-600",name:"confirm_password"})]),G("div",K$,[W$,Se(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Pn(()=>[G$,z$,Y$,X$]),_:1}),Se(c,{class:"text-red-600",name:"country"})]),G("div",Q$,[Se(u,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Se(f,{class:"inline-block",keypath:"register.accept",tag:"label"},{default:Pn(()=>[G("a",J$,_t(e.$t("register.tos")),1)]),_:1}),Se(c,{class:"text-red-600 block",name:"tos"})]),G("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,Z$)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const tq=ur(D$,[["render",eq]]),nq={name:"Auth",components:{AppLoginForm:P$,AppRegisterForm:tq},data(){return{tab:"login"}},computed:{...Cy(dv,["hiddenClass"]),...lA(dv,{modalVisibility:"isOpen"})},methods:{}},rq={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},iq=G("div",{class:"fixed inset-0 transition-opacity"},[G("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),oq=G("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"\u200B",-1),sq={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},aq={class:"py-4 text-left px-6"},uq={class:"flex justify-between items-center pb-4"},cq=G("p",{class:"text-2xl font-bold"},"Your Account",-1),lq=G("i",{class:"fas fa-times"},null,-1),fq=[lq],hq={class:"flex flex-wrap mb-4"},dq={class:"flex-auto text-center"},pq={class:"flex-auto text-center"};function mq(e,t,n,r,o,s){const u=St("app-login-form"),c=St("app-register-form");return We(),st("div",{class:Rn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[G("div",rq,[iq,oq,G("div",sq,[G("div",aq,[G("div",uq,[cq,G("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},fq)]),G("ul",hq,[G("li",dq,[G("a",{class:Rn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Qt(f=>o.tab="login",["prevent"]))},"Login",2)]),G("li",pq,[G("a",{class:Rn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Qt(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(We(),us(u,{key:0})):(We(),us(c,{key:1}))])])])],2)}const gq=ur(nq,[["render",mq]]);var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kv={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var p=this||n;if(h=parseFloat(h),p.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(p._volume=h,p._muted)return p;p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<p._howls.length;y++)if(!p._howls[y]._webAudio)for(var b=p._howls[y]._getSoundIds(),T=0;T<b.length;T++){var E=p._howls[y]._soundById(b[T]);E&&E._node&&(E._node.volume=E._volume*h)}return p}return p._volume},mute:function(h){var p=this||n;p.ctx||g(),p._muted=h,p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h?0:p._volume,n.ctx.currentTime);for(var y=0;y<p._howls.length;y++)if(!p._howls[y]._webAudio)for(var b=p._howls[y]._getSoundIds(),T=0;T<b.length;T++){var E=p._howls[y]._soundById(b[T]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return p},stop:function(){for(var h=this||n,p=0;p<h._howls.length;p++)h._howls[p].stop();return h},unload:function(){for(var h=this||n,p=h._howls.length-1;p>=0;p--)h._howls[p].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var p=new Audio;typeof p.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var p=new Audio;p.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,p=null;try{p=typeof Audio<"u"?new Audio:null}catch{return h}if(!p||typeof p.canPlayType!="function")return h;var y=p.canPlayType("audio/mpeg;").replace(/^no$/,""),b=h._navigator?h._navigator.userAgent:"",T=b.match(/OPR\/([0-6].)/g),E=T&&parseInt(T[0].split("/")[1],10)<33,I=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,C=b.match(/Version\/(.*?) /),N=I&&C&&parseInt(C[1],10)<15;return h._codecs={mp3:!!(!E&&(y||p.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(p.canPlayType('audio/wav; codecs="1"')||p.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!p.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(p.canPlayType("audio/x-m4b;")||p.canPlayType("audio/m4b;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!N&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!N&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!p.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(p.canPlayType("audio/x-flac;")||p.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var p=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,h._releaseHtml5Audio(b)}catch{h.noAudio=!0;break}for(var T=0;T<h._howls.length;T++)if(!h._howls[T]._webAudio)for(var E=h._howls[T]._getSoundIds(),I=0;I<E.length;I++){var C=h._howls[T]._soundById(E[I]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}h._autoResume();var N=h.ctx.createBufferSource();N.buffer=h._scratchBuffer,N.connect(h.ctx.destination),typeof N.start>"u"?N.noteOn(0):N.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),N.onended=function(){N.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",p,!0),document.removeEventListener("touchend",p,!0),document.removeEventListener("click",p,!0),document.removeEventListener("keydown",p,!0);for(var k=0;k<h._howls.length;k++)h._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",p,!0),document.addEventListener("touchend",p,!0),document.addEventListener("click",p,!0),document.addEventListener("keydown",p,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var p=new Audio().play();return p&&typeof Promise<"u"&&(p instanceof Promise||typeof p.then=="function")&&p.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var p=this||n;return h._unlocked&&p._html5AudioPool.push(h),p},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var p=0;p<h._howls.length;p++)if(h._howls[p]._webAudio){for(var y=0;y<h._howls[p]._sounds.length;y++)if(!h._howls[p]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(!!h.autoSuspend){h._suspendTimer=null,h.state="suspending";var b=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(b,b)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var p=0;p<h._howls.length;p++)h._howls[p]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var p=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}p.init(h)};r.prototype={init:function(h){var p=this;return n.ctx||g(),p._autoplay=h.autoplay||!1,p._format=typeof h.format!="string"?h.format:[h.format],p._html5=h.html5||!1,p._muted=h.mute||!1,p._loop=h.loop||!1,p._pool=h.pool||5,p._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,p._rate=h.rate||1,p._sprite=h.sprite||{},p._src=typeof h.src!="string"?h.src:[h.src],p._volume=h.volume!==void 0?h.volume:1,p._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},p._duration=0,p._state="unloaded",p._sounds=[],p._endTimers={},p._queue=[],p._playLock=!1,p._onend=h.onend?[{fn:h.onend}]:[],p._onfade=h.onfade?[{fn:h.onfade}]:[],p._onload=h.onload?[{fn:h.onload}]:[],p._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],p._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],p._onpause=h.onpause?[{fn:h.onpause}]:[],p._onplay=h.onplay?[{fn:h.onplay}]:[],p._onstop=h.onstop?[{fn:h.onstop}]:[],p._onmute=h.onmute?[{fn:h.onmute}]:[],p._onvolume=h.onvolume?[{fn:h.onvolume}]:[],p._onrate=h.onrate?[{fn:h.onrate}]:[],p._onseek=h.onseek?[{fn:h.onseek}]:[],p._onunlock=h.onunlock?[{fn:h.onunlock}]:[],p._onresume=[],p._webAudio=n.usingWebAudio&&!p._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(p),p._autoplay&&p._queue.push({event:"play",action:function(){p.play()}}),p._preload&&p._preload!=="none"&&p.load(),p},load:function(){var h=this,p=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var b,T;if(h._format&&h._format[y])b=h._format[y];else{if(T=h._src[y],typeof T!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(T),b||(b=/\.([^.]+)$/.exec(T.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&n.codecs(b)){p=h._src[y];break}}if(!p){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=p,h._state="loading",window.location.protocol==="https:"&&p.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,p){var y=this,b=null;if(typeof h=="number")b=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var T=0,E=0;E<y._sounds.length;E++)y._sounds[E]._paused&&!y._sounds[E]._ended&&(T++,b=y._sounds[E]._id);T===1?h=null:b=null}}var I=b?y._soundById(b):y._inactiveSound();if(!I)return null;if(b&&!h&&(h=I._sprite||"__default"),y._state!=="loaded"){I._sprite=h,I._ended=!1;var C=I._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(b&&!I._paused)return p||y._loadQueue("play"),I._id;y._webAudio&&n._autoResume();var N=Math.max(0,I._seek>0?I._seek:y._sprite[h][0]/1e3),k=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-N),j=k*1e3/Math.abs(I._rate),M=y._sprite[h][0]/1e3,q=(y._sprite[h][0]+y._sprite[h][1])/1e3;I._sprite=h,I._ended=!1;var $=function(){I._paused=!1,I._seek=N,I._start=M,I._stop=q,I._loop=!!(I._loop||y._sprite[h][2])};if(N>=q){y._ended(I);return}var z=I._node;if(y._webAudio){var P=function(){y._playLock=!1,$(),y._refreshBuffer(I);var Oe=I._muted||y._muted?0:I._volume;z.gain.setValueAtTime(Oe,n.ctx.currentTime),I._playStart=n.ctx.currentTime,typeof z.bufferSource.start>"u"?I._loop?z.bufferSource.noteGrainOn(0,N,86400):z.bufferSource.noteGrainOn(0,N,k):I._loop?z.bufferSource.start(0,N,86400):z.bufferSource.start(0,N,k),j!==1/0&&(y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),j)),p||setTimeout(function(){y._emit("play",I._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?P():(y._playLock=!0,y.once("resume",P),y._clearTimer(I._id))}else{var me=function(){z.currentTime=N,z.muted=I._muted||y._muted||n._muted||z.muted,z.volume=I._volume*n.volume(),z.playbackRate=I._rate;try{var Oe=z.play();if(Oe&&typeof Promise<"u"&&(Oe instanceof Promise||typeof Oe.then=="function")?(y._playLock=!0,$(),Oe.then(function(){y._playLock=!1,z._unlocked=!0,p?y._loadQueue():y._emit("play",I._id)}).catch(function(){y._playLock=!1,y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),I._ended=!0,I._paused=!0})):p||(y._playLock=!1,$(),y._emit("play",I._id)),z.playbackRate=I._rate,z.paused){y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||I._loop?y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),j):(y._endTimers[I._id]=function(){y._ended(I),z.removeEventListener("ended",y._endTimers[I._id],!1)},z.addEventListener("ended",y._endTimers[I._id],!1))}catch(Pe){y._emit("playerror",I._id,Pe)}};z.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(z.src=y._src,z.load());var ne=window&&window.ejecta||!z.readyState&&n._navigator.isCocoonJS;if(z.readyState>=3||ne)me();else{y._playLock=!0,y._state="loading";var Ne=function(){y._state="loaded",me(),z.removeEventListener(n._canPlayEvent,Ne,!1)};z.addEventListener(n._canPlayEvent,Ne,!1),y._clearTimer(I._id)}}return I._id},pause:function(h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"pause",action:function(){p.pause(h)}}),p;for(var y=p._getSoundIds(h),b=0;b<y.length;b++){p._clearTimer(y[b]);var T=p._soundById(y[b]);if(T&&!T._paused&&(T._seek=p.seek(y[b]),T._rateSeek=0,T._paused=!0,p._stopFade(y[b]),T._node))if(p._webAudio){if(!T._node.bufferSource)continue;typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),p._cleanBuffer(T._node)}else(!isNaN(T._node.duration)||T._node.duration===1/0)&&T._node.pause();arguments[1]||p._emit("pause",T?T._id:null)}return p},stop:function(h,p){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var b=y._getSoundIds(h),T=0;T<b.length;T++){y._clearTimer(b[T]);var E=y._soundById(b[T]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,y._stopFade(b[T]),E._node&&(y._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),y._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&y._clearSound(E._node))),p||y._emit("stop",E._id))}return y},mute:function(h,p){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,p)}}),y;if(typeof p>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var b=y._getSoundIds(p),T=0;T<b.length;T++){var E=y._soundById(b[T]);E&&(E._muted=h,E._interval&&y._stopFade(E._id),y._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:h),y._emit("mute",E._id))}return y},volume:function(){var h=this,p=arguments,y,b;if(p.length===0)return h._volume;if(p.length===1||p.length===2&&typeof p[1]>"u"){var T=h._getSoundIds(),E=T.indexOf(p[0]);E>=0?b=parseInt(p[0],10):y=parseFloat(p[0])}else p.length>=2&&(y=parseFloat(p[0]),b=parseInt(p[1],10));var I;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,p)}}),h;typeof b>"u"&&(h._volume=y),b=h._getSoundIds(b);for(var C=0;C<b.length;C++)I=h._soundById(b[C]),I&&(I._volume=y,p[2]||h._stopFade(b[C]),h._webAudio&&I._node&&!I._muted?I._node.gain.setValueAtTime(y,n.ctx.currentTime):I._node&&!I._muted&&(I._node.volume=y*n.volume()),h._emit("volume",I._id))}else return I=b?h._soundById(b):h._sounds[0],I?I._volume:0;return h},fade:function(h,p,y,b){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"fade",action:function(){T.fade(h,p,y,b)}}),T;h=Math.min(Math.max(0,parseFloat(h)),1),p=Math.min(Math.max(0,parseFloat(p)),1),y=parseFloat(y),T.volume(h,b);for(var E=T._getSoundIds(b),I=0;I<E.length;I++){var C=T._soundById(E[I]);if(C){if(b||T._stopFade(E[I]),T._webAudio&&!C._muted){var N=n.ctx.currentTime,k=N+y/1e3;C._volume=h,C._node.gain.setValueAtTime(h,N),C._node.gain.linearRampToValueAtTime(p,k)}T._startFadeInterval(C,h,p,y,E[I],typeof b>"u")}}return T},_startFadeInterval:function(h,p,y,b,T,E){var I=this,C=p,N=y-p,k=Math.abs(N/.01),j=Math.max(4,k>0?b/k:b),M=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var q=(Date.now()-M)/b;M=Date.now(),C+=N*q,C=Math.round(C*100)/100,N<0?C=Math.max(y,C):C=Math.min(y,C),I._webAudio?h._volume=C:I.volume(C,h._id,!0),E&&(I._volume=C),(y<p&&C<=y||y>p&&C>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,I.volume(y,h._id),I._emit("fade",h._id))},j)},_stopFade:function(h){var p=this,y=p._soundById(h);return y&&y._interval&&(p._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,p.volume(y._fadeTo,h),y._fadeTo=null,p._emit("fade",h)),p},loop:function(){var h=this,p=arguments,y,b,T;if(p.length===0)return h._loop;if(p.length===1)if(typeof p[0]=="boolean")y=p[0],h._loop=y;else return T=h._soundById(parseInt(p[0],10)),T?T._loop:!1;else p.length===2&&(y=p[0],b=parseInt(p[1],10));for(var E=h._getSoundIds(b),I=0;I<E.length;I++)T=h._soundById(E[I]),T&&(T._loop=y,h._webAudio&&T._node&&T._node.bufferSource&&(T._node.bufferSource.loop=y,y&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop,h.playing(E[I])&&(h.pause(E[I],!0),h.play(E[I],!0)))));return h},rate:function(){var h=this,p=arguments,y,b;if(p.length===0)b=h._sounds[0]._id;else if(p.length===1){var T=h._getSoundIds(),E=T.indexOf(p[0]);E>=0?b=parseInt(p[0],10):y=parseFloat(p[0])}else p.length===2&&(y=parseFloat(p[0]),b=parseInt(p[1],10));var I;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,p)}}),h;typeof b>"u"&&(h._rate=y),b=h._getSoundIds(b);for(var C=0;C<b.length;C++)if(I=h._soundById(b[C]),I){h.playing(b[C])&&(I._rateSeek=h.seek(b[C]),I._playStart=h._webAudio?n.ctx.currentTime:I._playStart),I._rate=y,h._webAudio&&I._node&&I._node.bufferSource?I._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):I._node&&(I._node.playbackRate=y);var N=h.seek(b[C]),k=(h._sprite[I._sprite][0]+h._sprite[I._sprite][1])/1e3-N,j=k*1e3/Math.abs(I._rate);(h._endTimers[b[C]]||!I._paused)&&(h._clearTimer(b[C]),h._endTimers[b[C]]=setTimeout(h._ended.bind(h,I),j)),h._emit("rate",I._id)}}else return I=h._soundById(b),I?I._rate:h._rate;return h},seek:function(){var h=this,p=arguments,y,b;if(p.length===0)h._sounds.length&&(b=h._sounds[0]._id);else if(p.length===1){var T=h._getSoundIds(),E=T.indexOf(p[0]);E>=0?b=parseInt(p[0],10):h._sounds.length&&(b=h._sounds[0]._id,y=parseFloat(p[0]))}else p.length===2&&(y=parseFloat(p[0]),b=parseInt(p[1],10));if(typeof b>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,p)}}),h;var I=h._soundById(b);if(I)if(typeof y=="number"&&y>=0){var C=h.playing(b);C&&h.pause(b,!0),I._seek=y,I._ended=!1,h._clearTimer(b),!h._webAudio&&I._node&&!isNaN(I._node.duration)&&(I._node.currentTime=y);var N=function(){C&&h.play(b,!0),h._emit("seek",b)};if(C&&!h._webAudio){var k=function(){h._playLock?setTimeout(k,0):N()};setTimeout(k,0)}else N()}else if(h._webAudio){var j=h.playing(b)?n.ctx.currentTime-I._playStart:0,M=I._rateSeek?I._rateSeek-I._seek:0;return I._seek+(M+j*Math.abs(I._rate))}else return I._node.currentTime;return h},playing:function(h){var p=this;if(typeof h=="number"){var y=p._soundById(h);return y?!y._paused:!1}for(var b=0;b<p._sounds.length;b++)if(!p._sounds[b]._paused)return!0;return!1},duration:function(h){var p=this,y=p._duration,b=p._soundById(h);return b&&(y=p._sprite[b._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,p=h._sounds,y=0;y<p.length;y++)p[y]._paused||h.stop(p[y]._id),h._webAudio||(h._clearSound(p[y]._node),p[y]._node.removeEventListener("error",p[y]._errorFn,!1),p[y]._node.removeEventListener(n._canPlayEvent,p[y]._loadFn,!1),p[y]._node.removeEventListener("ended",p[y]._endFn,!1),n._releaseHtml5Audio(p[y]._node)),delete p[y]._node,h._clearTimer(p[y]._id);var b=n._howls.indexOf(h);b>=0&&n._howls.splice(b,1);var T=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){T=!1;break}return s&&T&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,p,y,b){var T=this,E=T["_on"+h];return typeof p=="function"&&E.push(b?{id:y,fn:p,once:b}:{id:y,fn:p}),T},off:function(h,p,y){var b=this,T=b["_on"+h],E=0;if(typeof p=="number"&&(y=p,p=null),p||y)for(E=0;E<T.length;E++){var I=y===T[E].id;if(p===T[E].fn&&I||!p&&I){T.splice(E,1);break}}else if(h)b["_on"+h]=[];else{var C=Object.keys(b);for(E=0;E<C.length;E++)C[E].indexOf("_on")===0&&Array.isArray(b[C[E]])&&(b[C[E]]=[])}return b},once:function(h,p,y){var b=this;return b.on(h,p,y,1),b},_emit:function(h,p,y){for(var b=this,T=b["_on"+h],E=T.length-1;E>=0;E--)(!T[E].id||T[E].id===p||h==="load")&&(setTimeout(function(I){I.call(this,p,y)}.bind(b,T[E].fn),0),T[E].once&&b.off(h,T[E].fn,T[E].id));return b._loadQueue(h),b},_loadQueue:function(h){var p=this;if(p._queue.length>0){var y=p._queue[0];y.event===h&&(p._queue.shift(),p._loadQueue()),h||y.action()}return p},_ended:function(h){var p=this,y=h._sprite;if(!p._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(p._ended.bind(p,h),100),p;var b=!!(h._loop||p._sprite[y][2]);if(p._emit("end",h._id),!p._webAudio&&b&&p.stop(h._id,!0).play(h._id),p._webAudio&&b){p._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var T=(h._stop-h._start)*1e3/Math.abs(h._rate);p._endTimers[h._id]=setTimeout(p._ended.bind(p,h),T)}return p._webAudio&&!b&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,p._clearTimer(h._id),p._cleanBuffer(h._node),n._autoSuspend()),!p._webAudio&&!b&&p.stop(h._id,!0),p},_clearTimer:function(h){var p=this;if(p._endTimers[h]){if(typeof p._endTimers[h]!="function")clearTimeout(p._endTimers[h]);else{var y=p._soundById(h);y&&y._node&&y._node.removeEventListener("ended",p._endTimers[h],!1)}delete p._endTimers[h]}return p},_soundById:function(h){for(var p=this,y=0;y<p._sounds.length;y++)if(h===p._sounds[y]._id)return p._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var p=0;p<h._sounds.length;p++)if(h._sounds[p]._ended)return h._sounds[p].reset();return new o(h)},_drain:function(){var h=this,p=h._pool,y=0,b=0;if(!(h._sounds.length<p)){for(b=0;b<h._sounds.length;b++)h._sounds[b]._ended&&y++;for(b=h._sounds.length-1;b>=0;b--){if(y<=p)return;h._sounds[b]._ended&&(h._webAudio&&h._sounds[b]._node&&h._sounds[b]._node.disconnect(0),h._sounds.splice(b,1),y--)}}},_getSoundIds:function(h){var p=this;if(typeof h>"u"){for(var y=[],b=0;b<p._sounds.length;b++)y.push(p._sounds[b]._id);return y}else return[h]},_refreshBuffer:function(h){var p=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[p._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),p},_cleanBuffer:function(h){var p=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,p},_clearSound:function(h){var p=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);p||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,p._sounds.push(h),h.create(),h},create:function(){var h=this,p=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return p._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=p._src,h._node.preload=p._preload===!0?"auto":p._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,p=h._parent;p._duration=Math.ceil(h._node.duration*10)/10,Object.keys(p._sprite).length===0&&(p._sprite={__default:[0,p._duration*1e3]}),p._state!=="loaded"&&(p._state="loaded",p._emit("load"),p._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,p=h._parent;p._duration===1/0&&(p._duration=Math.ceil(h._node.duration*10)/10,p._sprite.__default[1]===1/0&&(p._sprite.__default[1]=p._duration*1e3),p._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var p=h._src;if(s[p]){h._duration=s[p].duration,d(h);return}if(/^data:[^;]+;base64,/.test(p)){for(var y=atob(p.split(",")[1]),b=new Uint8Array(y.length),T=0;T<y.length;++T)b[T]=y.charCodeAt(T);f(b.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,p,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(I){E.setRequestHeader(I,h._xhr.headers[I])}),E.onload=function(){var I=(E.status+"")[0];if(I!=="0"&&I!=="2"&&I!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[p],h.load())},c(E)}},c=function(h){try{h.send()}catch{h.onerror()}},f=function(h,p){var y=function(){p._emit("loaderror",null,"Decoding audio data failed.")},b=function(T){T&&p._sounds.length>0?(s[p._src]=T,d(p,T)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(b).catch(y):n.ctx.decodeAudioData(h,b,y)},d=function(h,p){p&&!h._duration&&(h._duration=p.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),p=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=p?parseInt(p[1],10):null;if(h&&y&&y<9){var b=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!b&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Hu<"u"?(Hu.HowlerGlobal=t,Hu.Howler=n,Hu.Howl=r,Hu.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,c){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,c=typeof c!="number"?d[5]:c,typeof n=="number")f._orientation=[n,r,o,s,u,c],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,c);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),c=0;c<u.length;c++){var f=o._soundById(u[c]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var c=n._getSoundIds(s),f=0;f<c.length;f++)if(u=n._soundById(c[f]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var g=u._panner;g?(g.coneInnerAngle=d.coneInnerAngle,g.coneOuterAngle=d.coneOuterAngle,g.coneOuterGain=d.coneOuterGain,g.distanceModel=d.distanceModel,g.maxDistance=d.maxDistance,g.refDistance=d.refDistance,g.rolloffFactor=d.rolloffFactor,g.panningModel=d.panningModel):(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Kv);const o1={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},Wv=ky("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof Kv.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Kv.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){!this.sound.playing||(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=o1.formatTime(this.sound.seek()),this.duration=o1.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),vq={name:"Player",methods:{...Qh(Wv,["toggleAudio","updateSeek"])},computed:{...Cy(Wv,["playing","duration","seek","playerProgress","current_song"])}},yq={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},_q={key:0,class:"text-center"},bq={class:"song-title font-bold"},wq=uo(" by "),Iq={class:"song-artist"},Tq={class:"flex flex-nowrap gap-4 items-center"},Eq={class:"player-currenttime"},Sq=G("i",{class:"fas fa-circle"},null,-1),Aq=[Sq],kq={class:"player-duration"};function Cq(e,t,n,r,o,s){return We(),st("div",yq,[e.current_song.modified_name?(We(),st("div",_q,[G("span",bq,_t(e.current_song.modified_name),1),wq,G("span",Iq,_t(e.current_song.display_name),1)])):ya("",!0),G("div",Tq,[G("button",{type:"button",onClick:t[0]||(t[0]=Qt((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[G("i",{class:Rn(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),G("div",Eq,_t(e.seek),1),G("div",{onClick:t[1]||(t[1]=Qt((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"])),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[G("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:va({left:e.playerProgress})},Aq,4),G("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:va({width:e.playerProgress})},null,4)]),G("div",kq,_t(e.duration),1)])])}const Nq=ur(vq,[["render",Cq]]);const Oq={name:"App",components:{AppHeader:S$,Auth:gq,AppPlayer:Nq},computed:{...lA(tu,["userLoggedIn"])},created(){ti.currentUser&&(this.userLoggedIn=!0)}};function xq(e,t,n,r,o,s){const u=St("app-header"),c=St("router-view"),f=St("app-player"),d=St("auth");return We(),st(Ft,null,[Se(u),Se(c,null,{default:Pn(({Component:g})=>[Se(Ay,{name:"fade",mode:"out-in"},{default:Pn(()=>[(We(),us(Gh(g)))]),_:2},1024)]),_:1}),Se(f),Se(d)],64)}const Rq=ur(Oq,[["render",xq]]);/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ua=typeof window<"u";function Pq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ft=Object.assign;function Vg(e,t){const n={};for(const r in t){const o=t[r];n[r]=Fr(o)?o.map(e):e(o)}return n}const cc=()=>{},Fr=Array.isArray,Dq=/\/$/,Lq=e=>e.replace(Dq,"");function Ug(e,t,n="/"){let r,o={},s="",u="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,c>-1?c:t.length),o=e(s)),c>-1&&(r=r||t.slice(0,c),u=t.slice(c,t.length)),r=Uq(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function Fq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function s1(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Mq(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ua(t.matched[r],n.matched[o])&&xN(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ua(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function xN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Vq(e[n],t[n]))return!1;return!0}function Vq(e,t){return Fr(e)?a1(e,t):Fr(t)?a1(t,e):e===t}function a1(e,t){return Fr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Uq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o=n.length-1,s,u;for(s=0;s<r.length;s++)if(u=r[s],u!==".")if(u==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var jc;(function(e){e.pop="pop",e.push="push"})(jc||(jc={}));var lc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(lc||(lc={}));function jq(e){if(!e)if(ua){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Lq(e)}const Bq=/^[^#]+#/;function $q(e,t){return e.replace(Bq,"#")+t}function qq(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Dd=()=>({left:window.pageXOffset,top:window.pageYOffset});function Hq(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=qq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function u1(e,t){return(history.state?history.state.position-t:-1)+e}const Gv=new Map;function Kq(e,t){Gv.set(e,t)}function Wq(e){const t=Gv.get(e);return Gv.delete(e),t}let Gq=()=>location.protocol+"//"+location.host;function RN(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let c=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(c);return f[0]!=="/"&&(f="/"+f),s1(f,"")}return s1(n,e)+r+o}function zq(e,t,n,r){let o=[],s=[],u=null;const c=({state:p})=>{const y=RN(e,location),b=n.value,T=t.value;let E=0;if(p){if(n.value=y,t.value=p,u&&u===b){u=null;return}E=T?p.position-T.position:0}else r(y);o.forEach(I=>{I(n.value,b,{delta:E,type:jc.pop,direction:E?E>0?lc.forward:lc.back:lc.unknown})})};function f(){u=n.value}function d(p){o.push(p);const y=()=>{const b=o.indexOf(p);b>-1&&o.splice(b,1)};return s.push(y),y}function g(){const{history:p}=window;!p.state||p.replaceState(ft({},p.state,{scroll:Dd()}),"")}function h(){for(const p of s)p();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g),{pauseListeners:f,listen:d,destroy:h}}function c1(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Dd():null}}function Yq(e){const{history:t,location:n}=window,r={value:RN(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,g){const h=e.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:Gq()+e+f;try{t[g?"replaceState":"pushState"](d,"",p),o.value=d}catch(y){console.error(y),n[g?"replace":"assign"](p)}}function u(f,d){const g=ft({},t.state,c1(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,g,!0),r.value=f}function c(f,d){const g=ft({},o.value,t.state,{forward:f,scroll:Dd()});s(g.current,g,!0);const h=ft({},c1(r.value,f,null),{position:g.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:c,replace:u}}function Xq(e){e=jq(e);const t=Yq(e),n=zq(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ft({location:"",base:e,go:r,createHref:$q.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Qq(e){return typeof e=="string"||e&&typeof e=="object"}function PN(e){return typeof e=="string"||typeof e=="symbol"}const $i={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},DN=Symbol("");var l1;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(l1||(l1={}));function ja(e,t){return ft(new Error,{type:e,[DN]:!0},t)}function qi(e,t){return e instanceof Error&&DN in e&&(t==null||!!(e.type&t))}const f1="[^/]+?",Jq={sensitive:!1,strict:!1,start:!0,end:!0},Zq=/[.+*?^${}()[\]/\\]/g;function e3(e,t){const n=ft({},Jq,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const p=d[h];let y=40+(n.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(Zq,"\\$&"),y+=40;else if(p.type===1){const{value:b,repeatable:T,optional:E,regexp:I}=p;s.push({name:b,repeatable:T,optional:E});const C=I||f1;if(C!==f1){y+=10;try{new RegExp(`(${C})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${b}" (${C}): `+k.message)}}let N=T?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(N=E&&d.length<2?`(?:/${N})`:"/"+N),E&&(N+="?"),o+=N,y+=20,E&&(y+=-8),T&&(y+=-20),C===".*"&&(y+=-50)}g.push(y)}r.push(g)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function c(d){const g=d.match(u),h={};if(!g)return null;for(let p=1;p<g.length;p++){const y=g[p]||"",b=s[p-1];h[b.name]=y&&b.repeatable?y.split("/"):y}return h}function f(d){let g="",h=!1;for(const p of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const y of p)if(y.type===0)g+=y.value;else if(y.type===1){const{value:b,repeatable:T,optional:E}=y,I=b in d?d[b]:"";if(Fr(I)&&!T)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const C=Fr(I)?I.join("/"):I;if(!C)if(E)p.length<2&&e.length>1&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);g+=C}}return g}return{re:u,score:r,keys:s,parse:c,stringify:f}}function t3(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function n3(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=t3(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(h1(r))return 1;if(h1(o))return-1}return o.length-r.length}function h1(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const r3={type:0,value:""},i3=/[a-zA-Z0-9_]/;function o3(e){if(!e)return[[]];if(e==="/")return[[r3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let c=0,f,d="",g="";function h(){!d||(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),u()):f===":"?(h(),n=1):p();break;case 4:p(),n=r;break;case 1:f==="("?n=2:i3.test(f)?p():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),u(),o}function s3(e,t,n){const r=e3(o3(e.path),n),o=ft(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function a3(e,t){const n=[],r=new Map;t=p1({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,p){const y=!p,b=c3(g);b.aliasOf=p&&p.record;const T=p1(t,g),E=[b];if("alias"in g){const N=typeof g.alias=="string"?[g.alias]:g.alias;for(const k of N)E.push(ft({},b,{components:p?p.record.components:b.components,path:k,aliasOf:p?p.record:b}))}let I,C;for(const N of E){const{path:k}=N;if(h&&k[0]!=="/"){const j=h.record.path,M=j[j.length-1]==="/"?"":"/";N.path=h.record.path+(k&&M+k)}if(I=s3(N,h,T),p?p.alias.push(I):(C=C||I,C!==I&&C.alias.push(I),y&&g.name&&!d1(I)&&u(g.name)),b.children){const j=b.children;for(let M=0;M<j.length;M++)s(j[M],I,p&&p.children[M])}p=p||I,f(I)}return C?()=>{u(C)}:cc}function u(g){if(PN(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function c(){return n}function f(g){let h=0;for(;h<n.length&&n3(g,n[h])>=0&&(g.record.path!==n[h].record.path||!LN(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!d1(g)&&r.set(g.record.name,g)}function d(g,h){let p,y={},b,T;if("name"in g&&g.name){if(p=r.get(g.name),!p)throw ja(1,{location:g});T=p.record.name,y=ft(u3(h.params,p.keys.filter(C=>!C.optional).map(C=>C.name)),g.params),b=p.stringify(y)}else if("path"in g)b=g.path,p=n.find(C=>C.re.test(b)),p&&(y=p.parse(b),T=p.record.name);else{if(p=h.name?r.get(h.name):n.find(C=>C.re.test(h.path)),!p)throw ja(1,{location:g,currentLocation:h});T=p.record.name,y=ft({},h.params,g.params),b=p.stringify(y)}const E=[];let I=p;for(;I;)E.unshift(I.record),I=I.parent;return{name:T,path:b,params:y,matched:E,meta:f3(E)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:c,getRecordMatcher:o}}function u3(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function c3(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:l3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function l3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function d1(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function f3(e){return e.reduce((t,n)=>ft(t,n.meta),{})}function p1(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function LN(e,t){return t.children.some(n=>n===e||LN(e,n))}const FN=/#/g,h3=/&/g,d3=/\//g,p3=/=/g,m3=/\?/g,MN=/\+/g,g3=/%5B/g,v3=/%5D/g,VN=/%5E/g,y3=/%60/g,UN=/%7B/g,_3=/%7C/g,jN=/%7D/g,b3=/%20/g;function z_(e){return encodeURI(""+e).replace(_3,"|").replace(g3,"[").replace(v3,"]")}function w3(e){return z_(e).replace(UN,"{").replace(jN,"}").replace(VN,"^")}function zv(e){return z_(e).replace(MN,"%2B").replace(b3,"+").replace(FN,"%23").replace(h3,"%26").replace(y3,"`").replace(UN,"{").replace(jN,"}").replace(VN,"^")}function I3(e){return zv(e).replace(p3,"%3D")}function T3(e){return z_(e).replace(FN,"%23").replace(m3,"%3F")}function E3(e){return e==null?"":T3(e).replace(d3,"%2F")}function Oh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function S3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(MN," "),u=s.indexOf("="),c=Oh(u<0?s:s.slice(0,u)),f=u<0?null:Oh(s.slice(u+1));if(c in t){let d=t[c];Fr(d)||(d=t[c]=[d]),d.push(f)}else t[c]=f}return t}function m1(e){let t="";for(let n in e){const r=e[n];if(n=I3(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Fr(r)?r.map(s=>s&&zv(s)):[r&&zv(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function A3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Fr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const k3=Symbol(""),g1=Symbol(""),Y_=Symbol(""),BN=Symbol(""),Yv=Symbol("");function Ku(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Yi(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,c)=>{const f=h=>{h===!1?c(ja(4,{from:n,to:t})):h instanceof Error?c(h):Qq(h)?c(ja(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},d=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(d);e.length<3&&(g=g.then(f)),g.catch(h=>c(h))})}function jg(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let c=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(C3(c)){const d=(c.__vccOpts||c)[t];d&&o.push(Yi(d,n,r,s,u))}else{let f=c();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=Pq(d)?d.default:d;s.components[u]=g;const p=(g.__vccOpts||g)[t];return p&&Yi(p,n,r,s,u)()}))}}return o}function C3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function v1(e){const t=yr(Y_),n=yr(BN),r=Ge(()=>t.resolve(pe(e.to))),o=Ge(()=>{const{matched:f}=r.value,{length:d}=f,g=f[d-1],h=n.matched;if(!g||!h.length)return-1;const p=h.findIndex(Ua.bind(null,g));if(p>-1)return p;const y=y1(f[d-2]);return d>1&&y1(g)===y&&h[h.length-1].path!==y?h.findIndex(Ua.bind(null,f[d-2])):p}),s=Ge(()=>o.value>-1&&R3(n.params,r.value.params)),u=Ge(()=>o.value>-1&&o.value===n.matched.length-1&&xN(n.params,r.value.params));function c(f={}){return x3(f)?t[pe(e.replace)?"replace":"push"](pe(e.to)).catch(cc):Promise.resolve()}return{route:r,href:Ge(()=>r.value.href),isActive:s,isExactActive:u,navigate:c}}const N3=Ka({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:v1,setup(e,{slots:t}){const n=Ti(v1(e)),{options:r}=yr(Y_),o=Ge(()=>({[_1(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_1(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ir("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),O3=N3;function x3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function R3(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Fr(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function y1(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _1=(e,t,n)=>e!=null?e:t!=null?t:n,P3=Ka({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=yr(Yv),o=Ge(()=>e.route||r.value),s=yr(g1,0),u=Ge(()=>{let d=pe(s);const{matched:g}=o.value;let h;for(;(h=g[d])&&!h.components;)d++;return d}),c=Ge(()=>o.value.matched[u.value]);pa(g1,Ge(()=>u.value+1)),pa(k3,c),pa(Yv,o);const f=Jt();return un(()=>[f.value,c.value,e.name],([d,g,h],[p,y,b])=>{g&&(g.instances[h]=d,y&&y!==g&&d&&d===p&&(g.leaveGuards.size||(g.leaveGuards=y.leaveGuards),g.updateGuards.size||(g.updateGuards=y.updateGuards))),d&&g&&(!y||!Ua(g,y)||!p)&&(g.enterCallbacks[h]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,g=c.value,h=g&&g.components[e.name],p=e.name;if(!h)return b1(n.default,{Component:h,route:d});const y=g.props[e.name],b=y?y===!0?d.params:typeof y=="function"?y(d):y:null,E=ir(h,ft({},b,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(g.instances[p]=null)},ref:f}));return b1(n.default,{Component:E,route:d})||E}}});function b1(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const D3=P3;function L3(e){const t=a3(e.routes,e),n=e.parseQuery||S3,r=e.stringifyQuery||m1,o=e.history,s=Ku(),u=Ku(),c=Ku(),f=YD($i);let d=$i;ua&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Vg.bind(null,Y=>""+Y),h=Vg.bind(null,E3),p=Vg.bind(null,Oh);function y(Y,ce){let re,ie;return PN(Y)?(re=t.getRecordMatcher(Y),ie=ce):ie=Y,t.addRoute(ie,re)}function b(Y){const ce=t.getRecordMatcher(Y);ce&&t.removeRoute(ce)}function T(){return t.getRoutes().map(Y=>Y.record)}function E(Y){return!!t.getRecordMatcher(Y)}function I(Y,ce){if(ce=ft({},ce||f.value),typeof Y=="string"){const L=Ug(n,Y,ce.path),A=t.resolve({path:L.path},ce),O=o.createHref(L.fullPath);return ft(L,A,{params:p(A.params),hash:Oh(L.hash),redirectedFrom:void 0,href:O})}let re;if("path"in Y)re=ft({},Y,{path:Ug(n,Y.path,ce.path).path});else{const L=ft({},Y.params);for(const A in L)L[A]==null&&delete L[A];re=ft({},Y,{params:h(Y.params)}),ce.params=h(ce.params)}const ie=t.resolve(re,ce),je=Y.hash||"";ie.params=g(p(ie.params));const Ye=Fq(r,ft({},Y,{hash:w3(je),path:ie.path})),D=o.createHref(Ye);return ft({fullPath:Ye,hash:je,query:r===m1?A3(Y.query):Y.query||{}},ie,{redirectedFrom:void 0,href:D})}function C(Y){return typeof Y=="string"?Ug(n,Y,f.value.path):ft({},Y)}function N(Y,ce){if(d!==Y)return ja(8,{from:ce,to:Y})}function k(Y){return q(Y)}function j(Y){return k(ft(C(Y),{replace:!0}))}function M(Y){const ce=Y.matched[Y.matched.length-1];if(ce&&ce.redirect){const{redirect:re}=ce;let ie=typeof re=="function"?re(Y):re;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=C(ie):{path:ie},ie.params={}),ft({query:Y.query,hash:Y.hash,params:"path"in ie?{}:Y.params},ie)}}function q(Y,ce){const re=d=I(Y),ie=f.value,je=Y.state,Ye=Y.force,D=Y.replace===!0,L=M(re);if(L)return q(ft(C(L),{state:je,force:Ye,replace:D}),ce||re);const A=re;A.redirectedFrom=ce;let O;return!Ye&&Mq(r,ie,re)&&(O=ja(16,{to:A,from:ie}),bt(ie,ie,!0,!1)),(O?Promise.resolve(O):z(A,ie)).catch(B=>qi(B)?qi(B,2)?B:rt(B):De(B,A,ie)).then(B=>{if(B){if(qi(B,2))return q(ft(C(B.to),{state:je,force:Ye,replace:D}),ce||A)}else B=me(A,ie,!0,D,je);return P(A,ie,B),B})}function $(Y,ce){const re=N(Y,ce);return re?Promise.reject(re):Promise.resolve()}function z(Y,ce){let re;const[ie,je,Ye]=F3(Y,ce);re=jg(ie.reverse(),"beforeRouteLeave",Y,ce);for(const L of ie)L.leaveGuards.forEach(A=>{re.push(Yi(A,Y,ce))});const D=$.bind(null,Y,ce);return re.push(D),na(re).then(()=>{re=[];for(const L of s.list())re.push(Yi(L,Y,ce));return re.push(D),na(re)}).then(()=>{re=jg(je,"beforeRouteUpdate",Y,ce);for(const L of je)L.updateGuards.forEach(A=>{re.push(Yi(A,Y,ce))});return re.push(D),na(re)}).then(()=>{re=[];for(const L of Y.matched)if(L.beforeEnter&&!ce.matched.includes(L))if(Fr(L.beforeEnter))for(const A of L.beforeEnter)re.push(Yi(A,Y,ce));else re.push(Yi(L.beforeEnter,Y,ce));return re.push(D),na(re)}).then(()=>(Y.matched.forEach(L=>L.enterCallbacks={}),re=jg(Ye,"beforeRouteEnter",Y,ce),re.push(D),na(re))).then(()=>{re=[];for(const L of u.list())re.push(Yi(L,Y,ce));return re.push(D),na(re)}).catch(L=>qi(L,8)?L:Promise.reject(L))}function P(Y,ce,re){for(const ie of c.list())ie(Y,ce,re)}function me(Y,ce,re,ie,je){const Ye=N(Y,ce);if(Ye)return Ye;const D=ce===$i,L=ua?history.state:{};re&&(ie||D?o.replace(Y.fullPath,ft({scroll:D&&L&&L.scroll},je)):o.push(Y.fullPath,je)),f.value=Y,bt(Y,ce,re,D),rt()}let ne;function Ne(){ne||(ne=o.listen((Y,ce,re)=>{if(!$e.listening)return;const ie=I(Y),je=M(ie);if(je){q(ft(je,{replace:!0}),ie).catch(cc);return}d=ie;const Ye=f.value;ua&&Kq(u1(Ye.fullPath,re.delta),Dd()),z(ie,Ye).catch(D=>qi(D,12)?D:qi(D,2)?(q(D.to,ie).then(L=>{qi(L,20)&&!re.delta&&re.type===jc.pop&&o.go(-1,!1)}).catch(cc),Promise.reject()):(re.delta&&o.go(-re.delta,!1),De(D,ie,Ye))).then(D=>{D=D||me(ie,Ye,!1),D&&(re.delta?o.go(-re.delta,!1):re.type===jc.pop&&qi(D,20)&&o.go(-1,!1)),P(ie,Ye,D)}).catch(cc)}))}let Oe=Ku(),Pe=Ku(),xe;function De(Y,ce,re){rt(Y);const ie=Pe.list();return ie.length?ie.forEach(je=>je(Y,ce,re)):console.error(Y),Promise.reject(Y)}function Te(){return xe&&f.value!==$i?Promise.resolve():new Promise((Y,ce)=>{Oe.add([Y,ce])})}function rt(Y){return xe||(xe=!Y,Ne(),Oe.list().forEach(([ce,re])=>Y?re(Y):ce()),Oe.reset()),Y}function bt(Y,ce,re,ie){const{scrollBehavior:je}=e;if(!ua||!je)return Promise.resolve();const Ye=!re&&Wq(u1(Y.fullPath,0))||(ie||!re)&&history.state&&history.state.scroll||null;return eo().then(()=>je(Y,ce,Ye)).then(D=>D&&Hq(D)).catch(D=>De(D,Y,ce))}const pt=Y=>o.go(Y);let Ct;const ue=new Set,$e={currentRoute:f,listening:!0,addRoute:y,removeRoute:b,hasRoute:E,getRoutes:T,resolve:I,options:e,push:k,replace:j,go:pt,back:()=>pt(-1),forward:()=>pt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:c.add,onError:Pe.add,isReady:Te,install(Y){const ce=this;Y.component("RouterLink",O3),Y.component("RouterView",D3),Y.config.globalProperties.$router=ce,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>pe(f)}),ua&&!Ct&&f.value===$i&&(Ct=!0,k(o.location).catch(je=>{}));const re={};for(const je in $i)re[je]=Ge(()=>f.value[je]);Y.provide(Y_,ce),Y.provide(BN,Ti(re)),Y.provide(Yv,f);const ie=Y.unmount;ue.add(Y),Y.unmount=function(){ue.delete(Y),ue.size<1&&(d=$i,ne&&ne(),ne=null,f.value=$i,Ct=!1,xe=!1),ie()}}};return $e}function na(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function F3(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const c=t.matched[u];c&&(e.matched.find(d=>Ua(d,c))?r.push(c):n.push(c));const f=e.matched[u];f&&(t.matched.find(d=>Ua(d,f))||o.push(f))}return[n,r,o]}const M3={name:"SongItem",props:["song"]},V3={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},U3={class:"text-gray-500 text-sm"},j3={class:"text-gray-600 text-lg"},B3=["onClick"],$3=G("i",{class:"fa fa-comments text-gray-600"},null,-1);function q3(e,t,n,r,o,s){const u=St("router-link");return We(),st("li",V3,[G("div",null,[Se(u,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:Pn(()=>[uo(_t(n.song.modified_name),1)]),_:1},8,["to"]),G("span",U3,_t(n.song.display_name),1)]),G("div",j3,[Se(u,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:Pn(({navigate:c})=>[G("span",{class:"comments",onClick:c},[$3,uo(" "+_t(n.song.comment_count),1)],8,B3)]),_:1},8,["to"])])])}const H3=ur(M3,[["render",q3]]),K3={beforeMount(e,t){let n=`fa fa-${t.value.icon} text-green-400 text-xl`;t.value.right&&(n+=" float-right"),e.innerHTML+=`<i class="${n}"></i>`}},W3="/assets/img/introduction-music.png",G3={name:"Home",components:{AppSongItem:H3},directives:{"icon-secondary":K3},data(){return{songs:[],maxPerPage:25,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await bi.doc(this.songs[this.songs.length-1].docID).get();e=await bi.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get()}else e=await bi.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})}),this.pendingRequest=!1}}},z3={class:"mb-8 py-20 text-white text-center relative"},Y3=G("div",{class:"absolute inset-0 w-full h-full bg-contain introduction-bg",style:{"background-image":"url(assets/img/header.png)"}},null,-1),X3={class:"container mx-auto"},Q3={class:"text-white main-header-content"},J3={class:"font-bold text-5xl mb-5"},Z3=G("p",{class:"w-full md:w-8/12 mx-auto"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. ",-1),e4=G("img",{class:"relative block mx-auto mt-5 -mb-20 w-auto max-w-full",src:W3},null,-1),t4={class:"container mx-auto"},n4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},r4={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},i4=G("span",{class:"card-title"},"Songs",-1),o4=[i4],s4={id:"playlist"};function a4(e,t,n,r,o,s){const u=St("app-song-item"),c=PL("icon-secondary");return We(),st("main",null,[G("section",z3,[Y3,G("div",X3,[G("div",Q3,[G("h1",J3,_t(e.$t("home.listen")),1),Z3])]),e4]),G("section",t4,[G("div",n4,[Jf((We(),st("div",r4,o4)),[[c,{icon:"headphones-alt",right:!0}]]),G("ol",s4,[(We(!0),st(Ft,null,Hc(o.songs,f=>(We(),us(u,{key:f.docID,song:f},null,8,["song"]))),128))])])])])}const u4=ur(G3,[["render",a4]]),c4={},l4={class:"about"},f4=G("h1",null,"This is an about page",-1),h4=[f4];function d4(e,t){return We(),st("div",l4,h4)}const p4=ur(c4,[["render",d4]]),m4={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;if(!navigator.onLine){this.uploads.push({task:{},current_progress:"100",name:n.name,variant:"bg-red-400",icon:"fas fa-times",text_class:"text-red-400"});return}const s=ON.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;this.uploads[u].current_progress=f},c=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400",console.log(c)},async()=>{const c={uid:ti.currentUser.uid,display_name:ti.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};c.url=await s.snapshot.ref.getDownloadURL();const d=await(await bi.add(c)).get();this.addSong(d),this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400"})})},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},g4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},v4=G("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[G("span",{class:"card-title"},"Upload"),G("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),y4={class:"p-6"},_4=G("h5",null,"Drop your files here",-1),b4=[_4],w4=G("hr",{class:"my-6"},null,-1),I4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function T4(e,t,n,r,o,s){return We(),st("div",g4,[v4,G("div",y4,[G("div",{class:Rn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Qt(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Qt(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Qt(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Qt(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Qt(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Qt(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Qt(u=>s.upload(u),["prevent","stop"]))},b4,34),G("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=u=>s.upload(u))},null,32),w4,(We(!0),st(Ft,null,Hc(o.uploads,u=>(We(),st("div",{class:"mb-4",key:u.name},[G("div",{class:Rn(["font-bold text-sm",u.text_class])},[G("i",{class:Rn(u.icon)},null,2),uo(" "+_t(u.name),1)],2),G("div",I4,[G("div",{class:Rn([u.variant,"transition-all progress-bar"]),style:va({width:`${u.current_progress}%`})},null,6)])]))),128))])])}const E4=ur(m4,[["render",T4]]),S4={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info";try{await bi.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await ON.ref().child(`songs/${this.song.original_name}`).delete(),await bi.doc(this.song.docID).delete(),this.removeSong(this.index)}}},A4={class:"border border-gray-200 p-3 mb-4 rounded"},k4={class:"inline-block text-2xl font-bold"},C4=G("i",{class:"fa fa-times"},null,-1),N4=[C4],O4=G("i",{class:"fa fa-pencil-alt"},null,-1),x4=[O4],R4={class:"mb-3"},P4=G("label",{class:"inline-block mb-2"},"Song Title",-1),D4={class:"mb-3"},L4=G("label",{class:"inline-block mb-2"},"Genre",-1),F4=["disabled"],M4=["disabled"];function V4(e,t,n,r,o,s){const u=St("vee-field"),c=St("ErrorMessage"),f=St("vee-form");return We(),st("div",A4,[Jf(G("div",null,[G("h4",k4,_t(n.song.modified_name),1),G("button",{onClick:t[0]||(t[0]=Qt((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},N4),G("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=Qt(d=>o.showForm=!o.showForm,["prevent"]))},x4)],512),[[IT,!o.showForm]]),Jf(G("div",null,[o.show_alert?(We(),st("div",{key:0,class:Rn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},_t(o.alert_message),3)):ya("",!0),Se(f,{onSubmit:s.edit,"validation-schema":o.schema,"initial-values":n.song},{default:Pn(()=>[G("div",R4,[P4,Se(u,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Se(c,{class:"text-red-600",name:"modified_name"})]),G("div",D4,[L4,Se(u,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Se(c,{class:"text-red-600",name:"genre"})]),G("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,F4),G("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Qt(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,M4)]),_:1},8,["onSubmit","validation-schema","initial-values"])],512),[[IT,o.showForm]])])}const U4=ur(S4,[["render",V4]]),j4={name:"Manage",components:{AppUpload:E4,CompositionItem:U4},data(){return{songs:[],unsavedFlag:!1}},async created(){(await bi.where("uid","==",ti.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},B4={class:"container mx-auto mt-6"},$4={class:"md:grid md:grid-cols-3 md:gap-4"},q4={class:"col-span-1"},H4={class:"col-span-2"},K4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},W4={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},G4={class:"card-title"},z4=G("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"},null,-1),Y4={class:"p-6"};function X4(e,t,n,r,o,s){const u=St("app-upload"),c=St("composition-item");return We(),st("main",null,[G("section",B4,[G("div",$4,[G("div",q4,[Se(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),G("div",H4,[G("div",K4,[G("div",W4,[G("span",G4,_t(e.$t("manage.my_songs")),1),z4]),G("div",Y4,[(We(!0),st(Ft,null,Hc(o.songs,(f,d)=>(We(),us(c,{key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])])}const Q4=ur(j4,[["render",X4]]),J4={name:"Song",data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submitted",comments:[],sort:"1"}},computed:{...Cy(tu,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await bi.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{...Qh(Wv,["newSong"]),async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:ti.currentUser.displayName,uid:ti.currentUser.uid};await i1.add(n),this.song.comment_count+=1,await bi.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await i1.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},Z4={class:"w-full mb-8 py-14 text-center text-white relative"},eH=G("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),tH={class:"container mx-auto flex items-center"},nH=G("i",{class:"fas fa-play"},null,-1),rH=[nH],iH={class:"z-50 text-left ml-8"},oH={class:"text-3xl font-bold"},sH={class:"song-price"},aH={class:"container mx-auto mt-6",id:"comments"},uH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},cH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},lH={class:"card-title"},fH=G("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),hH={class:"p-6"},dH=["disabled"],pH=G("option",{value:"1"},"Latest",-1),mH=G("option",{value:"2"},"Oldest",-1),gH=[pH,mH],vH={class:"container mx-auto"},yH={class:"mb-5"},_H={class:"font-bold"};function bH(e,t,n,r,o,s){const u=St("vee-field"),c=St("ErrorMessage"),f=St("vee-form");return We(),st("main",null,[G("section",Z4,[eH,G("div",tH,[G("button",{onClick:t[0]||(t[0]=Qt(d=>e.newSong(o.song),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},rH),G("div",iH,[G("div",oH,_t(o.song.modified_name),1),G("div",null,_t(o.song.genre),1),G("div",sH,_t(e.$n(1,"currency","ja")),1)])])]),G("section",aH,[G("div",uH,[G("div",cH,[G("span",lH,_t(e.$tc("song.comment_count",o.song.comment_count,{count:o.song.comment_count})),1),fH]),G("div",hH,[o.comment_show_alert?(We(),st("div",{key:0,class:Rn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},_t(o.comment_alert_message),3)):ya("",!0),e.userLoggedIn?(We(),us(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment},{default:Pn(()=>[Se(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Se(c,{class:"text-red-600",name:"comment"}),G("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,dH)]),_:1},8,["validation-schema","onSubmit"])):ya("",!0),Jf(G("select",{"onUpdate:modelValue":t[1]||(t[1]=d=>o.sort=d),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},gH,512),[[DF,o.sort]])])])]),G("ul",vH,[(We(!0),st(Ft,null,Hc(s.sortedComments,d=>(We(),st("li",{class:"p-6 bg-gray-50 border border-gray-200",key:d.docID},[G("div",yH,[G("div",_H,_t(d.name),1),G("time",null,_t(d.datePosted),1)]),G("p",null,_t(d.content),1)]))),128))])])}const wH=ur(J4,[["render",bH]]),IH=[{name:"home",path:"/",component:u4},{name:"about",path:"/about",component:p4},{name:"manage",path:"/manage-music",component:Q4,beforeEnter(e,t,n){console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:wH},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],$N=L3({history:Xq("/"),routes:IH,linkExactActiveClass:"text-yellow-500"});$N.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}tu().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.6.2
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function gs(e){return typeof e=="function"}function fc(e){return e==null}const vs=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function qN(e){return Number(e)>=0}function TH(e){const t=parseFloat(e);return isNaN(t)?e:t}const HN={};function Ar(e,t){SH(e,t),HN[e]=t}function EH(e){return HN[e]}function SH(e,t){if(!gs(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Cs=Symbol("vee-validate-form"),AH=Symbol("vee-validate-field-instance"),xh=Symbol("Default empty value");function Xv(e){return gs(e)&&!!e.__locatorRef}function hc(e){return!!e&&gs(e.validate)}function Ba(e){return e==="checkbox"||e==="radio"}function kH(e){return vs(e)||Array.isArray(e)}function KN(e){return Array.isArray(e)?e.length===0:vs(e)&&Object.keys(e).length===0}function Ld(e){return/^\[.+\]$/i.test(e)}function CH(e){return WN(e)&&e.multiple}function WN(e){return e.tagName==="SELECT"}function NH(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function OH(e,t){return!NH(e,t)&&t.type!=="file"&&!Ba(t.type)}function GN(e){return X_(e)&&e.target&&"submit"in e.target}function X_(e){return e?!!(typeof Event<"u"&&gs(Event)&&e instanceof Event||e&&e.srcElement):!1}function w1(e,t){return t in e&&e[t]!==xh}function Q_(e){return Ld(e)?e.replace(/\[|\]/gi,""):e}function Lt(e,t,n){return e?Ld(t)?e[Q_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>kH(o)&&s in o?o[s]:n,e):n}function Wo(e,t,n){if(Ld(t)){e[Q_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||fc(o[r[s]]))&&(o[r[s]]=qN(r[s+1])?[]:{}),o=o[r[s]]}}function Bg(e,t){if(Array.isArray(e)&&qN(t)){e.splice(Number(t),1);return}vs(e)&&delete e[t]}function $g(e,t){if(Ld(t)){delete e[Q_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Bg(r,n[s]);break}if(!(n[s]in r)||fc(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Lt(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(!!KN(o[s])){if(s===0){Bg(e,n[0]);continue}Bg(o[s-1],n[s-1])}}function mn(e){return Object.keys(e)}function fl(e,t=void 0){const n=ri();return(n==null?void 0:n.provides[e])||yr(e,t)}function qg(e){SS(`[vee-validate]: ${e}`)}function Qv(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.indexOf(t);return o>=0?r.splice(o,1):r.push(t),r}return e===t?n:t}function I1(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function xH(e,t){if(!!vs(t))return t.number?TH(e):e}const Fd=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function Hg(e){if(zN(e))return e._value}function zN(e){return"_value"in e}function J_(e){if(!X_(e))return e;const t=e.target;if(Ba(t.type)&&zN(t))return Hg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(CH(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Hg);if(WN(t)){const n=Array.from(t.options).find(r=>r.selected);return n?Hg(n):t.value}return t.value}function YN(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?vs(e)&&e._$$isNormalized?e:vs(e)?Object.keys(e).reduce((n,r)=>{const o=RH(e[r]);return e[r]!==!1&&(n[r]=T1(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=PH(r);return o.name&&(n[o.name]=T1(o.params)),n},t):t}function RH(e){return e===!0?[]:Array.isArray(e)||vs(e)?e:[e]}function T1(e){const t=n=>typeof n=="string"&&n[0]==="@"?DH(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const PH=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function DH(e){const t=n=>Lt(n,e)||n[e];return t.__locatorRef=e,t}function LH(e){return Array.isArray(e)?e.filter(Xv):mn(e).filter(t=>Xv(e[t])).map(t=>e[t])}const FH={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Jv=Object.assign({},FH);const Z_=()=>Jv,MH=e=>{Jv=Object.assign(Object.assign({},Jv),e)},VH=MH;async function XN(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,bails:r!=null?r:!0,formData:(n==null?void 0:n.values)||{}},u=(await UH(o,e)).errors;return{errors:u,valid:!u.length}}async function UH(e,t){if(hc(e.rules))return jH(t,e.rules,{bails:e.bails});if(gs(e.rules)||Array.isArray(e.rules)){const u={field:e.name,form:e.formData,value:t},c=Array.isArray(e.rules)?e.rules:[e.rules],f=c.length,d=[];for(let g=0;g<f;g++){const h=c[g],p=await h(t,u);if(typeof p!="string"&&p)continue;const b=typeof p=="string"?p:QN(u);if(d.push(b),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:YN(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const c=o[u],f=await BH(n,t,{name:c,params:n.rules[c]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}async function jH(e,t,n){var r;return{errors:await t.validate(e,{abortEarly:(r=n.bails)!==null&&r!==void 0?r:!0}).then(()=>[]).catch(s=>{if(s.name==="ValidationError")return s.errors;throw s})}}async function BH(e,t,n){const r=EH(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=$H(n.params,e.formData),s={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:QN(s)}}function QN(e){const t=Z_().generateMessage;return t?t(e):"Field is invalid"}function $H(e,t){const n=r=>Xv(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function qH(e,t){const n=await e.validate(t,{abortEarly:!1}).then(()=>[]).catch(s=>{if(s.name!=="ValidationError")throw s;return s.inner||[]}),r={},o={};for(const s of n){const u=s.errors;r[s.path]={valid:!u.length,errors:u},u.length&&(o[s.path]=u[0])}return{valid:!n.length,results:r,errors:o}}async function HH(e,t,n){const o=mn(e).map(async d=>{var g,h,p;const y=await XN(Lt(t,d),e[d],{name:((g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d])||d,values:t,bails:(p=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&p!==void 0?p:!0});return Object.assign(Object.assign({},y),{path:d})});let s=!0;const u=await Promise.all(o),c={},f={};for(const d of u)c[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:c,errors:f}}function E1(e,t,n){typeof n.value=="object"&&(n.value=Bt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Bt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(Bt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,c){o.set(Bt(c),Bt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(Bt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)E1(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||E1(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}var oo=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var u=s[o];if(!e(t[u],n[u]))return!1}return!0}return t!==t&&n!==n};let S1=0;function KH(e,t){const{value:n,initialValue:r,setInitialValue:o}=JN(e,t.modelValue,!t.standalone),{errorMessage:s,errors:u,setErrors:c}=GH(e,!t.standalone),f=WH(n,r,u),d=S1>=Number.MAX_SAFE_INTEGER?0:++S1;function g(h){var p;"value"in h&&(n.value=h.value),"errors"in h&&c(h.errors),"touched"in h&&(f.touched=(p=h.touched)!==null&&p!==void 0?p:f.touched),"initialValue"in h&&o(h.initialValue)}return{id:d,path:e,value:n,initialValue:r,meta:f,errors:u,errorMessage:s,setState:g}}function JN(e,t,n=!0){const r=n===!0?fl(Cs,void 0):void 0,o=Jt(pe(t));function s(){return r?Lt(r.meta.value.initialValues,pe(e),pe(o)):pe(o)}function u(g){if(!r){o.value=g;return}r.setFieldInitialValue(pe(e),g)}const c=Ge(s);if(!r)return{value:Jt(s()),initialValue:c,setInitialValue:u};const f=t?pe(t):Lt(r.values,pe(e),pe(c));return r.stageInitialValue(pe(e),f,!0),{value:Ge({get(){return Lt(r.values,pe(e))},set(g){r.setFieldValue(pe(e),g)}}),initialValue:c,setInitialValue:u}}function WH(e,t,n){const r=Ti({touched:!1,pending:!1,valid:!0,validated:!!pe(n).length,initialValue:Ge(()=>pe(t)),dirty:Ge(()=>!oo(pe(e),pe(t)))});return un(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function GH(e,t){const n=t?fl(Cs,void 0):void 0;function r(s){return s?Array.isArray(s)?s:[s]:[]}if(!n){const s=Jt([]);return{errors:s,errorMessage:Ge(()=>s.value[0]),setErrors:u=>{s.value=r(u)}}}const o=Ge(()=>n.errorBag.value[pe(e)]||[]);return{errors:o,errorMessage:Ge(()=>o.value[0]),setErrors:s=>{n.setFieldErrorBag(pe(e),r(s))}}}function zH(e,t,n){return Ba(n==null?void 0:n.type)?QH(e,t,n):ZN(e,t,n)}function ZN(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:c,label:f,validateOnValueUpdate:d,uncheckedValue:g,standalone:h,keepValueOnUnmount:p,modelPropName:y,syncVModel:b}=YH(pe(e),n),T=h?void 0:fl(Cs);let E=!1;const{id:I,value:C,initialValue:N,meta:k,setState:j,errors:M,errorMessage:q}=KH(e,{modelValue:r,standalone:h});b&&JH({value:C,prop:y,handleChange:Oe});const $=()=>{k.touched=!0},z=Ge(()=>{let ue=pe(t);const $e=pe(T==null?void 0:T.schema);return $e&&!hc($e)&&(ue=XH($e,pe(e))||ue),hc(ue)||gs(ue)||Array.isArray(ue)?ue:YN(ue)});async function P(ue){var $e,Y;return T!=null&&T.validateSchema?($e=(await T.validateSchema(ue)).results[pe(e)])!==null&&$e!==void 0?$e:{valid:!0,errors:[]}:XN(C.value,z.value,{name:pe(f)||pe(e),values:(Y=T==null?void 0:T.values)!==null&&Y!==void 0?Y:{},bails:s})}async function me(){k.pending=!0,k.validated=!0;const ue=await P("validated-only");return E&&(ue.valid=!0,ue.errors=[]),j({errors:ue.errors}),k.pending=!1,ue}async function ne(){const ue=await P("silent");return E&&(ue.valid=!0),k.valid=ue.valid,ue}function Ne(ue){return!(ue!=null&&ue.mode)||(ue==null?void 0:ue.mode)==="force"||(ue==null?void 0:ue.mode)==="validated-only"?me():ne()}function Oe(ue,$e=!0){const Y=J_(ue);C.value=Y,!d&&$e&&me()}qc(()=>{if(o)return me();(!T||!T.validateSchema)&&ne()});function Pe(ue){k.touched=ue}let xe;function De(){xe=un(C,(ue,$e)=>{if(oo(ue,$e))return;(d?me:ne)()},{deep:!0})}De();function Te(ue){var $e;xe==null||xe();const Y=ue&&"value"in ue?ue.value:N.value;j({value:Bt(Y),initialValue:Bt(Y),touched:($e=ue==null?void 0:ue.touched)!==null&&$e!==void 0?$e:!1,errors:(ue==null?void 0:ue.errors)||[]}),k.pending=!1,k.validated=!1,ne(),eo(()=>{De()})}function rt(ue){C.value=ue}function bt(ue){j({errors:Array.isArray(ue)?ue:[ue]})}const pt={id:I,name:e,label:f,value:C,meta:k,errors:M,errorMessage:q,type:u,checkedValue:c,uncheckedValue:g,bails:s,keepValueOnUnmount:p,resetField:Te,handleReset:()=>Te(),validate:Ne,handleChange:Oe,handleBlur:$,setState:j,setTouched:Pe,setErrors:bt,setValue:rt};if(pa(AH,pt),dt(t)&&typeof pe(t)!="function"&&un(t,(ue,$e)=>{oo(ue,$e)||(k.validated?me():ne())},{deep:!0}),!T)return pt;T.register(pt),Kh(()=>{E=!0,T.unregister(pt)});const Ct=Ge(()=>{const ue=z.value;return!ue||gs(ue)||hc(ue)||Array.isArray(ue)?{}:Object.keys(ue).reduce(($e,Y)=>{const ce=LH(ue[Y]).map(re=>re.__locatorRef).reduce((re,ie)=>{const je=Lt(T.values,ie)||T.values[ie];return je!==void 0&&(re[ie]=je),re},{});return Object.assign($e,ce),$e},{})});return un(Ct,(ue,$e)=>{if(!Object.keys(ue).length)return;!oo(ue,$e)&&(k.validated?me():ne())}),pt}function YH(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:e,validateOnValueUpdate:!0,standalone:!1,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0});if(!t)return n();const r="valueProp"in t?t.valueProp:t.checkedValue;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{checkedValue:r})}function XH(e,t){if(!!e)return e[t]}function QH(e,t,n){const r=n!=null&&n.standalone?void 0:fl(Cs),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(c){const f=c.handleChange,d=Ge(()=>{const h=pe(c.value),p=pe(o);return Array.isArray(h)?h.includes(p):p===h});function g(h,p=!0){var y;if(d.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked))return;let b=J_(h);r||(b=Qv(pe(c.value),pe(o),pe(s))),f(b,p)}return Object.assign(Object.assign({},c),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(ZN(e,t,n))}function JH({prop:e,value:t,handleChange:n}){const r=ri();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(un(t,u=>{oo(u,A1(r,o))||r.emit(s,u)}),un(()=>A1(r,o),u=>{if(u===xh&&t.value===void 0)return;const c=u===xh?void 0:u;oo(c,xH(t.value,r.props.modelModifiers))||n(c)}))}function A1(e,t){return e.props[t]}const ZH=Ka({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Z_().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:xh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Qr(e,"rules"),r=Qr(e,"name"),o=Qr(e,"label"),s=Qr(e,"uncheckedValue"),u=Qr(e,"keepValue"),{errors:c,value:f,errorMessage:d,validate:g,handleChange:h,handleBlur:p,setTouched:y,resetField:b,handleReset:T,meta:E,checked:I,setErrors:C}=zH(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:tK(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:u}),N=function(z,P=!0){h(z,P),t.emit("update:modelValue",f.value)},k=$=>{Ba(t.attrs.type)||(f.value=J_($))},j=function(z){k(z),t.emit("update:modelValue",f.value)},M=Ge(()=>{const{validateOnInput:$,validateOnChange:z,validateOnBlur:P,validateOnModelUpdate:me}=eK(e),ne=[p,t.attrs.onBlur,P?g:void 0].filter(Boolean),Ne=[De=>N(De,$),t.attrs.onInput].filter(Boolean),Oe=[De=>N(De,z),t.attrs.onChange].filter(Boolean),Pe={name:e.name,onBlur:ne,onInput:Ne,onChange:Oe};Pe["onUpdate:modelValue"]=De=>N(De,me),Ba(t.attrs.type)&&I&&(Pe.checked=I.value);const xe=k1(e,t);return OH(xe,t.attrs)&&(Pe.value=f.value),Pe});function q(){return{field:M.value,value:f.value,meta:E,errors:c.value,errorMessage:d.value,validate:g,resetField:b,handleChange:N,handleInput:j,handleReset:T,handleBlur:p,setTouched:y,setErrors:C}}return t.expose({setErrors:C,setTouched:y,reset:b,validate:g,handleChange:h}),()=>{const $=Gh(k1(e,t)),z=Fd($,t,q);return $?ir($,Object.assign(Object.assign({},t.attrs),M.value),z):z}}});function k1(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function eK(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:c,validateOnModelUpdate:f}=Z_();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:c,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function tK(e,t){return Ba(t.attrs.type)?w1(e,"modelValue")?e.modelValue:void 0:w1(e,"modelValue")?e.modelValue:t.attrs.value}const nK=ZH;let rK=0;function iK(e){var t;const n=rK++;let r=!1;const o=Jt({}),s=Jt(!1),u=Jt(0),c=[],f=Ti(Bt(pe(e==null?void 0:e.initialValues)||{})),{errorBag:d,setErrorBag:g,setFieldErrorBag:h}=aK(e==null?void 0:e.initialErrors),p=Ge(()=>mn(d.value).reduce((x,F)=>{const H=d.value[F];return H&&H.length&&(x[F]=H[0]),x},{}));function y(x){const F=o.value[x];return Array.isArray(F)?F[0]:F}function b(x){return!!o.value[x]}const T=Ge(()=>mn(o.value).reduce((x,F)=>{const H=y(F);return H&&(x[F]=pe(H.label||H.name)||""),x},{})),E=Ge(()=>mn(o.value).reduce((x,F)=>{var H;const Q=y(F);return Q&&(x[F]=(H=Q.bails)!==null&&H!==void 0?H:!0),x},{})),I=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:N,originalInitialValues:k,setInitialValues:j}=sK(o,f,e==null?void 0:e.initialValues),M=oK(o,f,k,p),q=e==null?void 0:e.validationSchema,$={formId:n,fieldsByPath:o,values:f,errorBag:d,errors:p,schema:q,submitCount:u,meta:M,isSubmitting:s,fieldArrays:c,keepValuesOnUnmount:C,validateSchema:pe(q)?O:void 0,validate:Y,register:ue,unregister:$e,setFieldErrorBag:h,validateField:ce,setFieldValue:Oe,setValues:Pe,setErrors:Ne,setFieldError:ne,setFieldTouched:Te,setTouched:rt,resetForm:bt,handleSubmit:re,stageInitialValue:Ye,unsetInitialValue:je,setFieldInitialValue:ie,useFieldModel:De};function z(x){return Array.isArray(x)}function P(x,F){return Array.isArray(x)?x.forEach(F):F(x)}function me(x){Object.values(o.value).forEach(F=>{!F||P(F,x)})}function ne(x,F){h(x,F)}function Ne(x){g(x)}function Oe(x,F,{force:H}={force:!1}){var Q;const W=o.value[x],V=Bt(F);if(!W){Wo(f,x,V);return}if(z(W)&&((Q=W[0])===null||Q===void 0?void 0:Q.type)==="checkbox"&&!Array.isArray(F)){const le=Bt(Qv(Lt(f,x)||[],F,void 0));Wo(f,x,le);return}let U=F;!z(W)&&W.type==="checkbox"&&!H&&!r&&(U=Bt(Qv(Lt(f,x),F,pe(W.uncheckedValue)))),Wo(f,x,U)}function Pe(x){mn(f).forEach(F=>{delete f[F]}),mn(x).forEach(F=>{Oe(F,x[F])}),c.forEach(F=>F&&F.reset())}function xe(x){const{value:F}=JN(x);return un(F,()=>{b(pe(x))||Y({mode:"validated-only"})}),F}function De(x){return Array.isArray(x)?x.map(xe):xe(x)}function Te(x,F){const H=o.value[x];H&&P(H,Q=>Q.setTouched(F))}function rt(x){mn(x).forEach(F=>{Te(F,!!x[F])})}function bt(x){r=!0,x!=null&&x.values?(j(x.values),Pe(x==null?void 0:x.values)):(j(k.value),Pe(k.value)),me(F=>F.resetField()),x!=null&&x.touched&&rt(x.touched),Ne((x==null?void 0:x.errors)||{}),u.value=(x==null?void 0:x.submitCount)||0,eo(()=>{r=!1})}function pt(x,F){const H=as(x),Q=F;if(!o.value[Q]){o.value[Q]=H;return}const W=o.value[Q];W&&!Array.isArray(W)&&(o.value[Q]=[W]),o.value[Q]=[...o.value[Q],H]}function Ct(x,F){const H=F,Q=o.value[H];if(!!Q){if(!z(Q)&&x.id===Q.id){delete o.value[H];return}if(z(Q)){const W=Q.findIndex(V=>V.id===x.id);if(W===-1)return;Q.splice(W,1),Q.length||delete o.value[H]}}}function ue(x){const F=pe(x.name);pt(x,F),dt(x.name)&&un(x.name,async(Q,W)=>{await eo(),Ct(x,W),pt(x,Q),(p.value[W]||p.value[Q])&&(ne(W,void 0),ce(Q)),await eo(),b(W)||$g(f,W)});const H=pe(x.errorMessage);H&&(I==null?void 0:I[F])!==H&&ce(F),delete I[F]}function $e(x){const F=pe(x.name),H=o.value[F],Q=!!H&&z(H);Ct(x,F),eo(()=>{var W;const V=(W=pe(x.keepValueOnUnmount))!==null&&W!==void 0?W:pe(C),U=Lt(f,F);if(Q&&(H===o.value[F]||!o.value[F])&&Array.isArray(U)&&!V){const se=U.findIndex(de=>oo(de,pe(x.checkedValue)));if(se>-1){const de=[...U];de.splice(se,1),Oe(F,de,{force:!0})}}if(!b(F)){if(ne(F,void 0),V||Q&&!KN(Lt(f,F)))return;$g(f,F)}})}async function Y(x){if(me(W=>W.meta.validated=!0),$.validateSchema)return $.validateSchema((x==null?void 0:x.mode)||"force");const F=await Promise.all(Object.values(o.value).map(W=>{const V=Array.isArray(W)?W[0]:W;return V?V.validate(x).then(U=>({key:pe(V.name),valid:U.valid,errors:U.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),H={},Q={};for(const W of F)H[W.key]={valid:W.valid,errors:W.errors},W.errors.length&&(Q[W.key]=W.errors[0]);return{valid:F.every(W=>W.valid),results:H,errors:Q}}async function ce(x){const F=o.value[x];return F?Array.isArray(F)?F.map(H=>H.validate())[0]:F.validate():(SS(`field with name ${x} was not found`),Promise.resolve({errors:[],valid:!0}))}function re(x,F){return function(Q){return Q instanceof Event&&(Q.preventDefault(),Q.stopPropagation()),rt(mn(o.value).reduce((W,V)=>(W[V]=!0,W),{})),s.value=!0,u.value++,Y().then(W=>{if(W.valid&&typeof x=="function")return x(Bt(f),{evt:Q,setErrors:Ne,setFieldError:ne,setTouched:rt,setFieldTouched:Te,setValues:Pe,setFieldValue:Oe,resetForm:bt});!W.valid&&typeof F=="function"&&F({values:Bt(f),evt:Q,errors:W.errors,results:W.results})}).then(W=>(s.value=!1,W),W=>{throw s.value=!1,W})}}function ie(x,F){Wo(N.value,x,Bt(F))}function je(x){$g(N.value,x)}function Ye(x,F,H=!1){Wo(f,x,F),ie(x,F),H&&Wo(k.value,x,Bt(F))}async function D(){const x=pe(q);return x?hc(x)?await qH(x,f):await HH(x,f,{names:T.value,bailsMap:E.value}):{valid:!0,results:{},errors:{}}}const L=I1(D,5),A=I1(D,5);async function O(x){const F=await(x==="silent"?L():A()),H=$.fieldsByPath.value||{},Q=mn($.errorBag.value);return[...new Set([...mn(F.results),...mn(H),...Q])].reduce((V,U)=>{const le=H[U],se=(F.results[U]||{errors:[]}).errors,de={errors:se,valid:!se.length};if(V.results[U]=de,de.valid||(V.errors[U]=de.errors[0]),!le)return ne(U,se),V;if(P(le,fe=>fe.meta.valid=de.valid),x==="silent")return V;const Ee=Array.isArray(le)?le.some(fe=>fe.meta.validated):le.meta.validated;return x==="validated-only"&&!Ee||P(le,fe=>fe.setState({errors:de.errors})),V},{valid:F.valid,results:{},errors:{}})}const B=re((x,{evt:F})=>{GN(F)&&F.target.submit()});return qc(()=>{if(e!=null&&e.initialErrors&&Ne(e.initialErrors),e!=null&&e.initialTouched&&rt(e.initialTouched),e!=null&&e.validateOnMount){Y();return}$.validateSchema&&$.validateSchema("silent")}),dt(q)&&un(q,()=>{var x;(x=$.validateSchema)===null||x===void 0||x.call($,"validated-only")}),pa(Cs,$),{errors:p,meta:M,values:f,isSubmitting:s,submitCount:u,validate:Y,validateField:ce,handleReset:()=>bt(),resetForm:bt,handleSubmit:re,submitForm:B,setFieldError:ne,setErrors:Ne,setFieldValue:Oe,setValues:Pe,setFieldTouched:Te,setTouched:rt,useFieldModel:De}}function oK(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Ge(()=>!oo(t,pe(n)));function u(){const f=Object.values(e.value).flat(1).filter(Boolean);return mn(o).reduce((d,g)=>{const h=o[g];return d[g]=f[h](p=>p.meta[g]),d},{})}const c=Ti(u());return yL(()=>{const f=u();c.touched=f.touched,c.valid=f.valid,c.pending=f.pending}),Ge(()=>Object.assign(Object.assign({initialValues:pe(n)},c),{valid:c.valid&&!mn(r.value).length,dirty:s.value}))}function sK(e,t,n){const r=Jt(Bt(pe(n))||{}),o=Jt(Bt(pe(n))||{});function s(u,c=!1){r.value=Bt(u),o.value=Bt(u),c&&mn(e.value).forEach(f=>{const d=e.value[f],g=Array.isArray(d)?d.some(p=>p.meta.touched):d==null?void 0:d.meta.touched;if(!d||g)return;const h=Lt(r.value,f);Wo(t,f,Bt(h))})}return dt(n)&&un(n,u=>{s(u,!0)},{deep:!0}),{initialValues:r,originalInitialValues:o,setInitialValues:s}}function aK(e){const t=Jt({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function r(s,u){if(!u){delete t.value[s];return}t.value[s]=n(u)}function o(s){t.value=mn(s).reduce((u,c)=>{const f=s[c];return f&&(u[c]=n(f)),u},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:r}}const uK=Ka({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Qr(e,"initialValues"),r=Qr(e,"validationSchema"),o=Qr(e,"keepValues"),{errors:s,values:u,meta:c,isSubmitting:f,submitCount:d,validate:g,validateField:h,handleReset:p,resetForm:y,handleSubmit:b,setErrors:T,setFieldError:E,setFieldValue:I,setValues:C,setFieldTouched:N,setTouched:k}=iK({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),j=b((P,{evt:me})=>{GN(me)&&me.target.submit()},e.onInvalidSubmit),M=e.onSubmit?b(e.onSubmit,e.onInvalidSubmit):j;function q(P){X_(P)&&P.preventDefault(),p(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function $(P,me){return b(typeof P=="function"&&!me?P:me,e.onInvalidSubmit)(P)}function z(){return{meta:c.value,errors:s.value,values:u,isSubmitting:f.value,submitCount:d.value,validate:g,validateField:h,handleSubmit:$,handleReset:p,submitForm:j,setErrors:T,setFieldError:E,setFieldValue:I,setValues:C,setFieldTouched:N,setTouched:k,resetForm:y}}return t.expose({setFieldError:E,setErrors:T,setFieldValue:I,setValues:C,setFieldTouched:N,setTouched:k,resetForm:y,validate:g,validateField:h}),function(){const me=e.as==="form"?e.as:Gh(e.as),ne=Fd(me,t,z);if(!e.as)return ne;const Ne=e.as==="form"?{novalidate:!0}:{};return ir(me,Object.assign(Object.assign(Object.assign({},Ne),t.attrs),{onSubmit:M,onReset:q}),ne)}}}),cK=uK;function lK(e){const t=fl(Cs,void 0),n=Jt([]),r=()=>{},o={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t)return qg("FieldArray requires being a child of `<Form/>` or `useForm` being called before it. Array fields may not work correctly"),o;if(!pe(e))return qg("FieldArray requires a field path to be provided, did you forget to pass the `name` prop?"),o;const s=t.fieldArrays.find(N=>pe(N.path)===pe(e));if(s)return s;let u=0;function c(){const N=Lt(t==null?void 0:t.values,pe(e),[])||[];n.value=N.map(d),f()}c();function f(){const N=n.value.length;for(let k=0;k<N;k++){const j=n.value[k];j.isFirst=k===0,j.isLast=k===N-1}}function d(N){const k=u++;return{key:k,value:Ge({get(){const M=Lt(t==null?void 0:t.values,pe(e),[])||[],q=n.value.findIndex($=>$.key===k);return q===-1?N:M[q]},set(M){const q=n.value.findIndex($=>$.key===k);if(q===-1){qg("Attempting to update a non-existent array item");return}T(q,M)}}),isFirst:!1,isLast:!1}}function g(N){const k=pe(e),j=Lt(t==null?void 0:t.values,k);if(!j||!Array.isArray(j))return;const M=[...j];M.splice(N,1),t==null||t.unsetInitialValue(k+`[${N}]`),t==null||t.setFieldValue(k,M),n.value.splice(N,1),f()}function h(N){const k=pe(e),j=Lt(t==null?void 0:t.values,k),M=fc(j)?[]:j;if(!Array.isArray(M))return;const q=[...M];q.push(N),t==null||t.stageInitialValue(k+`[${q.length-1}]`,N),t==null||t.setFieldValue(k,q),n.value.push(d(N)),f()}function p(N,k){const j=pe(e),M=Lt(t==null?void 0:t.values,j);if(!Array.isArray(M)||!(N in M)||!(k in M))return;const q=[...M],$=[...n.value],z=q[N];q[N]=q[k],q[k]=z;const P=$[N];$[N]=$[k],$[k]=P,t==null||t.setFieldValue(j,q),n.value=$,f()}function y(N,k){const j=pe(e),M=Lt(t==null?void 0:t.values,j);if(!Array.isArray(M)||M.length<N)return;const q=[...M],$=[...n.value];q.splice(N,0,k),$.splice(N,0,d(k)),t==null||t.setFieldValue(j,q),n.value=$,f()}function b(N){const k=pe(e);t==null||t.setFieldValue(k,N),c()}function T(N,k){const j=pe(e),M=Lt(t==null?void 0:t.values,j);!Array.isArray(M)||M.length-1<N||t==null||t.setFieldValue(`${j}[${N}]`,k)}function E(N){const k=pe(e),j=Lt(t==null?void 0:t.values,k),M=fc(j)?[]:j;if(!Array.isArray(M))return;const q=[N,...M];t==null||t.stageInitialValue(k+`[${q.length-1}]`,N),t==null||t.setFieldValue(k,q),n.value.unshift(d(N)),f()}function I(N,k){const j=pe(e),M=Lt(t==null?void 0:t.values,j),q=fc(M)?[]:[...M];if(!Array.isArray(M)||!(N in M)||!(k in M))return;const $=[...n.value],z=$[N];$.splice(N,1),$.splice(k,0,z);const P=q[N];q.splice(N,1),q.splice(k,0,P),t==null||t.setFieldValue(j,q),n.value=$,f()}const C={fields:n,remove:g,push:h,swap:p,insert:y,update:T,replace:b,prepend:E,move:I};return t.fieldArrays.push(Object.assign({path:e,reset:c},C)),Kh(()=>{const N=t.fieldArrays.findIndex(k=>pe(k.path)===pe(e));N>=0&&t.fieldArrays.splice(N,1)}),C}Ka({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:o,insert:s,replace:u,update:c,prepend:f,move:d,fields:g}=lK(Qr(e,"name"));function h(){return{fields:g.value,push:n,remove:r,swap:o,insert:s,update:c,replace:u,prepend:f,move:d}}return t.expose({push:n,remove:r,swap:o,insert:s,update:c,replace:u,prepend:f,move:d}),()=>Fd(void 0,t,h)}});const fK=Ka({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=yr(Cs,void 0),r=Ge(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Gh(e.as):e.as,u=Fd(s,t,o),c=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u==null?void 0:u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?ir(s||"span",c,r.value):ir(s,c,u)}}}),hK=fK;/**
  * vee-validate v4.6.2
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const Df={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},dK=e=>{if(!!e)return Array.isArray(e)?e[0]:e.locale};function hl(e,t){return Array.isArray(e)?e[0]:e[t]}function yo(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const eO=(e,t)=>{if(yo(e))return!0;const n=dK(t);if(Array.isArray(e))return e.every(o=>eO(o,{locale:n}));const r=String(e);return n?(Df[n]||Df.en).test(r):Object.keys(Df).some(o=>Df[o].test(r))},pK=(e,t)=>{const n=hl(t,"target");return String(e)===String(n)},mK=e=>{if(yo(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function gK(e){return e==null}function vK(e){return Array.isArray(e)&&e.length===0}const tO=(e,t)=>{if(yo(e))return!0;const n=hl(t,"length");return Array.isArray(e)?e.every(r=>tO(r,{length:n})):String(e).length<=Number(n)},nO=(e,t)=>{if(yo(e))return!0;const n=hl(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>nO(r,{max:n})):Number(e)<=Number(n)},rO=(e,t)=>{if(yo(e))return!0;const n=hl(t,"length");return Array.isArray(e)?e.every(r=>rO(r,{length:n})):String(e).length>=Number(n)},iO=(e,t)=>{if(yo(e))return!0;const n=hl(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>iO(r,{min:n})):Number(e)>=Number(n)},oO=(e,t)=>yo(e)?!0:Array.isArray(e)?e.every(n=>oO(n,t)):Array.from(t).some(n=>n==e),C1=(e,t)=>yo(e)?!0:!oO(e,t),N1=e=>gK(e)||vK(e)||e===!1?!1:!!String(e).trim().length,yK={install(e){e.component("VeeForm",cK),e.component("VeeField",nK),e.component("ErrorMessage",hK),Ar("required",N1),Ar("tos",N1),Ar("min",rO),Ar("max",tO),Ar("alpha_spaces",eO),Ar("email",mK),Ar("min_value",iO),Ar("max_value",nO),Ar("passwords_mismatch",pK),Ar("excluded",C1),Ar("country_excluded",C1),VH({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},_K={beforeMount(e,t){let n=`fa fa-${t.value} text-xl`;t.arg==="full"&&(n=t.value),t.modifiers.right&&(n+=" float-right"),t.modifiers.yellow?n+=" text-yellow-400":n+=" text-green-400",e.innerHTML+=`<i class="${n}"></i>`}};/*!
  * @intlify/shared v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const bK=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ki=e=>bK?Symbol(e):e,wK=(e,t,n)=>IK({l:e,k:t,s:n}),IK=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),en=e=>typeof e=="number"&&isFinite(e),TK=e=>e0(e)==="[object Date]",$a=e=>e0(e)==="[object RegExp]",Md=e=>Ue(e)&&Object.keys(e).length===0;function EK(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const tn=Object.assign;let O1;const dc=()=>O1||(O1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function x1(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const SK=Object.prototype.hasOwnProperty;function sO(e,t){return SK.call(e,t)}const Mt=Array.isArray,sn=e=>typeof e=="function",ve=e=>typeof e=="string",ct=e=>typeof e=="boolean",Fn=e=>e!==null&&typeof e=="object",aO=Object.prototype.toString,e0=e=>aO.call(e),Ue=e=>e0(e)==="[object Object]",AK=e=>e==null?"":Mt(e)||Ue(e)&&e.toString===aO?JSON.stringify(e,null,2):String(e);/*!
  * @intlify/message-resolver v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const kK=Object.prototype.hasOwnProperty;function CK(e,t){return kK.call(e,t)}const zf=e=>e!==null&&typeof e=="object",_o=[];_o[0]={w:[0],i:[3,0],["["]:[4],o:[7]};_o[1]={w:[1],["."]:[2],["["]:[4],o:[7]};_o[2]={w:[2],i:[3,0],[0]:[3,0]};_o[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};_o[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};_o[5]={["'"]:[4,0],o:8,l:[5,0]};_o[6]={['"']:[4,0],o:8,l:[6,0]};const NK=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function OK(e){return NK.test(e)}function xK(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function RK(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function PK(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:OK(t)?xK(t):"*"+t}function DK(e){const t=[];let n=-1,r=0,o=0,s,u,c,f,d,g,h;const p=[];p[0]=()=>{u===void 0?u=c:u+=c},p[1]=()=>{u!==void 0&&(t.push(u),u=void 0)},p[2]=()=>{p[0](),o++},p[3]=()=>{if(o>0)o--,r=4,p[0]();else{if(o=0,u===void 0||(u=PK(u),u===!1))return!1;p[1]()}};function y(){const b=e[n+1];if(r===5&&b==="'"||r===6&&b==='"')return n++,c="\\"+b,p[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&y())){if(f=RK(s),h=_o[r],d=h[f]||h.l||8,d===8||(r=d[0],d[1]!==void 0&&(g=p[d[1]],g&&(c=s,g()===!1))))return;if(r===7)return t}}const R1=new Map;function Rh(e,t){if(!zf(e))return null;let n=R1.get(t);if(n||(n=DK(t),n&&R1.set(t,n)),!n)return null;const r=n.length;let o=e,s=0;for(;s<r;){const u=o[n[s]];if(u===void 0)return null;o=u,s++}return o}function Zv(e){if(!zf(e))return e;for(const t in e)if(!!CK(e,t))if(!t.includes("."))zf(e[t])&&Zv(e[t]);else{const n=t.split("."),r=n.length-1;let o=e;for(let s=0;s<r;s++)n[s]in o||(o[n[s]]={}),o=o[n[s]];o[n[r]]=e[t],delete e[t],zf(o[n[r]])&&Zv(o[n[r]])}return e}/*!
  * @intlify/runtime v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const LK=e=>e,FK=e=>"",MK="text",VK=e=>e.length===0?"":e.join(""),UK=AK;function P1(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function jK(e){const t=en(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(en(e.named.count)||en(e.named.n))?en(e.named.count)?e.named.count:en(e.named.n)?e.named.n:t:t}function BK(e,t){t.count||(t.count=e),t.n||(t.n=e)}function $K(e={}){const t=e.locale,n=jK(e),r=Fn(e.pluralRules)&&ve(t)&&sn(e.pluralRules[t])?e.pluralRules[t]:P1,o=Fn(e.pluralRules)&&ve(t)&&sn(e.pluralRules[t])?P1:void 0,s=E=>E[r(n,E.length,o)],u=e.list||[],c=E=>u[E],f=e.named||{};en(e.pluralIndex)&&BK(n,f);const d=E=>f[E];function g(E){const I=sn(e.messages)?e.messages(E):Fn(e.messages)?e.messages[E]:!1;return I||(e.parent?e.parent.message(E):FK)}const h=E=>e.modifiers?e.modifiers[E]:LK,p=Ue(e.processor)&&sn(e.processor.normalize)?e.processor.normalize:VK,y=Ue(e.processor)&&sn(e.processor.interpolate)?e.processor.interpolate:UK,b=Ue(e.processor)&&ve(e.processor.type)?e.processor.type:MK,T={list:c,named:d,plural:s,linked:(E,I)=>{const C=g(E)(T);return ve(I)?h(I)(C):C},message:g,type:b,interpolate:y,normalize:p};return T}/*!
  * @intlify/message-compiler v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */function Vd(e,t,n={}){const{domain:r,messages:o,args:s}=n,u=e,c=new SyntaxError(String(u));return c.code=e,t&&(c.location=t),c.domain=r,c}function qK(e){throw e}function HK(e,t,n){return{line:e,column:t,offset:n}}function ey(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const fi=" ",KK="\r",kn=`
`,WK=String.fromCharCode(8232),GK=String.fromCharCode(8233);function zK(e){const t=e;let n=0,r=1,o=1,s=0;const u=q=>t[q]===KK&&t[q+1]===kn,c=q=>t[q]===kn,f=q=>t[q]===GK,d=q=>t[q]===WK,g=q=>u(q)||c(q)||f(q)||d(q),h=()=>n,p=()=>r,y=()=>o,b=()=>s,T=q=>u(q)||f(q)||d(q)?kn:t[q],E=()=>T(n),I=()=>T(n+s);function C(){return s=0,g(n)&&(r++,o=0),u(n)&&n++,n++,o++,t[n]}function N(){return u(n+s)&&s++,s++,t[n+s]}function k(){n=0,r=1,o=1,s=0}function j(q=0){s=q}function M(){const q=n+s;for(;q!==n;)C();s=0}return{index:h,line:p,column:y,peekOffset:b,charAt:T,currentChar:E,currentPeek:I,next:C,peek:N,reset:k,resetPeek:j,skipToPeek:M}}const Hi=void 0,D1="'",YK="tokenizer";function XK(e,t={}){const n=t.location!==!1,r=zK(e),o=()=>r.index(),s=()=>HK(r.line(),r.column(),r.index()),u=s(),c=o(),f={currentType:14,offset:c,startLoc:u,endLoc:u,lastType:14,lastOffset:c,lastStartLoc:u,lastEndLoc:u,braceNest:0,inLinked:!1,text:""},d=()=>f,{onError:g}=t;function h(D,L,A,...O){const B=d();if(L.column+=A,L.offset+=A,g){const x=ey(B.startLoc,L),F=Vd(D,x,{domain:YK,args:O});g(F)}}function p(D,L,A){D.endLoc=s(),D.currentType=L;const O={type:L};return n&&(O.loc=ey(D.startLoc,D.endLoc)),A!=null&&(O.value=A),O}const y=D=>p(D,14);function b(D,L){return D.currentChar()===L?(D.next(),L):(h(0,s(),0,L),"")}function T(D){let L="";for(;D.currentPeek()===fi||D.currentPeek()===kn;)L+=D.currentPeek(),D.peek();return L}function E(D){const L=T(D);return D.skipToPeek(),L}function I(D){if(D===Hi)return!1;const L=D.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L===95}function C(D){if(D===Hi)return!1;const L=D.charCodeAt(0);return L>=48&&L<=57}function N(D,L){const{currentType:A}=L;if(A!==2)return!1;T(D);const O=I(D.currentPeek());return D.resetPeek(),O}function k(D,L){const{currentType:A}=L;if(A!==2)return!1;T(D);const O=D.currentPeek()==="-"?D.peek():D.currentPeek(),B=C(O);return D.resetPeek(),B}function j(D,L){const{currentType:A}=L;if(A!==2)return!1;T(D);const O=D.currentPeek()===D1;return D.resetPeek(),O}function M(D,L){const{currentType:A}=L;if(A!==8)return!1;T(D);const O=D.currentPeek()===".";return D.resetPeek(),O}function q(D,L){const{currentType:A}=L;if(A!==9)return!1;T(D);const O=I(D.currentPeek());return D.resetPeek(),O}function $(D,L){const{currentType:A}=L;if(!(A===8||A===12))return!1;T(D);const O=D.currentPeek()===":";return D.resetPeek(),O}function z(D,L){const{currentType:A}=L;if(A!==10)return!1;const O=()=>{const x=D.currentPeek();return x==="{"?I(D.peek()):x==="@"||x==="%"||x==="|"||x===":"||x==="."||x===fi||!x?!1:x===kn?(D.peek(),O()):I(x)},B=O();return D.resetPeek(),B}function P(D){T(D);const L=D.currentPeek()==="|";return D.resetPeek(),L}function me(D,L=!0){const A=(B=!1,x="",F=!1)=>{const H=D.currentPeek();return H==="{"?x==="%"?!1:B:H==="@"||!H?x==="%"?!0:B:H==="%"?(D.peek(),A(B,"%",!0)):H==="|"?x==="%"||F?!0:!(x===fi||x===kn):H===fi?(D.peek(),A(!0,fi,F)):H===kn?(D.peek(),A(!0,kn,F)):!0},O=A();return L&&D.resetPeek(),O}function ne(D,L){const A=D.currentChar();return A===Hi?Hi:L(A)?(D.next(),A):null}function Ne(D){return ne(D,A=>{const O=A.charCodeAt(0);return O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||O===95||O===36})}function Oe(D){return ne(D,A=>{const O=A.charCodeAt(0);return O>=48&&O<=57})}function Pe(D){return ne(D,A=>{const O=A.charCodeAt(0);return O>=48&&O<=57||O>=65&&O<=70||O>=97&&O<=102})}function xe(D){let L="",A="";for(;L=Oe(D);)A+=L;return A}function De(D){let L="";for(;;){const A=D.currentChar();if(A==="{"||A==="}"||A==="@"||A==="|"||!A)break;if(A==="%")if(me(D))L+=A,D.next();else break;else if(A===fi||A===kn)if(me(D))L+=A,D.next();else{if(P(D))break;L+=A,D.next()}else L+=A,D.next()}return L}function Te(D){E(D);let L="",A="";for(;L=Ne(D);)A+=L;return D.currentChar()===Hi&&h(6,s(),0),A}function rt(D){E(D);let L="";return D.currentChar()==="-"?(D.next(),L+=`-${xe(D)}`):L+=xe(D),D.currentChar()===Hi&&h(6,s(),0),L}function bt(D){E(D),b(D,"'");let L="",A="";const O=x=>x!==D1&&x!==kn;for(;L=ne(D,O);)L==="\\"?A+=pt(D):A+=L;const B=D.currentChar();return B===kn||B===Hi?(h(2,s(),0),B===kn&&(D.next(),b(D,"'")),A):(b(D,"'"),A)}function pt(D){const L=D.currentChar();switch(L){case"\\":case"'":return D.next(),`\\${L}`;case"u":return Ct(D,L,4);case"U":return Ct(D,L,6);default:return h(3,s(),0,L),""}}function Ct(D,L,A){b(D,L);let O="";for(let B=0;B<A;B++){const x=Pe(D);if(!x){h(4,s(),0,`\\${L}${O}${D.currentChar()}`);break}O+=x}return`\\${L}${O}`}function ue(D){E(D);let L="",A="";const O=B=>B!=="{"&&B!=="}"&&B!==fi&&B!==kn;for(;L=ne(D,O);)A+=L;return A}function $e(D){let L="",A="";for(;L=Ne(D);)A+=L;return A}function Y(D){const L=(A=!1,O)=>{const B=D.currentChar();return B==="{"||B==="%"||B==="@"||B==="|"||!B||B===fi?O:B===kn?(O+=B,D.next(),L(A,O)):(O+=B,D.next(),L(!0,O))};return L(!1,"")}function ce(D){E(D);const L=b(D,"|");return E(D),L}function re(D,L){let A=null;switch(D.currentChar()){case"{":return L.braceNest>=1&&h(8,s(),0),D.next(),A=p(L,2,"{"),E(D),L.braceNest++,A;case"}":return L.braceNest>0&&L.currentType===2&&h(7,s(),0),D.next(),A=p(L,3,"}"),L.braceNest--,L.braceNest>0&&E(D),L.inLinked&&L.braceNest===0&&(L.inLinked=!1),A;case"@":return L.braceNest>0&&h(6,s(),0),A=ie(D,L)||y(L),L.braceNest=0,A;default:let B=!0,x=!0,F=!0;if(P(D))return L.braceNest>0&&h(6,s(),0),A=p(L,1,ce(D)),L.braceNest=0,L.inLinked=!1,A;if(L.braceNest>0&&(L.currentType===5||L.currentType===6||L.currentType===7))return h(6,s(),0),L.braceNest=0,je(D,L);if(B=N(D,L))return A=p(L,5,Te(D)),E(D),A;if(x=k(D,L))return A=p(L,6,rt(D)),E(D),A;if(F=j(D,L))return A=p(L,7,bt(D)),E(D),A;if(!B&&!x&&!F)return A=p(L,13,ue(D)),h(1,s(),0,A.value),E(D),A;break}return A}function ie(D,L){const{currentType:A}=L;let O=null;const B=D.currentChar();switch((A===8||A===9||A===12||A===10)&&(B===kn||B===fi)&&h(9,s(),0),B){case"@":return D.next(),O=p(L,8,"@"),L.inLinked=!0,O;case".":return E(D),D.next(),p(L,9,".");case":":return E(D),D.next(),p(L,10,":");default:return P(D)?(O=p(L,1,ce(D)),L.braceNest=0,L.inLinked=!1,O):M(D,L)||$(D,L)?(E(D),ie(D,L)):q(D,L)?(E(D),p(L,12,$e(D))):z(D,L)?(E(D),B==="{"?re(D,L)||O:p(L,11,Y(D))):(A===8&&h(9,s(),0),L.braceNest=0,L.inLinked=!1,je(D,L))}}function je(D,L){let A={type:14};if(L.braceNest>0)return re(D,L)||y(L);if(L.inLinked)return ie(D,L)||y(L);const O=D.currentChar();switch(O){case"{":return re(D,L)||y(L);case"}":return h(5,s(),0),D.next(),p(L,3,"}");case"@":return ie(D,L)||y(L);default:if(P(D))return A=p(L,1,ce(D)),L.braceNest=0,L.inLinked=!1,A;if(me(D))return p(L,0,De(D));if(O==="%")return D.next(),p(L,4,"%");break}return A}function Ye(){const{currentType:D,offset:L,startLoc:A,endLoc:O}=f;return f.lastType=D,f.lastOffset=L,f.lastStartLoc=A,f.lastEndLoc=O,f.offset=o(),f.startLoc=s(),r.currentChar()===Hi?p(f,14):je(r,f)}return{nextToken:Ye,currentOffset:o,currentPosition:s,context:d}}const QK="parser",JK=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function ZK(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"\uFFFD"}}}function eW(e={}){const t=e.location!==!1,{onError:n}=e;function r(I,C,N,k,...j){const M=I.currentPosition();if(M.offset+=k,M.column+=k,n){const q=ey(N,M),$=Vd(C,q,{domain:QK,args:j});n($)}}function o(I,C,N){const k={type:I,start:C,end:C};return t&&(k.loc={start:N,end:N}),k}function s(I,C,N,k){I.end=C,k&&(I.type=k),t&&I.loc&&(I.loc.end=N)}function u(I,C){const N=I.context(),k=o(3,N.offset,N.startLoc);return k.value=C,s(k,I.currentOffset(),I.currentPosition()),k}function c(I,C){const N=I.context(),{lastOffset:k,lastStartLoc:j}=N,M=o(5,k,j);return M.index=parseInt(C,10),I.nextToken(),s(M,I.currentOffset(),I.currentPosition()),M}function f(I,C){const N=I.context(),{lastOffset:k,lastStartLoc:j}=N,M=o(4,k,j);return M.key=C,I.nextToken(),s(M,I.currentOffset(),I.currentPosition()),M}function d(I,C){const N=I.context(),{lastOffset:k,lastStartLoc:j}=N,M=o(9,k,j);return M.value=C.replace(JK,ZK),I.nextToken(),s(M,I.currentOffset(),I.currentPosition()),M}function g(I){const C=I.nextToken(),N=I.context(),{lastOffset:k,lastStartLoc:j}=N,M=o(8,k,j);return C.type!==12?(r(I,11,N.lastStartLoc,0),M.value="",s(M,k,j),{nextConsumeToken:C,node:M}):(C.value==null&&r(I,13,N.lastStartLoc,0,Wr(C)),M.value=C.value||"",s(M,I.currentOffset(),I.currentPosition()),{node:M})}function h(I,C){const N=I.context(),k=o(7,N.offset,N.startLoc);return k.value=C,s(k,I.currentOffset(),I.currentPosition()),k}function p(I){const C=I.context(),N=o(6,C.offset,C.startLoc);let k=I.nextToken();if(k.type===9){const j=g(I);N.modifier=j.node,k=j.nextConsumeToken||I.nextToken()}switch(k.type!==10&&r(I,13,C.lastStartLoc,0,Wr(k)),k=I.nextToken(),k.type===2&&(k=I.nextToken()),k.type){case 11:k.value==null&&r(I,13,C.lastStartLoc,0,Wr(k)),N.key=h(I,k.value||"");break;case 5:k.value==null&&r(I,13,C.lastStartLoc,0,Wr(k)),N.key=f(I,k.value||"");break;case 6:k.value==null&&r(I,13,C.lastStartLoc,0,Wr(k)),N.key=c(I,k.value||"");break;case 7:k.value==null&&r(I,13,C.lastStartLoc,0,Wr(k)),N.key=d(I,k.value||"");break;default:r(I,12,C.lastStartLoc,0);const j=I.context(),M=o(7,j.offset,j.startLoc);return M.value="",s(M,j.offset,j.startLoc),N.key=M,s(N,j.offset,j.startLoc),{nextConsumeToken:k,node:N}}return s(N,I.currentOffset(),I.currentPosition()),{node:N}}function y(I){const C=I.context(),N=C.currentType===1?I.currentOffset():C.offset,k=C.currentType===1?C.endLoc:C.startLoc,j=o(2,N,k);j.items=[];let M=null;do{const z=M||I.nextToken();switch(M=null,z.type){case 0:z.value==null&&r(I,13,C.lastStartLoc,0,Wr(z)),j.items.push(u(I,z.value||""));break;case 6:z.value==null&&r(I,13,C.lastStartLoc,0,Wr(z)),j.items.push(c(I,z.value||""));break;case 5:z.value==null&&r(I,13,C.lastStartLoc,0,Wr(z)),j.items.push(f(I,z.value||""));break;case 7:z.value==null&&r(I,13,C.lastStartLoc,0,Wr(z)),j.items.push(d(I,z.value||""));break;case 8:const P=p(I);j.items.push(P.node),M=P.nextConsumeToken||null;break}}while(C.currentType!==14&&C.currentType!==1);const q=C.currentType===1?C.lastOffset:I.currentOffset(),$=C.currentType===1?C.lastEndLoc:I.currentPosition();return s(j,q,$),j}function b(I,C,N,k){const j=I.context();let M=k.items.length===0;const q=o(1,C,N);q.cases=[],q.cases.push(k);do{const $=y(I);M||(M=$.items.length===0),q.cases.push($)}while(j.currentType!==14);return M&&r(I,10,N,0),s(q,I.currentOffset(),I.currentPosition()),q}function T(I){const C=I.context(),{offset:N,startLoc:k}=C,j=y(I);return C.currentType===14?j:b(I,N,k,j)}function E(I){const C=XK(I,tn({},e)),N=C.context(),k=o(0,N.offset,N.startLoc);return t&&k.loc&&(k.loc.source=I),k.body=T(C),N.currentType!==14&&r(C,13,N.lastStartLoc,0,I[N.offset]||""),s(k,C.currentOffset(),C.currentPosition()),k}return{parse:E}}function Wr(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"\u2026":t}function tW(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function L1(e,t){for(let n=0;n<e.length;n++)t0(e[n],t)}function t0(e,t){switch(e.type){case 1:L1(e.cases,t),t.helper("plural");break;case 2:L1(e.items,t);break;case 6:t0(e.key,t),t.helper("linked");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function nW(e,t={}){const n=tW(e);n.helper("normalize"),e.body&&t0(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function rW(e,t){const{sourceMap:n,filename:r,breakLineCode:o,needIndent:s}=t,u={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:s,indentLevel:0},c=()=>u;function f(T,E){u.code+=T}function d(T,E=!0){const I=E?o:"";f(s?I+"  ".repeat(T):I)}function g(T=!0){const E=++u.indentLevel;T&&d(E)}function h(T=!0){const E=--u.indentLevel;T&&d(E)}function p(){d(u.indentLevel)}return{context:c,push:f,indent:g,deindent:h,newline:p,helper:T=>`_${T}`,needIndent:()=>u.needIndent}}function iW(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),qa(e,t.key),t.modifier&&(e.push(", "),qa(e,t.modifier)),e.push(")")}function oW(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let s=0;s<o&&(qa(e,t.items[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function sW(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let s=0;s<o&&(qa(e,t.cases[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function aW(e,t){t.body?qa(e,t.body):e.push("null")}function qa(e,t){const{helper:n}=e;switch(t.type){case 0:aW(e,t);break;case 1:sW(e,t);break;case 2:oW(e,t);break;case 6:iW(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const uW=(e,t={})=>{const n=ve(t.mode)?t.mode:"normal",r=ve(t.filename)?t.filename:"message.intl",o=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,u=t.needIndent?t.needIndent:n!=="arrow",c=e.helpers||[],f=rW(e,{mode:n,filename:r,sourceMap:o,breakLineCode:s,needIndent:u});f.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),f.indent(u),c.length>0&&(f.push(`const { ${c.map(h=>`${h}: _${h}`).join(", ")} } = ctx`),f.newline()),f.push("return "),qa(f,e),f.deindent(u),f.push("}");const{code:d,map:g}=f.context();return{ast:e,code:d,map:g?g.toJSON():void 0}};function cW(e,t={}){const n=tn({},t),o=eW(n).parse(e);return nW(o,n),uW(o,n)}/*!
  * @intlify/devtools-if v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const uO={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */let Bc=null;function lW(e){Bc=e}function fW(e,t,n){Bc&&Bc.emit(uO.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}const hW=dW(uO.FunctionTranslate);function dW(e){return t=>Bc&&Bc.emit(e,t)}const pW="9.1.10",Ud=-1,F1="";function mW(){return{upper:e=>ve(e)?e.toUpperCase():e,lower:e=>ve(e)?e.toLowerCase():e,capitalize:e=>ve(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}let cO;function gW(e){cO=e}let lO=null;const M1=e=>{lO=e},vW=()=>lO;let V1=0;function yW(e={}){const t=ve(e.version)?e.version:pW,n=ve(e.locale)?e.locale:"en-US",r=Mt(e.fallbackLocale)||Ue(e.fallbackLocale)||ve(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,o=Ue(e.messages)?e.messages:{[n]:{}},s=Ue(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},u=Ue(e.numberFormats)?e.numberFormats:{[n]:{}},c=tn({},e.modifiers||{},mW()),f=e.pluralRules||{},d=sn(e.missing)?e.missing:null,g=ct(e.missingWarn)||$a(e.missingWarn)?e.missingWarn:!0,h=ct(e.fallbackWarn)||$a(e.fallbackWarn)?e.fallbackWarn:!0,p=!!e.fallbackFormat,y=!!e.unresolving,b=sn(e.postTranslation)?e.postTranslation:null,T=Ue(e.processor)?e.processor:null,E=ct(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter,C=sn(e.messageCompiler)?e.messageCompiler:cO,N=sn(e.onWarn)?e.onWarn:EK,k=e,j=Fn(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,M=Fn(k.__numberFormatters)?k.__numberFormatters:new Map,q=Fn(k.__meta)?k.__meta:{};V1++;const $={version:t,cid:V1,locale:n,fallbackLocale:r,messages:o,datetimeFormats:s,numberFormats:u,modifiers:c,pluralRules:f,missing:d,missingWarn:g,fallbackWarn:h,fallbackFormat:p,unresolving:y,postTranslation:b,processor:T,warnHtmlMessage:E,escapeParameter:I,messageCompiler:C,onWarn:N,__datetimeFormatters:j,__numberFormatters:M,__meta:q};return __INTLIFY_PROD_DEVTOOLS__&&fW($,t,q),$}function n0(e,t,n,r,o){const{missing:s,onWarn:u}=e;if(s!==null){const c=s(e,n,t,o);return ve(c)?c:t}else return t}function dl(e,t,n){const r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let o=r.__localeChainCache.get(n);if(!o){o=[];let s=[n];for(;Mt(s);)s=U1(o,s,t);const u=Mt(t)?t:Ue(t)?t.default?t.default:null:t;s=ve(u)?[u]:u,Mt(s)&&U1(o,s,!1),r.__localeChainCache.set(n,o)}return o}function U1(e,t,n){let r=!0;for(let o=0;o<t.length&&ct(r);o++){const s=t[o];ve(s)&&(r=_W(e,t[o],n))}return r}function _W(e,t,n){let r;const o=t.split("-");do{const s=o.join("-");r=bW(e,s,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function bW(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(Mt(n)||Ue(n))&&n[o]&&(r=n[o])}return r}function Wu(e,t,n){const r=e;r.__localeChainCache=new Map,dl(e,n,t)}const wW=e=>e;let j1=Object.create(null);function IW(e,t={}){{const r=(t.onCacheKey||wW)(e),o=j1[r];if(o)return o;let s=!1;const u=t.onError||qK;t.onError=d=>{s=!0,u(d)};const{code:c}=cW(e,t),f=new Function(`return ${c}`)();return s?f:j1[r]=f}}function fa(e){return Vd(e,null,void 0)}const B1=()=>"",Xr=e=>sn(e);function $1(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,fallbackLocale:s,messages:u}=e,[c,f]=ty(...t),d=ct(f.missingWarn)?f.missingWarn:e.missingWarn,g=ct(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn,h=ct(f.escapeParameter)?f.escapeParameter:e.escapeParameter,p=!!f.resolvedMessage,y=ve(f.default)||ct(f.default)?ct(f.default)?c:f.default:n?c:"",b=n||y!=="",T=ve(f.locale)?f.locale:e.locale;h&&TW(f);let[E,I,C]=p?[c,T,u[T]||{}]:EW(e,c,T,s,g,d),N=c;if(!p&&!(ve(E)||Xr(E))&&b&&(E=y,N=E),!p&&(!(ve(E)||Xr(E))||!ve(I)))return o?Ud:c;let k=!1;const j=()=>{k=!0},M=Xr(E)?E:fO(e,c,I,E,N,j);if(k)return E;const q=kW(e,I,C,f),$=$K(q),z=SW(e,M,$),P=r?r(z):z;if(__INTLIFY_PROD_DEVTOOLS__){const me={timestamp:Date.now(),key:ve(c)?c:Xr(E)?E.key:"",locale:I||(Xr(E)?E.locale:""),format:ve(E)?E:Xr(E)?E.source:"",message:P};me.meta=tn({},e.__meta,vW()||{}),hW(me)}return P}function TW(e){Mt(e.list)?e.list=e.list.map(t=>ve(t)?x1(t):t):Fn(e.named)&&Object.keys(e.named).forEach(t=>{ve(e.named[t])&&(e.named[t]=x1(e.named[t]))})}function EW(e,t,n,r,o,s){const{messages:u,onWarn:c}=e,f=dl(e,r,n);let d={},g,h=null;const p="translate";for(let y=0;y<f.length&&(g=f[y],d=u[g]||{},(h=Rh(d,t))===null&&(h=d[t]),!(ve(h)||sn(h)));y++){const b=n0(e,t,g,s,p);b!==t&&(h=b)}return[h,g,d]}function fO(e,t,n,r,o,s){const{messageCompiler:u,warnHtmlMessage:c}=e;if(Xr(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||t,d}const f=u(r,AW(e,n,o,r,c,s));return f.locale=n,f.key=t,f.source=r,f}function SW(e,t,n){return t(n)}function ty(...e){const[t,n,r]=e,o={};if(!ve(t)&&!en(t)&&!Xr(t))throw fa(14);const s=en(t)?String(t):(Xr(t),t);return en(n)?o.plural=n:ve(n)?o.default=n:Ue(n)&&!Md(n)?o.named=n:Mt(n)&&(o.list=n),en(r)?o.plural=r:ve(r)?o.default=r:Ue(r)&&tn(o,r),[s,o]}function AW(e,t,n,r,o,s){return{warnHtmlMessage:o,onError:u=>{throw s&&s(u),u},onCacheKey:u=>wK(t,n,u)}}function kW(e,t,n,r){const{modifiers:o,pluralRules:s}=e,c={locale:t,modifiers:o,pluralRules:s,messages:f=>{const d=Rh(n,f);if(ve(d)){let g=!1;const p=fO(e,f,t,d,f,()=>{g=!0});return g?B1:p}else return Xr(d)?d:B1}};return e.processor&&(c.processor=e.processor),r.list&&(c.list=r.list),r.named&&(c.named=r.named),en(r.plural)&&(c.pluralIndex=r.plural),c}function q1(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:s}=e,{__datetimeFormatters:u}=e,[c,f,d,g]=ny(...t),h=ct(d.missingWarn)?d.missingWarn:e.missingWarn;ct(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const p=!!d.part,y=ve(d.locale)?d.locale:e.locale,b=dl(e,o,y);if(!ve(c)||c==="")return new Intl.DateTimeFormat(y).format(f);let T={},E,I=null;const C="datetime format";for(let j=0;j<b.length&&(E=b[j],T=n[E]||{},I=T[c],!Ue(I));j++)n0(e,c,E,h,C);if(!Ue(I)||!ve(E))return r?Ud:c;let N=`${E}__${c}`;Md(g)||(N=`${N}__${JSON.stringify(g)}`);let k=u.get(N);return k||(k=new Intl.DateTimeFormat(E,tn({},I,g)),u.set(N,k)),p?k.formatToParts(f):k.format(f)}function ny(...e){const[t,n,r,o]=e;let s={},u={},c;if(ve(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw fa(16);c=new Date(t);try{c.toISOString()}catch{throw fa(16)}}else if(TK(t)){if(isNaN(t.getTime()))throw fa(15);c=t}else if(en(t))c=t;else throw fa(14);return ve(n)?s.key=n:Ue(n)&&(s=n),ve(r)?s.locale=r:Ue(r)&&(u=r),Ue(o)&&(u=o),[s.key||"",c,s,u]}function H1(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;!r.__datetimeFormatters.has(s)||r.__datetimeFormatters.delete(s)}}function K1(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:s}=e,{__numberFormatters:u}=e,[c,f,d,g]=ry(...t),h=ct(d.missingWarn)?d.missingWarn:e.missingWarn;ct(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const p=!!d.part,y=ve(d.locale)?d.locale:e.locale,b=dl(e,o,y);if(!ve(c)||c==="")return new Intl.NumberFormat(y).format(f);let T={},E,I=null;const C="number format";for(let j=0;j<b.length&&(E=b[j],T=n[E]||{},I=T[c],!Ue(I));j++)n0(e,c,E,h,C);if(!Ue(I)||!ve(E))return r?Ud:c;let N=`${E}__${c}`;Md(g)||(N=`${N}__${JSON.stringify(g)}`);let k=u.get(N);return k||(k=new Intl.NumberFormat(E,tn({},I,g)),u.set(N,k)),p?k.formatToParts(f):k.format(f)}function ry(...e){const[t,n,r,o]=e;let s={},u={};if(!en(t))throw fa(14);const c=t;return ve(n)?s.key=n:Ue(n)&&(s=n),ve(r)?s.locale=r:Ue(r)&&(u=r),Ue(o)&&(u=o),[s.key||"",c,s,u]}function W1(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;!r.__numberFormatters.has(s)||r.__numberFormatters.delete(s)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(dc().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const CW="9.1.10";function NW(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(dc().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(dc().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(dc().__INTLIFY_PROD_DEVTOOLS__=!1)}function _n(e,...t){return Vd(e,null,void 0)}const Kg="__INTLIFY_META__",iy=ki("__transrateVNode"),oy=ki("__datetimeParts"),sy=ki("__numberParts");ki("__enableEmitter");ki("__disableEmitter");const hO=ki("__setPluralRules");ki("__intlifyMeta");const dO=ki("__injectWithOption");let G1=0;function z1(e){return(t,n,r,o)=>e(n,r,ri()||void 0,o)}function r0(e,t){const{messages:n,__i18n:r}=t,o=Ue(n)?n:Mt(r)?{}:{[e]:{}};if(Mt(r)&&r.forEach(({locale:s,resource:u})=>{s?(o[s]=o[s]||{},Ph(u,o[s])):Ph(u,o)}),t.flatJson)for(const s in o)sO(o,s)&&Zv(o[s]);return o}const Lf=e=>!Fn(e)||Mt(e);function Ph(e,t){if(Lf(e)||Lf(t))throw _n(20);for(const n in e)sO(e,n)&&(Lf(e[n])||Lf(t[n])?t[n]=e[n]:Ph(e[n],t[n]))}const OW=()=>{const e=ri();return e&&e.type[Kg]?{[Kg]:e.type[Kg]}:null};function i0(e={}){const{__root:t}=e,n=t===void 0;let r=ct(e.inheritLocale)?e.inheritLocale:!0;const o=Jt(t&&r?t.locale.value:ve(e.locale)?e.locale:"en-US"),s=Jt(t&&r?t.fallbackLocale.value:ve(e.fallbackLocale)||Mt(e.fallbackLocale)||Ue(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o.value),u=Jt(r0(o.value,e)),c=Jt(Ue(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),f=Jt(Ue(e.numberFormats)?e.numberFormats:{[o.value]:{}});let d=t?t.missingWarn:ct(e.missingWarn)||$a(e.missingWarn)?e.missingWarn:!0,g=t?t.fallbackWarn:ct(e.fallbackWarn)||$a(e.fallbackWarn)?e.fallbackWarn:!0,h=t?t.fallbackRoot:ct(e.fallbackRoot)?e.fallbackRoot:!0,p=!!e.fallbackFormat,y=sn(e.missing)?e.missing:null,b=sn(e.missing)?z1(e.missing):null,T=sn(e.postTranslation)?e.postTranslation:null,E=ct(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter;const C=t?t.modifiers:Ue(e.modifiers)?e.modifiers:{};let N=e.pluralRules||t&&t.pluralRules,k;function j(){return yW({version:CW,locale:o.value,fallbackLocale:s.value,messages:u.value,datetimeFormats:c.value,numberFormats:f.value,modifiers:C,pluralRules:N,missing:b===null?void 0:b,missingWarn:d,fallbackWarn:g,fallbackFormat:p,unresolving:!0,postTranslation:T===null?void 0:T,warnHtmlMessage:E,escapeParameter:I,__datetimeFormatters:Ue(k)?k.__datetimeFormatters:void 0,__numberFormatters:Ue(k)?k.__numberFormatters:void 0,__v_emitter:Ue(k)?k.__v_emitter:void 0,__meta:{framework:"vue"}})}k=j(),Wu(k,o.value,s.value);function M(){return[o.value,s.value,u.value,c.value,f.value]}const q=Ge({get:()=>o.value,set:V=>{o.value=V,k.locale=o.value}}),$=Ge({get:()=>s.value,set:V=>{s.value=V,k.fallbackLocale=s.value,Wu(k,o.value,V)}}),z=Ge(()=>u.value),P=Ge(()=>c.value),me=Ge(()=>f.value);function ne(){return sn(T)?T:null}function Ne(V){T=V,k.postTranslation=V}function Oe(){return y}function Pe(V){V!==null&&(b=z1(V)),y=V,k.missing=b}function xe(V,U,le,se,de,Ee){M();let fe;if(__INTLIFY_PROD_DEVTOOLS__)try{M1(OW()),fe=V(k)}finally{M1(null)}else fe=V(k);if(en(fe)&&fe===Ud){const[Ze,ze]=U();return t&&h?se(t):de(Ze)}else{if(Ee(fe))return fe;throw _n(14)}}function De(...V){return xe(U=>$1(U,...V),()=>ty(...V),"translate",U=>U.t(...V),U=>U,U=>ve(U))}function Te(...V){const[U,le,se]=V;if(se&&!Fn(se))throw _n(15);return De(U,le,tn({resolvedMessage:!0},se||{}))}function rt(...V){return xe(U=>q1(U,...V),()=>ny(...V),"datetime format",U=>U.d(...V),()=>F1,U=>ve(U))}function bt(...V){return xe(U=>K1(U,...V),()=>ry(...V),"number format",U=>U.n(...V),()=>F1,U=>ve(U))}function pt(V){return V.map(U=>ve(U)?Se(_c,null,U,0):U)}const ue={normalize:pt,interpolate:V=>V,type:"vnode"};function $e(...V){return xe(U=>{let le;const se=U;try{se.processor=ue,le=$1(se,...V)}finally{se.processor=null}return le},()=>ty(...V),"translate",U=>U[iy](...V),U=>[Se(_c,null,U,0)],U=>Mt(U))}function Y(...V){return xe(U=>K1(U,...V),()=>ry(...V),"number format",U=>U[sy](...V),()=>[],U=>ve(U)||Mt(U))}function ce(...V){return xe(U=>q1(U,...V),()=>ny(...V),"datetime format",U=>U[oy](...V),()=>[],U=>ve(U)||Mt(U))}function re(V){N=V,k.pluralRules=N}function ie(V,U){const le=ve(U)?U:o.value,se=D(le);return Rh(se,V)!==null}function je(V){let U=null;const le=dl(k,s.value,o.value);for(let se=0;se<le.length;se++){const de=u.value[le[se]]||{},Ee=Rh(de,V);if(Ee!=null){U=Ee;break}}return U}function Ye(V){const U=je(V);return U!=null?U:t?t.tm(V)||{}:{}}function D(V){return u.value[V]||{}}function L(V,U){u.value[V]=U,k.messages=u.value}function A(V,U){u.value[V]=u.value[V]||{},Ph(U,u.value[V]),k.messages=u.value}function O(V){return c.value[V]||{}}function B(V,U){c.value[V]=U,k.datetimeFormats=c.value,H1(k,V,U)}function x(V,U){c.value[V]=tn(c.value[V]||{},U),k.datetimeFormats=c.value,H1(k,V,U)}function F(V){return f.value[V]||{}}function H(V,U){f.value[V]=U,k.numberFormats=f.value,W1(k,V,U)}function Q(V,U){f.value[V]=tn(f.value[V]||{},U),k.numberFormats=f.value,W1(k,V,U)}return G1++,t&&(un(t.locale,V=>{r&&(o.value=V,k.locale=V,Wu(k,o.value,s.value))}),un(t.fallbackLocale,V=>{r&&(s.value=V,k.fallbackLocale=V,Wu(k,o.value,s.value))})),{id:G1,locale:q,fallbackLocale:$,get inheritLocale(){return r},set inheritLocale(V){r=V,V&&t&&(o.value=t.locale.value,s.value=t.fallbackLocale.value,Wu(k,o.value,s.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:z,datetimeFormats:P,numberFormats:me,get modifiers(){return C},get pluralRules(){return N||{}},get isGlobal(){return n},get missingWarn(){return d},set missingWarn(V){d=V,k.missingWarn=d},get fallbackWarn(){return g},set fallbackWarn(V){g=V,k.fallbackWarn=g},get fallbackRoot(){return h},set fallbackRoot(V){h=V},get fallbackFormat(){return p},set fallbackFormat(V){p=V,k.fallbackFormat=p},get warnHtmlMessage(){return E},set warnHtmlMessage(V){E=V,k.warnHtmlMessage=V},get escapeParameter(){return I},set escapeParameter(V){I=V,k.escapeParameter=V},t:De,rt:Te,d:rt,n:bt,te:ie,tm:Ye,getLocaleMessage:D,setLocaleMessage:L,mergeLocaleMessage:A,getDateTimeFormat:O,setDateTimeFormat:B,mergeDateTimeFormat:x,getNumberFormat:F,setNumberFormat:H,mergeNumberFormat:Q,getPostTranslationHandler:ne,setPostTranslationHandler:Ne,getMissingHandler:Oe,setMissingHandler:Pe,[iy]:$e,[sy]:Y,[oy]:ce,[hO]:re,[dO]:e.__injectWithOption}}function xW(e){const t=ve(e.locale)?e.locale:"en-US",n=ve(e.fallbackLocale)||Mt(e.fallbackLocale)||Ue(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=sn(e.missing)?e.missing:void 0,o=ct(e.silentTranslationWarn)||$a(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=ct(e.silentFallbackWarn)||$a(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,u=ct(e.fallbackRoot)?e.fallbackRoot:!0,c=!!e.formatFallbackMessages,f=Ue(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,g=sn(e.postTranslation)?e.postTranslation:void 0,h=ve(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=ct(e.sync)?e.sync:!0;let b=e.messages;if(Ue(e.sharedMessages)){const j=e.sharedMessages;b=Object.keys(j).reduce((q,$)=>{const z=q[$]||(q[$]={});return tn(z,j[$]),q},b||{})}const{__i18n:T,__root:E,__injectWithOption:I}=e,C=e.datetimeFormats,N=e.numberFormats,k=e.flatJson;return{locale:t,fallbackLocale:n,messages:b,flatJson:k,datetimeFormats:C,numberFormats:N,missing:r,missingWarn:o,fallbackWarn:s,fallbackRoot:u,fallbackFormat:c,modifiers:f,pluralRules:d,postTranslation:g,warnHtmlMessage:h,escapeParameter:p,inheritLocale:y,__i18n:T,__root:E,__injectWithOption:I}}function ay(e={}){const t=i0(xW(e)),n={id:t.id,get locale(){return t.locale.value},set locale(r){t.locale.value=r},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(r){t.fallbackLocale.value=r},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(r){},get missing(){return t.getMissingHandler()},set missing(r){t.setMissingHandler(r)},get silentTranslationWarn(){return ct(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(r){t.missingWarn=ct(r)?!r:r},get silentFallbackWarn(){return ct(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(r){t.fallbackWarn=ct(r)?!r:r},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(r){t.fallbackFormat=r},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(r){t.setPostTranslationHandler(r)},get sync(){return t.inheritLocale},set sync(r){t.inheritLocale=r},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(r){t.warnHtmlMessage=r!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(r){t.escapeParameter=r},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(r){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...r){const[o,s,u]=r,c={};let f=null,d=null;if(!ve(o))throw _n(15);const g=o;return ve(s)?c.locale=s:Mt(s)?f=s:Ue(s)&&(d=s),Mt(u)?f=u:Ue(u)&&(d=u),t.t(g,f||d||{},c)},rt(...r){return t.rt(...r)},tc(...r){const[o,s,u]=r,c={plural:1};let f=null,d=null;if(!ve(o))throw _n(15);const g=o;return ve(s)?c.locale=s:en(s)?c.plural=s:Mt(s)?f=s:Ue(s)&&(d=s),ve(u)?c.locale=u:Mt(u)?f=u:Ue(u)&&(d=u),t.t(g,f||d||{},c)},te(r,o){return t.te(r,o)},tm(r){return t.tm(r)},getLocaleMessage(r){return t.getLocaleMessage(r)},setLocaleMessage(r,o){t.setLocaleMessage(r,o)},mergeLocaleMessage(r,o){t.mergeLocaleMessage(r,o)},d(...r){return t.d(...r)},getDateTimeFormat(r){return t.getDateTimeFormat(r)},setDateTimeFormat(r,o){t.setDateTimeFormat(r,o)},mergeDateTimeFormat(r,o){t.mergeDateTimeFormat(r,o)},n(...r){return t.n(...r)},getNumberFormat(r){return t.getNumberFormat(r)},setNumberFormat(r,o){t.setNumberFormat(r,o)},mergeNumberFormat(r,o){t.mergeNumberFormat(r,o)},getChoiceIndex(r,o){return-1},__onComponentInstanceCreated(r){const{componentInstanceCreatedListener:o}=e;o&&o(r,n)}};return n}const o0={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}},Y1={name:"i18n-t",props:tn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>en(e)||!isNaN(e)}},o0),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||s0({useScope:e.scope,__useComponent:!0}),s=Object.keys(n).filter(u=>u!=="_");return()=>{const u={};e.locale&&(u.locale=e.locale),e.plural!==void 0&&(u.plural=ve(e.plural)?+e.plural:e.plural);const c=RW(t,s),f=o[iy](e.keypath,c,u),d=tn({},r);return ve(e.tag)||Fn(e.tag)?ir(e.tag,d,f):ir(Ft,d,f)}}};function RW({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((n,r)=>{const o=e[r];return o&&(n[r]=o()),n},{})}function pO(e,t,n,r){const{slots:o,attrs:s}=t;return()=>{const u={part:!0};let c={};e.locale&&(u.locale=e.locale),ve(e.format)?u.key=e.format:Fn(e.format)&&(ve(e.format.key)&&(u.key=e.format.key),c=Object.keys(e.format).reduce((h,p)=>n.includes(p)?tn({},h,{[p]:e.format[p]}):h,{}));const f=r(e.value,u,c);let d=[u.key];Mt(f)?d=f.map((h,p)=>{const y=o[h.type];return y?y({[h.type]:h.value,index:p,parts:f}):[h.value]}):ve(f)&&(d=[f]);const g=tn({},s);return ve(e.tag)||Fn(e.tag)?ir(e.tag,g,d):ir(Ft,g,d)}}const PW=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],X1={name:"i18n-n",props:tn({value:{type:Number,required:!0},format:{type:[String,Object]}},o0),setup(e,t){const n=e.i18n||s0({useScope:"parent",__useComponent:!0});return pO(e,t,PW,(...r)=>n[sy](...r))}},DW=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],Q1={name:"i18n-d",props:tn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},o0),setup(e,t){const n=e.i18n||s0({useScope:"parent",__useComponent:!0});return pO(e,t,DW,(...r)=>n[oy](...r))}};function LW(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function FW(e){const t=(n,{instance:r,value:o,modifiers:s})=>{if(!r||!r.$)throw _n(22);const u=LW(e,r.$),c=MW(o);n.textContent=u.t(...VW(c))};return{beforeMount:t,beforeUpdate:t}}function MW(e){if(ve(e))return{path:e};if(Ue(e)){if(!("path"in e))throw _n(19,"path");return e}else throw _n(20)}function VW(e){const{path:t,locale:n,args:r,choice:o,plural:s}=e,u={},c=r||{};return ve(n)&&(u.locale=n),en(o)&&(u.plural=o),en(s)&&(u.plural=s),[t,c,u]}function UW(e,t,...n){const r=Ue(n[0])?n[0]:{},o=!!r.useI18nComponentName;(ct(r.globalInstall)?r.globalInstall:!0)&&(e.component(o?"i18n":Y1.name,Y1),e.component(X1.name,X1),e.component(Q1.name,Q1)),e.directive("t",FW(t))}function jW(e,t,n){return{beforeCreate(){const r=ri();if(!r)throw _n(22);const o=this.$options;if(o.i18n){const s=o.i18n;o.__i18n&&(s.__i18n=o.__i18n),s.__root=t,this===this.$root?this.$i18n=J1(e,s):(s.__injectWithOption=!0,this.$i18n=ay(s))}else o.__i18n?this===this.$root?this.$i18n=J1(e,o):this.$i18n=ay({__i18n:o.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,u)=>this.$i18n.te(s,u),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s)},mounted(){},beforeUnmount(){const r=ri();if(!r)throw _n(22);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(r),delete this.$i18n}}}function J1(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[hO](t.pluralizationRules||e.pluralizationRules);const n=r0(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}function BW(e={}){const t=__VUE_I18N_LEGACY_API__&&ct(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=!!e.globalInjection,r=new Map,o=__VUE_I18N_LEGACY_API__&&t?ay(e):i0(e),s=ki(""),u={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(c,...f){c.__VUE_I18N_SYMBOL__=s,c.provide(c.__VUE_I18N_SYMBOL__,u),!t&&n&&WW(c,u.global),__VUE_I18N_FULL_INSTALL__&&UW(c,u,...f),__VUE_I18N_LEGACY_API__&&t&&c.mixin(jW(o,o.__composer,u))},get global(){return o},__instances:r,__getInstance(c){return r.get(c)||null},__setInstance(c,f){r.set(c,f)},__deleteInstance(c){r.delete(c)}};return u}function s0(e={}){const t=ri();if(t==null)throw _n(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw _n(17);const n=yr(t.appContext.app.__VUE_I18N_SYMBOL__);if(!n)throw _n(22);const r=n.mode==="composition"?n.global:n.global.__composer,o=Md(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(o==="global"){let c=Fn(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(c=r0(r.locale.value,{messages:c,__i18n:t.type.__i18nGlobal}));const f=Object.keys(c);if(f.length&&f.forEach(d=>{r.mergeLocaleMessage(d,c[d])}),Fn(e.datetimeFormats)){const d=Object.keys(e.datetimeFormats);d.length&&d.forEach(g=>{r.mergeDateTimeFormat(g,e.datetimeFormats[g])})}if(Fn(e.numberFormats)){const d=Object.keys(e.numberFormats);d.length&&d.forEach(g=>{r.mergeNumberFormat(g,e.numberFormats[g])})}return r}if(o==="parent"){let c=$W(n,t,e.__useComponent);return c==null&&(c=r),c}if(n.mode==="legacy")throw _n(18);const s=n;let u=s.__getInstance(t);if(u==null){const c=t.type,f=tn({},e);c.__i18n&&(f.__i18n=c.__i18n),r&&(f.__root=r),u=i0(f),qW(s,t),s.__setInstance(t,u)}return u}function $W(e,t,n=!1){let r=null;const o=t.root;let s=t.parent;for(;s!=null;){const u=e;if(e.mode==="composition")r=u.__getInstance(s);else{const c=u.__getInstance(s);c!=null&&(r=c.__composer),n&&r&&!r[dO]&&(r=null)}if(r!=null||o===s)break;s=s.parent}return r}function qW(e,t,n){qc(()=>{},t),Wh(()=>{e.__deleteInstance(t)},t)}const HW=["locale","fallbackLocale","availableLocales"],KW=["t","rt","d","n","tm"];function WW(e,t){const n=Object.create(null);HW.forEach(r=>{const o=Object.getOwnPropertyDescriptor(t,r);if(!o)throw _n(22);const s=dt(o.value)?{get(){return o.value.value},set(u){o.value.value=u}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,r,s)}),e.config.globalProperties.$i18n=n,KW.forEach(r=>{const o=Object.getOwnPropertyDescriptor(t,r);if(!o||!o.value)throw _n(22);Object.defineProperty(e.config.globalProperties,`$${r}`,o)})}gW(IW);NW();if(__INTLIFY_PROD_DEVTOOLS__){const e=dc();e.__INTLIFY__=!0,lW(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const GW={listen:"Listen to Great Music!"},zW={comment_count:"No comments | 1 comment | {count} comments"},YW={accept:"I accept Music's {0}",tos:"Terms of Service"},XW={my_songs:"My Songs"},QW={home:GW,song:zW,register:YW,manage:XW},JW={listen:"\xC9coutez de la bonne musique!"},ZW={my_songs:"Mes chansons"},e6={home:JW,manage:ZW},t6=BW({locale:"en",fallbackLocale:"en",messages:{en:QW,fr:e6},numberFormats:{en:{currency:{style:"currency",currency:"USD"}},ja:{currency:{style:"currency",currency:"JPY"}}}});try{self["workbox:window:6.5.2"]&&_()}catch{}function Z1(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(o){n(o.data)},e.postMessage(t,[r.port2])})}function n6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r6(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(o,s){if(o){if(typeof o=="string")return eS(o,s);var u=Object.prototype.toString.call(o).slice(8,-1);return u==="Object"&&o.constructor&&(u=o.constructor.name),u==="Map"||u==="Set"?Array.from(o):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?eS(o,s):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Wg=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Gg(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var Gu=function(e,t){this.type=e,Object.assign(this,t)};function Ff(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function i6(){}var o6={type:"SKIP_WAITING"};function tS(e,t){if(!t)return e&&e.then?e.then(i6):Promise.resolve()}var s6=function(e){var t,n;function r(c,f){var d,g;return f===void 0&&(f={}),(d=e.call(this)||this).nn={},d.tn=0,d.rn=new Wg,d.en=new Wg,d.on=new Wg,d.un=0,d.an=new Set,d.cn=function(){var h=d.fn,p=h.installing;d.tn>0||!Gg(p.scriptURL,d.sn.toString())||performance.now()>d.un+6e4?(d.vn=p,h.removeEventListener("updatefound",d.cn)):(d.hn=p,d.an.add(p),d.rn.resolve(p)),++d.tn,p.addEventListener("statechange",d.ln)},d.ln=function(h){var p=d.fn,y=h.target,b=y.state,T=y===d.vn,E={sw:y,isExternal:T,originalEvent:h};!T&&d.mn&&(E.isUpdate=!0),d.dispatchEvent(new Gu(b,E)),b==="installed"?d.wn=self.setTimeout(function(){b==="installed"&&p.waiting===y&&d.dispatchEvent(new Gu("waiting",E))},200):b==="activating"&&(clearTimeout(d.wn),T||d.en.resolve(y))},d.dn=function(h){var p=d.hn,y=p!==navigator.serviceWorker.controller;d.dispatchEvent(new Gu("controlling",{isExternal:y,originalEvent:h,sw:p,isUpdate:d.mn})),y||d.on.resolve(p)},d.gn=(g=function(h){var p=h.data,y=h.ports,b=h.source;return Ff(d.getSW(),function(){d.an.has(b)&&d.dispatchEvent(new Gu("message",{data:p,originalEvent:h,ports:y,sw:b}))})},function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];try{return Promise.resolve(g.apply(this,h))}catch(y){return Promise.reject(y)}}),d.sn=c,d.nn=f,navigator.serviceWorker.addEventListener("message",d.gn),d}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,s,u=r.prototype;return u.register=function(c){var f=(c===void 0?{}:c).immediate,d=f!==void 0&&f;try{var g=this;return function(h,p){var y=h();return y&&y.then?y.then(p):p(y)}(function(){if(!d&&document.readyState!=="complete")return tS(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return g.mn=Boolean(navigator.serviceWorker.controller),g.yn=g.pn(),Ff(g.bn(),function(h){g.fn=h,g.yn&&(g.hn=g.yn,g.en.resolve(g.yn),g.on.resolve(g.yn),g.yn.addEventListener("statechange",g.ln,{once:!0}));var p=g.fn.waiting;return p&&Gg(p.scriptURL,g.sn.toString())&&(g.hn=p,Promise.resolve().then(function(){g.dispatchEvent(new Gu("waiting",{sw:p,wasWaitingBeforeRegister:!0}))}).then(function(){})),g.hn&&(g.rn.resolve(g.hn),g.an.add(g.hn)),g.fn.addEventListener("updatefound",g.cn),navigator.serviceWorker.addEventListener("controllerchange",g.dn),g.fn})})}catch(h){return Promise.reject(h)}},u.update=function(){try{return this.fn?tS(this.fn.update()):void 0}catch(c){return Promise.reject(c)}},u.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},u.messageSW=function(c){try{return Ff(this.getSW(),function(f){return Z1(f,c)})}catch(f){return Promise.reject(f)}},u.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Z1(this.fn.waiting,o6)},u.pn=function(){var c=navigator.serviceWorker.controller;return c&&Gg(c.scriptURL,this.sn.toString())?c:void 0},u.bn=function(){try{var c=this;return function(f,d){try{var g=f()}catch(h){return d(h)}return g&&g.then?g.then(void 0,d):g}(function(){return Ff(navigator.serviceWorker.register(c.sn,c.nn),function(f){return c.un=performance.now(),f})},function(f){throw f})}catch(f){return Promise.reject(f)}},o=r,(s=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&n6(o.prototype,s),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,o=r6(this.Sn(n.type));!(r=o()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function a6(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisterError:s}=e;let u;const c=async(f=!0)=>{};return"serviceWorker"in navigator&&(u=new s6("/sw.js",{scope:"/",type:"classic"}),u.addEventListener("activated",f=>{f.isUpdate?window.location.reload():r==null||r()}),u.register({immediate:t}).then(f=>{o==null||o(f)}).catch(f=>{s==null||s(f)})),c}a6({immediate:!0});let Ki;ti.onAuthStateChanged(()=>{Ki||(Ki=UF(Rq),Ki.use($F()),Ki.use($N),Ki.use(yK),Ki.use(t6),Ki.directive("icon",_K),Ki.mount("#app"))});
